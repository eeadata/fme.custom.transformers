#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN "Tempita templater",1,Strings,826680b9-ec47-474b-b333-67e96d207493,"Linked by Default",No,NO_PARALLELISM,,No,16177,YES,No
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# 
# TRANSFORMER_END
#!   DOC_EXTENTS="6586.56 888.383"
#!   LAST_SAVE_BUILD="FME(R) 2016.0.1.1 (20160224 - Build 16177 - WIN64)"
#!   SHOW_INFO_NODES="true"
#!   MAX_LOOP_ITERATIONS=""
#!   FME_DOCUMENT_GUID="826680b9-ec47-474b-b333-67e96d207493"
#!   PASSWORD=""
#!   DESCRIPTION="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   VIEW_POSITION="-2628.15 1125.01"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   USAGE="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_DOCUMENT_PRIORGUID=""
#!   DOC_TOP_LEFT="-2181.27 -522.504"
#!   LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   FME_BUILD_NUM="16177"
#!   FMX_INSERT_MODE="Linked by Default"
#!   TITLE="Tempita templater"
#!   ATTR_TYPE_ENCODING="SDF"
#!   SHOW_ANNOTATIONS="true"
#!   WORKSPACE_VERSION="1"
#!   BLOCKED_LOOPING="No"
#!   XFORM_DEPRECATED="No"
#!   REQUIREMENTS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   ZOOM_SCALE="100"
#!   FME_LINKED_TRANSFORMER_VERSION="1"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   HISTORY=""
#!   FME_PROCESS_GROUP_BY=""
#!   REQUIREMENTS_KEYWORD="none"
#!   FME_SERVER_SERVICES=""
#!   ITERATION_COUNT_ATTR=""
#!   CATEGORY="Strings"
#!   LAST_SAVE_DATE="2016-09-20T09:07:28"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL FILENAME_MUSTEXIST_OR_ATTR TEMPLATE_FILE All_files|*|HTML_files|*.html;*.htm|HTML_templates|*.thtml;*.thtm Select the Tempita template file:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="3"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="455.254 -125.001"
#!   BOUNDING_RECT="455.254 -125.001 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaTemplateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;fme&lt;lf&gt;import&lt;space&gt;fmeobjects&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;#this&lt;space&gt;conditional&lt;space&gt;ensures&lt;space&gt;that&lt;space&gt;functions&lt;space&gt;are&lt;space&gt;only&lt;space&gt;declared&lt;space&gt;once&lt;lf&gt;if&lt;space&gt;not&lt;space&gt;&lt;apos&gt;CompiledTemplates&lt;apos&gt;&lt;space&gt;in&lt;space&gt;globals&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;&lt;quote&gt;&lt;at&gt;&lt;space&gt;First&lt;space&gt;time&lt;space&gt;Tempita.&lt;space&gt;Declare&lt;space&gt;classes&lt;space&gt;and&lt;space&gt;global&lt;space&gt;template&lt;space&gt;dictionaries&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;This&lt;space&gt;will&lt;space&gt;store&lt;space&gt;compiled&lt;space&gt;Tempita&lt;space&gt;binary&lt;space&gt;templates&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;CompiledTemplates&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;This&lt;space&gt;will&lt;space&gt;store&lt;space&gt;output&lt;space&gt;for&lt;space&gt;different&lt;space&gt;instances&lt;space&gt;of&lt;space&gt;the&lt;space&gt;transformer&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TempitaOutputs&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Refrito&lt;space&gt;a&lt;space&gt;manija&lt;space&gt;de&lt;space&gt;los&lt;space&gt;4&lt;space&gt;archivos&lt;space&gt;de&lt;space&gt;tempita&lt;comma&gt;&lt;space&gt;para&lt;space&gt;que&lt;space&gt;entren&lt;space&gt;en&lt;space&gt;un&lt;space&gt;pythoncaller&lt;space&gt;sin&lt;space&gt;dar&lt;space&gt;por&lt;space&gt;el&lt;space&gt;saco&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;He&lt;space&gt;quitado&lt;space&gt;la&lt;space&gt;parte&lt;space&gt;de&lt;space&gt;fill_command&lt;comma&gt;&lt;space&gt;porque&lt;space&gt;creo&lt;space&gt;que&lt;space&gt;solo&lt;space&gt;es&lt;space&gt;para&lt;space&gt;invocar&lt;space&gt;por&lt;space&gt;consola&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Primero&lt;comma&gt;&lt;space&gt;todos&lt;space&gt;los&lt;space&gt;imports&lt;space&gt;externos&lt;space&gt;mergeados&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;cgi&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;os&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;re&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;sys&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;tokenize&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;urllib&lt;space&gt;import&lt;space&gt;quote&lt;space&gt;as&lt;space&gt;url_quote&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Ahora&lt;comma&gt;&lt;space&gt;compat3&lt;space&gt;-&lt;space&gt;en&lt;space&gt;realidad&lt;space&gt;no&lt;space&gt;haria&lt;space&gt;falta&lt;comma&gt;&lt;space&gt;porque&lt;comma&gt;&lt;space&gt;por&lt;space&gt;ahora&lt;comma&gt;&lt;space&gt;FME&lt;space&gt;usa&lt;space&gt;python&lt;space&gt;27&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;esto&lt;space&gt;equivale&lt;space&gt;a&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;tempita.compat3&lt;space&gt;import&lt;space&gt;bytes&lt;comma&gt;&lt;space&gt;basestring_&lt;comma&gt;&lt;space&gt;next&lt;comma&gt;&lt;space&gt;is_unicode&lt;comma&gt;&lt;space&gt;coerce_text&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;b&lt;space&gt;=&lt;space&gt;bytes&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;basestring_&lt;space&gt;=&lt;space&gt;basestring&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;b&lt;openparen&gt;s&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;s&lt;comma&gt;&lt;space&gt;str&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;s.encode&lt;openparen&gt;&lt;apos&gt;latin1&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;bytes&lt;openparen&gt;s&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;basestring_&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;bytes&lt;comma&gt;&lt;space&gt;str&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;bytes&lt;space&gt;=&lt;space&gt;bytes&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;text&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;next&lt;openparen&gt;obj&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;obj.next&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next&lt;space&gt;=&lt;space&gt;next&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;is_unicode&lt;openparen&gt;obj&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;isinstance&lt;openparen&gt;obj&lt;comma&gt;&lt;space&gt;unicode&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;is_unicode&lt;openparen&gt;obj&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;isinstance&lt;openparen&gt;obj&lt;comma&gt;&lt;space&gt;str&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;coerce_text&lt;openparen&gt;v&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;isinstance&lt;openparen&gt;v&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attr&lt;space&gt;=&lt;space&gt;&lt;apos&gt;__unicode__&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attr&lt;space&gt;=&lt;space&gt;&lt;apos&gt;__str__&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;hasattr&lt;openparen&gt;v&lt;comma&gt;&lt;space&gt;attr&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;unicode&lt;openparen&gt;v&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;bytes&lt;openparen&gt;v&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;v&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Del&lt;space&gt;__main__&lt;space&gt;pasamos&lt;space&gt;porque&lt;comma&gt;&lt;space&gt;one&lt;space&gt;more&lt;space&gt;time&lt;comma&gt;&lt;space&gt;no&lt;space&gt;hay&lt;space&gt;uso&lt;space&gt;desde&lt;space&gt;cmd&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Looper&lt;space&gt;-&lt;space&gt;tal&lt;space&gt;cual&lt;comma&gt;&lt;space&gt;porque&lt;space&gt;los&lt;space&gt;imports&lt;space&gt;usan&lt;space&gt;el&lt;space&gt;mismo&lt;space&gt;nombre&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;tempita._looper&lt;space&gt;import&lt;space&gt;looper&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;looper&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Helper&lt;space&gt;for&lt;space&gt;looping&lt;space&gt;&lt;openparen&gt;particularly&lt;space&gt;in&lt;space&gt;templates&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Use&lt;space&gt;this&lt;space&gt;like::&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;loop&lt;comma&gt;&lt;space&gt;item&lt;space&gt;in&lt;space&gt;looper&lt;openparen&gt;seq&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;loop.first:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;seq&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.seq&lt;space&gt;=&lt;space&gt;seq&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__iter__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;looper_iter&lt;openparen&gt;self.seq&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;for&lt;space&gt;%r&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__class__.__name__&lt;comma&gt;&lt;space&gt;self.seq&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;looper_iter&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;seq&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.seq&lt;space&gt;=&lt;space&gt;list&lt;openparen&gt;seq&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pos&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__iter__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__next__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.pos&lt;space&gt;&lt;gt&gt;=&lt;space&gt;len&lt;openparen&gt;self.seq&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;StopIteration&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;loop_pos&lt;openparen&gt;self.seq&lt;comma&gt;&lt;space&gt;self.pos&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;self.seq&lt;openbracket&gt;self.pos&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pos&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;result&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next&lt;space&gt;=&lt;space&gt;__next__&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;loop_pos&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;seq&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.seq&lt;space&gt;=&lt;space&gt;seq&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pos&lt;space&gt;=&lt;space&gt;pos&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;loop&lt;space&gt;pos=%r&lt;space&gt;at&lt;space&gt;%r&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.seq&lt;openbracket&gt;self.pos&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;self.pos&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;index&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.pos&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;index&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;index&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;number&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.pos&lt;space&gt;+&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;number&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;number&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;item&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.seq&lt;openbracket&gt;self.pos&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;item&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;item&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__next__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.seq&lt;openbracket&gt;self.pos&lt;space&gt;+&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;IndexError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__next__&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;__next__&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next&lt;space&gt;=&lt;space&gt;__next__&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;previous&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.pos&lt;space&gt;==&lt;space&gt;0:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.seq&lt;openbracket&gt;self.pos&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;previous&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;previous&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;odd&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;not&lt;space&gt;self.pos&lt;space&gt;%&lt;space&gt;2&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;odd&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;odd&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;even&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.pos&lt;space&gt;%&lt;space&gt;2&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;even&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;even&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;first&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.pos&lt;space&gt;==&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;first&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;last&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.pos&lt;space&gt;==&lt;space&gt;len&lt;openparen&gt;self.seq&lt;closeparen&gt;&lt;space&gt;-&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;last&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;length&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;len&lt;openparen&gt;self.seq&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;length&lt;space&gt;=&lt;space&gt;property&lt;openparen&gt;length&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;first_group&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;getter=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Returns&lt;space&gt;true&lt;space&gt;if&lt;space&gt;this&lt;space&gt;item&lt;space&gt;is&lt;space&gt;the&lt;space&gt;start&lt;space&gt;of&lt;space&gt;a&lt;space&gt;new&lt;space&gt;group&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;where&lt;space&gt;groups&lt;space&gt;mean&lt;space&gt;that&lt;space&gt;some&lt;space&gt;attribute&lt;space&gt;has&lt;space&gt;changed.&lt;space&gt;&lt;space&gt;The&lt;space&gt;getter&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;can&lt;space&gt;be&lt;space&gt;None&lt;space&gt;&lt;openparen&gt;the&lt;space&gt;item&lt;space&gt;itself&lt;space&gt;changes&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;an&lt;space&gt;attribute&lt;space&gt;name&lt;space&gt;like&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;``&lt;apos&gt;.attr&lt;apos&gt;``&lt;comma&gt;&lt;space&gt;a&lt;space&gt;function&lt;comma&gt;&lt;space&gt;or&lt;space&gt;a&lt;space&gt;dict&lt;space&gt;key&lt;space&gt;or&lt;space&gt;list&lt;space&gt;index.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.first:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self._compare_group&lt;openparen&gt;self.item&lt;comma&gt;&lt;space&gt;self.previous&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;last_group&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;getter=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Returns&lt;space&gt;true&lt;space&gt;if&lt;space&gt;this&lt;space&gt;item&lt;space&gt;is&lt;space&gt;the&lt;space&gt;end&lt;space&gt;of&lt;space&gt;a&lt;space&gt;new&lt;space&gt;group&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;where&lt;space&gt;groups&lt;space&gt;mean&lt;space&gt;that&lt;space&gt;some&lt;space&gt;attribute&lt;space&gt;has&lt;space&gt;changed.&lt;space&gt;&lt;space&gt;The&lt;space&gt;getter&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;can&lt;space&gt;be&lt;space&gt;None&lt;space&gt;&lt;openparen&gt;the&lt;space&gt;item&lt;space&gt;itself&lt;space&gt;changes&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;an&lt;space&gt;attribute&lt;space&gt;name&lt;space&gt;like&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;``&lt;apos&gt;.attr&lt;apos&gt;``&lt;comma&gt;&lt;space&gt;a&lt;space&gt;function&lt;comma&gt;&lt;space&gt;or&lt;space&gt;a&lt;space&gt;dict&lt;space&gt;key&lt;space&gt;or&lt;space&gt;list&lt;space&gt;index.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.last:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self._compare_group&lt;openparen&gt;self.item&lt;comma&gt;&lt;space&gt;self.__next__&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_compare_group&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;item&lt;comma&gt;&lt;space&gt;other&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;getter&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;item&lt;space&gt;!=&lt;space&gt;other&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;openparen&gt;isinstance&lt;openparen&gt;getter&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;getter.startswith&lt;openparen&gt;&lt;apos&gt;.&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;getter&lt;space&gt;=&lt;space&gt;getter&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;getter.endswith&lt;openparen&gt;&lt;apos&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;getter&lt;space&gt;=&lt;space&gt;getter&lt;openbracket&gt;:-2&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;getattr&lt;openparen&gt;item&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;getattr&lt;openparen&gt;other&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;getattr&lt;openparen&gt;item&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;getattr&lt;openparen&gt;other&lt;comma&gt;&lt;space&gt;getter&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;hasattr&lt;openparen&gt;getter&lt;comma&gt;&lt;space&gt;&lt;apos&gt;__call__&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;getter&lt;openparen&gt;item&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;getter&lt;openparen&gt;other&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;item&lt;openbracket&gt;getter&lt;closebracket&gt;&lt;space&gt;!=&lt;space&gt;other&lt;openbracket&gt;getter&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Esto&lt;space&gt;nos&lt;space&gt;sobra&lt;comma&gt;&lt;space&gt;porque&lt;space&gt;estamos&lt;space&gt;en&lt;space&gt;el&lt;space&gt;scope&lt;space&gt;global&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Hell&lt;space&gt;yea&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__all__&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;TemplateError&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;Template&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;sub&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;HTMLTemplate&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;sub_html&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;html&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;bunch&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;AQUI&lt;space&gt;EMPIEZA&lt;space&gt;TEMPITA&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;in_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;&lt;backslash&gt;s+in&lt;backslash&gt;s+&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;^&lt;openbracket&gt;a-z_&lt;closebracket&gt;&lt;openbracket&gt;a-z0-9_&lt;closebracket&gt;*&lt;dollar&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;re.I&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;TemplateError&lt;openparen&gt;Exception&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;Exception&lt;space&gt;raised&lt;space&gt;while&lt;space&gt;parsing&lt;space&gt;a&lt;space&gt;template&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;comma&gt;&lt;space&gt;position&lt;comma&gt;&lt;space&gt;name=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Exception.__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.position&lt;space&gt;=&lt;space&gt;position&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.name&lt;space&gt;=&lt;space&gt;name&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__str__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;space&gt;&lt;apos&gt;.join&lt;openparen&gt;self.args&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.position:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;space&gt;=&lt;space&gt;&lt;apos&gt;%s&lt;space&gt;at&lt;space&gt;line&lt;space&gt;%s&lt;space&gt;column&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;self.position&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;self.position&lt;openbracket&gt;1&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;space&gt;+=&lt;space&gt;&lt;apos&gt;&lt;space&gt;in&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;self.name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;msg&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;_TemplateContinue&lt;openparen&gt;Exception&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;_TemplateBreak&lt;openparen&gt;Exception&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;get_file_template&lt;openparen&gt;name&lt;comma&gt;&lt;space&gt;from_template&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;path&lt;space&gt;=&lt;space&gt;os.path.join&lt;openparen&gt;os.path.dirname&lt;openparen&gt;from_template.name&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;from_template.__class__.from_filename&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;path&lt;comma&gt;&lt;space&gt;namespace=from_template.namespace&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;get_template=from_template.get_template&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;Template&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_namespace&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;start_braces&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;end_braces&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;looper&lt;apos&gt;:&lt;space&gt;looper&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_encoding&lt;space&gt;=&lt;space&gt;&lt;apos&gt;utf8&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_inherit&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;content&lt;comma&gt;&lt;space&gt;name=None&lt;comma&gt;&lt;space&gt;namespace=None&lt;comma&gt;&lt;space&gt;stacklevel=None&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;get_template=None&lt;comma&gt;&lt;space&gt;default_inherit=None&lt;comma&gt;&lt;space&gt;line_offset=0&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiters=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.content&lt;space&gt;=&lt;space&gt;content&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;set&lt;space&gt;delimiters&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;delimiters&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiters&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;self.default_namespace&lt;openbracket&gt;&lt;apos&gt;start_braces&lt;apos&gt;&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.default_namespace&lt;openbracket&gt;&lt;apos&gt;end_braces&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;len&lt;openparen&gt;delimiters&lt;closeparen&gt;&lt;space&gt;==&lt;space&gt;2&lt;space&gt;and&lt;space&gt;all&lt;openparen&gt;&lt;openbracket&gt;isinstance&lt;openparen&gt;delimeter&lt;comma&gt;&lt;space&gt;basestring&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;delimeter&lt;space&gt;in&lt;space&gt;delimiters&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.default_namespace&lt;space&gt;=&lt;space&gt;self.__class__.default_namespace.copy&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.default_namespace&lt;openbracket&gt;&lt;apos&gt;start_braces&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;delimiters&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.default_namespace&lt;openbracket&gt;&lt;apos&gt;end_braces&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;delimiters&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.delimiters&lt;space&gt;=&lt;space&gt;delimiters&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._unicode&lt;space&gt;=&lt;space&gt;is_unicode&lt;openparen&gt;content&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;is&lt;space&gt;None&lt;space&gt;and&lt;space&gt;stacklevel&lt;space&gt;is&lt;space&gt;not&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;caller&lt;space&gt;=&lt;space&gt;sys._getframe&lt;openparen&gt;stacklevel&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;ValueError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;globals&lt;space&gt;=&lt;space&gt;caller.f_globals&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;lineno&lt;space&gt;=&lt;space&gt;caller.f_lineno&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;__file__&lt;apos&gt;&lt;space&gt;in&lt;space&gt;globals:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;globals&lt;openbracket&gt;&lt;apos&gt;__file__&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name.endswith&lt;openparen&gt;&lt;apos&gt;.pyc&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;or&lt;space&gt;name.endswith&lt;openparen&gt;&lt;apos&gt;.pyo&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;name&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;apos&gt;__name__&lt;apos&gt;&lt;space&gt;in&lt;space&gt;globals:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;globals&lt;openbracket&gt;&lt;apos&gt;__name__&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;lt&gt;string&lt;gt&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;lineno:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;+=&lt;space&gt;&lt;apos&gt;:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;lineno&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.name&lt;space&gt;=&lt;space&gt;name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._parsed&lt;space&gt;=&lt;space&gt;parse&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;name=name&lt;comma&gt;&lt;space&gt;line_offset=line_offset&lt;comma&gt;&lt;space&gt;delimiters=self.delimiters&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;namespace&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;namespace&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.namespace&lt;space&gt;=&lt;space&gt;namespace&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.get_template&lt;space&gt;=&lt;space&gt;get_template&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;default_inherit&lt;space&gt;is&lt;space&gt;not&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.default_inherit&lt;space&gt;=&lt;space&gt;default_inherit&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;from_filename&lt;openparen&gt;cls&lt;comma&gt;&lt;space&gt;filename&lt;comma&gt;&lt;space&gt;namespace=None&lt;comma&gt;&lt;space&gt;encoding=None&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_inherit=None&lt;comma&gt;&lt;space&gt;get_template=get_file_template&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;f&lt;space&gt;=&lt;space&gt;open&lt;openparen&gt;filename&lt;comma&gt;&lt;space&gt;&lt;apos&gt;rb&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;c&lt;space&gt;=&lt;space&gt;f.read&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;f.close&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;encoding:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;c&lt;space&gt;=&lt;space&gt;c.decode&lt;openparen&gt;encoding&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;cls&lt;openparen&gt;content=c&lt;comma&gt;&lt;space&gt;name=filename&lt;comma&gt;&lt;space&gt;namespace=namespace&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_inherit=default_inherit&lt;comma&gt;&lt;space&gt;get_template=get_template&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from_filename&lt;space&gt;=&lt;space&gt;classmethod&lt;openparen&gt;from_filename&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;%s&lt;space&gt;name=%r&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__class__.__name__&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;hex&lt;openparen&gt;id&lt;openparen&gt;self&lt;closeparen&gt;&lt;closeparen&gt;&lt;openbracket&gt;2:&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;self.name&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;substitute&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;*args&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;kw:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;You&lt;space&gt;can&lt;space&gt;only&lt;space&gt;give&lt;space&gt;positional&lt;space&gt;*or*&lt;space&gt;keyword&lt;space&gt;arguments&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;args&lt;closeparen&gt;&lt;space&gt;&lt;gt&gt;&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;You&lt;space&gt;can&lt;space&gt;only&lt;space&gt;give&lt;space&gt;one&lt;space&gt;positional&lt;space&gt;argument&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;hasattr&lt;openparen&gt;args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;items&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;If&lt;space&gt;you&lt;space&gt;pass&lt;space&gt;in&lt;space&gt;a&lt;space&gt;single&lt;space&gt;argument&lt;comma&gt;&lt;space&gt;you&lt;space&gt;must&lt;space&gt;pass&lt;space&gt;in&lt;space&gt;a&lt;space&gt;dictionary-like&lt;space&gt;object&lt;space&gt;&lt;openparen&gt;with&lt;space&gt;a&lt;space&gt;.items&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;method&lt;closeparen&gt;&lt;semicolon&gt;&lt;space&gt;you&lt;space&gt;gave&lt;space&gt;%r&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;kw&lt;space&gt;=&lt;space&gt;args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;space&gt;=&lt;space&gt;kw&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;&lt;apos&gt;__template_name__&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;self.name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.namespace:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns.update&lt;openparen&gt;self.namespace&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;comma&gt;&lt;space&gt;defs&lt;comma&gt;&lt;space&gt;inherit&lt;space&gt;=&lt;space&gt;self._interpret&lt;openparen&gt;ns&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;inherit:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;inherit&lt;space&gt;=&lt;space&gt;self.default_inherit&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;inherit:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;self._interpret_inherit&lt;openparen&gt;result&lt;comma&gt;&lt;space&gt;defs&lt;comma&gt;&lt;space&gt;inherit&lt;comma&gt;&lt;space&gt;ns&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;result&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;ns&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;defs&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_codes&lt;openparen&gt;self._parsed&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out=parts&lt;comma&gt;&lt;space&gt;defs=defs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;__inherit__&lt;apos&gt;&lt;space&gt;in&lt;space&gt;defs:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;inherit&lt;space&gt;=&lt;space&gt;defs.pop&lt;openparen&gt;&lt;apos&gt;__inherit__&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;inherit&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;parts&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;defs&lt;comma&gt;&lt;space&gt;inherit&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret_inherit&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;body&lt;comma&gt;&lt;space&gt;defs&lt;comma&gt;&lt;space&gt;inherit_template&lt;comma&gt;&lt;space&gt;ns&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;self.get_template:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;You&lt;space&gt;cannot&lt;space&gt;use&lt;space&gt;inheritance&lt;space&gt;without&lt;space&gt;passing&lt;space&gt;in&lt;space&gt;get_template&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=None&lt;comma&gt;&lt;space&gt;name=self.name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;templ&lt;space&gt;=&lt;space&gt;self.get_template&lt;openparen&gt;inherit_template&lt;comma&gt;&lt;space&gt;self&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self_&lt;space&gt;=&lt;space&gt;TemplateObject&lt;openparen&gt;self.name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;defs.iteritems&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;setattr&lt;openparen&gt;self_&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self_.body&lt;space&gt;=&lt;space&gt;body&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;space&gt;=&lt;space&gt;ns.copy&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;&lt;apos&gt;self&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;self_&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;templ.substitute&lt;openparen&gt;ns&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret_codes&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;codes&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;item&lt;space&gt;in&lt;space&gt;codes:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;item&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;out.append&lt;openparen&gt;item&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_code&lt;openparen&gt;item&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret_code&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;code&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;code&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;py&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._exec&lt;openparen&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;continue&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;_TemplateContinue&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;break&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;_TemplateBreak&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;for&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;vars&lt;comma&gt;&lt;space&gt;expr&lt;comma&gt;&lt;space&gt;content&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;code&lt;openbracket&gt;3&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;code&lt;openbracket&gt;4&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;expr&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_for&lt;openparen&gt;vars&lt;comma&gt;&lt;space&gt;expr&lt;comma&gt;&lt;space&gt;content&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;cond&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_if&lt;openparen&gt;parts&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;expr&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;.split&lt;openparen&gt;&lt;apos&gt;|&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;base&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;parts&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;part&lt;space&gt;in&lt;space&gt;parts&lt;openbracket&gt;1:&lt;closebracket&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;func&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;part&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;base&lt;space&gt;=&lt;space&gt;func&lt;openparen&gt;base&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;out.append&lt;openparen&gt;self._repr&lt;openparen&gt;base&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;default&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var&lt;comma&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;code&lt;openbracket&gt;3&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;var&lt;space&gt;not&lt;space&gt;in&lt;space&gt;ns:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;expr&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;var&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;result&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;inherit&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;expr&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;defs&lt;openbracket&gt;&lt;apos&gt;__inherit__&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;def&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;2&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signature&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;3&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;code&lt;openbracket&gt;4&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;defs&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;TemplateDef&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;signature&lt;comma&gt;&lt;space&gt;body=parts&lt;comma&gt;&lt;space&gt;ns=ns&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pos=pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;comment&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;0&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Unknown&lt;space&gt;code:&lt;space&gt;%r&lt;quote&gt;&lt;space&gt;%&lt;space&gt;name&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret_for&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;vars&lt;comma&gt;&lt;space&gt;expr&lt;comma&gt;&lt;space&gt;content&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;item&lt;space&gt;in&lt;space&gt;expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;vars&lt;closeparen&gt;&lt;space&gt;==&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;vars&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;item&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;vars&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;len&lt;openparen&gt;item&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;ValueError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Need&lt;space&gt;%i&lt;space&gt;items&lt;space&gt;to&lt;space&gt;unpack&lt;space&gt;&lt;openparen&gt;got&lt;space&gt;%i&lt;space&gt;items&lt;closeparen&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;len&lt;openparen&gt;vars&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;len&lt;openparen&gt;item&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;zip&lt;openparen&gt;vars&lt;comma&gt;&lt;space&gt;item&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_codes&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;_TemplateContinue:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;_TemplateBreak:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_interpret_if&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;parts&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;&lt;at&gt;&lt;at&gt;:&lt;space&gt;if&lt;solidus&gt;else&lt;solidus&gt;else&lt;space&gt;gets&lt;space&gt;through&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;part&lt;space&gt;in&lt;space&gt;parts:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;not&lt;space&gt;isinstance&lt;openparen&gt;part&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;part&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;part&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;==&lt;space&gt;&lt;apos&gt;else&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;self._eval&lt;openparen&gt;part&lt;openbracket&gt;2&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;result:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._interpret_codes&lt;openparen&gt;part&lt;openbracket&gt;3&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;defs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_eval&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;code&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;eval&lt;openparen&gt;code&lt;comma&gt;&lt;space&gt;self.default_namespace&lt;comma&gt;&lt;space&gt;ns&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;SyntaxError&lt;comma&gt;&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;SyntaxError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;invalid&lt;space&gt;syntax&lt;space&gt;in&lt;space&gt;expression:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;code&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;exc_info&lt;space&gt;=&lt;space&gt;sys.exc_info&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e&lt;space&gt;=&lt;space&gt;exc_info&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;getattr&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;&lt;apos&gt;args&lt;apos&gt;&lt;comma&gt;&lt;space&gt;None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;arg0&lt;space&gt;=&lt;space&gt;e.args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;arg0&lt;space&gt;=&lt;space&gt;coerce_text&lt;openparen&gt;e&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.args&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;self._add_line_info&lt;openparen&gt;arg0&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;exc_info&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;exc_info&lt;openbracket&gt;2&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_exec&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;code&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;exec&lt;space&gt;code&lt;space&gt;in&lt;space&gt;self.default_namespace&lt;comma&gt;&lt;space&gt;ns&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;exc_info&lt;space&gt;=&lt;space&gt;sys.exc_info&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e&lt;space&gt;=&lt;space&gt;exc_info&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;e.args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.args&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;self._add_line_info&lt;openparen&gt;e.args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.args&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;self._add_line_info&lt;openparen&gt;None&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;exc_info&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;exc_info&lt;openbracket&gt;2&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_repr&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;value&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__traceback_hide__&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;value&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self._unicode:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;unicode&lt;openparen&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;UnicodeDecodeError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;bytes&lt;openparen&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;isinstance&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;coerce_text&lt;openparen&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;is_unicode&lt;openparen&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;self.default_encoding&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.encode&lt;openparen&gt;self.default_encoding&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;exc_info&lt;space&gt;=&lt;space&gt;sys.exc_info&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e&lt;space&gt;=&lt;space&gt;exc_info&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.args&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;self._add_line_info&lt;openparen&gt;e.args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;exc_info&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;exc_info&lt;openbracket&gt;2&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self._unicode&lt;space&gt;and&lt;space&gt;isinstance&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;bytes&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;self.default_encoding:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;UnicodeDecodeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Cannot&lt;space&gt;decode&lt;space&gt;bytes&lt;space&gt;value&lt;space&gt;%r&lt;space&gt;into&lt;space&gt;unicode&lt;space&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;openparen&gt;no&lt;space&gt;default_encoding&lt;space&gt;provided&lt;closeparen&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.decode&lt;openparen&gt;self.default_encoding&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;UnicodeDecodeError&lt;comma&gt;&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;UnicodeDecodeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.encoding&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.object&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.start&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.end&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;e.reason&lt;space&gt;+&lt;space&gt;&lt;apos&gt;&lt;space&gt;in&lt;space&gt;string&lt;space&gt;%r&lt;apos&gt;&lt;space&gt;%&lt;space&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;not&lt;space&gt;self._unicode&lt;space&gt;and&lt;space&gt;is_unicode&lt;openparen&gt;value&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;self.default_encoding:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;UnicodeEncodeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Cannot&lt;space&gt;encode&lt;space&gt;unicode&lt;space&gt;value&lt;space&gt;%r&lt;space&gt;into&lt;space&gt;bytes&lt;space&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;openparen&gt;no&lt;space&gt;default_encoding&lt;space&gt;provided&lt;closeparen&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.encode&lt;openparen&gt;self.default_encoding&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;value&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_add_line_info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;space&gt;=&lt;space&gt;&lt;quote&gt;%s&lt;space&gt;at&lt;space&gt;line&lt;space&gt;%s&lt;space&gt;column&lt;space&gt;%s&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;pos&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;pos&lt;openbracket&gt;1&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;msg&lt;space&gt;+=&lt;space&gt;&lt;quote&gt;&lt;space&gt;in&lt;space&gt;file&lt;space&gt;%s&lt;quote&gt;&lt;space&gt;%&lt;space&gt;self.name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;msg&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;sub&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;delimiters=None&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;kw.get&lt;openparen&gt;&lt;apos&gt;__name&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tmpl&lt;space&gt;=&lt;space&gt;Template&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;name=name&lt;comma&gt;&lt;space&gt;delimiters=delimiters&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tmpl.substitute&lt;openparen&gt;kw&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;paste_script_template_renderer&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;vars&lt;comma&gt;&lt;space&gt;filename=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tmpl&lt;space&gt;=&lt;space&gt;Template&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;name=filename&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tmpl.substitute&lt;openparen&gt;vars&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;bunch&lt;openparen&gt;dict&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;kw.iteritems&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;setattr&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__setattr__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__getattr__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;name&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self&lt;openbracket&gt;name&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;KeyError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#raise&lt;space&gt;AttributeError&lt;openparen&gt;name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__getitem__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;key&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;default&lt;apos&gt;&lt;space&gt;in&lt;space&gt;self:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;dict.__getitem__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;KeyError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;dict.__getitem__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;&lt;apos&gt;default&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;dict.__getitem__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;items&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;k&lt;comma&gt;&lt;space&gt;v&lt;closeparen&gt;&lt;space&gt;for&lt;space&gt;k&lt;comma&gt;&lt;space&gt;v&lt;space&gt;in&lt;space&gt;self.iteritems&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;items.sort&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;%s&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__class__.__name__&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;space&gt;&lt;apos&gt;.join&lt;openparen&gt;&lt;openbracket&gt;&lt;apos&gt;%s=%r&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;k&lt;comma&gt;&lt;space&gt;v&lt;closeparen&gt;&lt;space&gt;for&lt;space&gt;k&lt;comma&gt;&lt;space&gt;v&lt;space&gt;in&lt;space&gt;items&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;############################################################&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;##&lt;space&gt;HTML&lt;space&gt;Templating&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;############################################################&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;html&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;value&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.value&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__str__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.value&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__html__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.value&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;%r&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__class__.__name__&lt;comma&gt;&lt;space&gt;self.value&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;html_quote&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;force=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;force&lt;space&gt;and&lt;space&gt;hasattr&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;&lt;apos&gt;__html__&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;value.__html__&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;value&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;isinstance&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;coerce_text&lt;openparen&gt;value&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;gt&gt;=&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;&lt;space&gt;and&lt;space&gt;isinstance&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;bytes&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;cgi.escape&lt;openparen&gt;value.decode&lt;openparen&gt;&lt;apos&gt;latin1&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.encode&lt;openparen&gt;&lt;apos&gt;latin1&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;cgi.escape&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;is_unicode&lt;openparen&gt;value&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.encode&lt;openparen&gt;&lt;apos&gt;ascii&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;xmlcharrefreplace&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;value&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;url&lt;openparen&gt;v&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;v&lt;space&gt;=&lt;space&gt;coerce_text&lt;openparen&gt;v&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;is_unicode&lt;openparen&gt;v&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;v&lt;space&gt;=&lt;space&gt;v.encode&lt;openparen&gt;&lt;apos&gt;utf8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;url_quote&lt;openparen&gt;v&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;attr&lt;openparen&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;kw&lt;space&gt;=&lt;space&gt;list&lt;openparen&gt;kw.iteritems&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;kw.sort&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;kw:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;value&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name.endswith&lt;openparen&gt;&lt;apos&gt;_&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;name&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts.append&lt;openparen&gt;&lt;apos&gt;%s=&lt;quote&gt;%s&lt;quote&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;html_quote&lt;openparen&gt;name&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;html_quote&lt;openparen&gt;value&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;html&lt;openparen&gt;&lt;apos&gt;&lt;space&gt;&lt;apos&gt;.join&lt;openparen&gt;parts&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;HTMLTemplate&lt;openparen&gt;Template&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_namespace&lt;space&gt;=&lt;space&gt;Template.default_namespace.copy&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_namespace.update&lt;openparen&gt;dict&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;html=html&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attr=attr&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url=url&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;html_quote=html_quote&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_repr&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;value&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;hasattr&lt;openparen&gt;value&lt;comma&gt;&lt;space&gt;&lt;apos&gt;__html__&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value&lt;space&gt;=&lt;space&gt;value.__html__&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;quote&lt;space&gt;=&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;quote&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;plain&lt;space&gt;=&lt;space&gt;Template._repr&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;value&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;quote:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;html_quote&lt;openparen&gt;plain&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;plain&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;sub_html&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;kw.get&lt;openparen&gt;&lt;apos&gt;__name&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tmpl&lt;space&gt;=&lt;space&gt;HTMLTemplate&lt;openparen&gt;content&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tmpl.substitute&lt;openparen&gt;kw&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;TemplateDef&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;template&lt;comma&gt;&lt;space&gt;func_name&lt;comma&gt;&lt;space&gt;func_signature&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;body&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;bound_self=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._template&lt;space&gt;=&lt;space&gt;template&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._func_name&lt;space&gt;=&lt;space&gt;func_name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._func_signature&lt;space&gt;=&lt;space&gt;func_signature&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._body&lt;space&gt;=&lt;space&gt;body&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._ns&lt;space&gt;=&lt;space&gt;ns&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._pos&lt;space&gt;=&lt;space&gt;pos&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._bound_self&lt;space&gt;=&lt;space&gt;bound_self&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;tempita&lt;space&gt;function&lt;space&gt;%s&lt;openparen&gt;%s&lt;closeparen&gt;&lt;space&gt;at&lt;space&gt;%s:%s&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._func_name&lt;comma&gt;&lt;space&gt;self._func_signature&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._template.name&lt;comma&gt;&lt;space&gt;self._pos&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__str__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__call__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;*args&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;space&gt;=&lt;space&gt;self._parse_signature&lt;openparen&gt;args&lt;comma&gt;&lt;space&gt;kw&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;space&gt;=&lt;space&gt;self._ns.copy&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns.update&lt;openparen&gt;values&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self._bound_self&lt;space&gt;is&lt;space&gt;not&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ns&lt;openbracket&gt;&lt;apos&gt;self&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;self._bound_self&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;out&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;subdefs&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._template._interpret_codes&lt;openparen&gt;self._body&lt;comma&gt;&lt;space&gt;ns&lt;comma&gt;&lt;space&gt;out&lt;comma&gt;&lt;space&gt;subdefs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;out&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__get__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;obj&lt;comma&gt;&lt;space&gt;type=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;obj&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self.__class__&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._template&lt;comma&gt;&lt;space&gt;self._func_name&lt;comma&gt;&lt;space&gt;self._func_signature&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._body&lt;comma&gt;&lt;space&gt;self._ns&lt;comma&gt;&lt;space&gt;self._pos&lt;comma&gt;&lt;space&gt;bound_self=obj&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_parse_signature&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;args&lt;comma&gt;&lt;space&gt;kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args&lt;comma&gt;&lt;space&gt;var_args&lt;comma&gt;&lt;space&gt;var_kw&lt;comma&gt;&lt;space&gt;defaults&lt;space&gt;=&lt;space&gt;self._func_signature&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;extra_kw&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;kw.iteritems&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;var_kw&lt;space&gt;and&lt;space&gt;name&lt;space&gt;not&lt;space&gt;in&lt;space&gt;sig_args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Unexpected&lt;space&gt;argument&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;in&lt;space&gt;sig_args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;openbracket&gt;sig_args&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;extra_kw&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;args&lt;space&gt;=&lt;space&gt;list&lt;openparen&gt;args&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args&lt;space&gt;=&lt;space&gt;list&lt;openparen&gt;sig_args&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;sig_args&lt;space&gt;and&lt;space&gt;sig_args&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;in&lt;space&gt;values:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args.pop&lt;openparen&gt;0&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sig_args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;sig_args.pop&lt;openparen&gt;0&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;args.pop&lt;openparen&gt;0&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;var_args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;openbracket&gt;var_args&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;tuple&lt;openparen&gt;args&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Extra&lt;space&gt;position&lt;space&gt;arguments:&lt;space&gt;%s&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;%&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;.join&lt;openparen&gt;repr&lt;openparen&gt;v&lt;closeparen&gt;&lt;space&gt;for&lt;space&gt;v&lt;space&gt;in&lt;space&gt;args&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;comma&gt;&lt;space&gt;value_expr&lt;space&gt;in&lt;space&gt;defaults.iteritems&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;not&lt;space&gt;in&lt;space&gt;values:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;self._template._eval&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;value_expr&lt;comma&gt;&lt;space&gt;self._ns&lt;comma&gt;&lt;space&gt;self._pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;name&lt;space&gt;in&lt;space&gt;sig_args:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;name&lt;space&gt;not&lt;space&gt;in&lt;space&gt;values:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TypeError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Missing&lt;space&gt;argument:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;var_kw:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;openbracket&gt;var_kw&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;extra_kw&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;values&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;TemplateObject&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;name&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__name&lt;space&gt;=&lt;space&gt;name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.get&lt;space&gt;=&lt;space&gt;TemplateObjectGetter&lt;openparen&gt;self&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;%s&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.__class__.__name__&lt;comma&gt;&lt;space&gt;self.__name&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;TemplateObjectGetter&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;template_obj&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.__template_obj&lt;space&gt;=&lt;space&gt;template_obj&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__getattr__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;attr&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;getattr&lt;openparen&gt;self.__template_obj&lt;comma&gt;&lt;space&gt;attr&lt;comma&gt;&lt;space&gt;Empty&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;lt&gt;%s&lt;space&gt;around&lt;space&gt;%r&lt;gt&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.__class__.__name__&lt;comma&gt;&lt;space&gt;self.__template_obj&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;class&lt;space&gt;_Empty&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__call__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;*args&lt;comma&gt;&lt;space&gt;**kw&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;self&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__str__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__repr__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;Empty&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__unicode__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;u&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__iter__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;iter&lt;openparen&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__bool__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;False&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;quote&gt;3&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;__nonzero__&lt;space&gt;=&lt;space&gt;__bool__&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Empty&lt;space&gt;=&lt;space&gt;_Empty&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;_Empty&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;############################################################&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;##&lt;space&gt;Lexing&lt;space&gt;and&lt;space&gt;Parsing&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;############################################################&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;lex&lt;openparen&gt;s&lt;comma&gt;&lt;space&gt;name=None&lt;comma&gt;&lt;space&gt;trim_whitespace=True&lt;comma&gt;&lt;space&gt;line_offset=0&lt;comma&gt;&lt;space&gt;delimiters=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Lex&lt;space&gt;a&lt;space&gt;string&lt;space&gt;into&lt;space&gt;chunks:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;hey&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;hey&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;hey&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;you&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;hey&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;you&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;7&lt;closeparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;hey&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;No&lt;space&gt;&lt;closecurly&gt;&lt;closecurly&gt;&lt;space&gt;to&lt;space&gt;finish&lt;space&gt;last&lt;space&gt;expression&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;7&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;hey&lt;space&gt;&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;&lt;closecurly&gt;&lt;closecurly&gt;&lt;space&gt;outside&lt;space&gt;expression&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;7&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;hey&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;space&gt;inside&lt;space&gt;expression&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;10&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;delimiters&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiters&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;space&gt;Template.default_namespace&lt;openbracket&gt;&lt;apos&gt;start_braces&lt;apos&gt;&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Template.default_namespace&lt;openbracket&gt;&lt;apos&gt;end_braces&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;in_expr&lt;space&gt;=&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;chunks&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last_pos&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;line_offset&lt;space&gt;+&lt;space&gt;1&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;token_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;%s|%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;re.escape&lt;openparen&gt;delimiters&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;re.escape&lt;openparen&gt;delimiters&lt;openbracket&gt;1&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;match&lt;space&gt;in&lt;space&gt;token_re.finditer&lt;openparen&gt;s&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;match.group&lt;openparen&gt;0&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;find_position&lt;openparen&gt;s&lt;comma&gt;&lt;space&gt;match.end&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;line_offset&lt;comma&gt;&lt;space&gt;last_pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;expr&lt;space&gt;==&lt;space&gt;delimiters&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;and&lt;space&gt;in_expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;inside&lt;space&gt;expression&lt;apos&gt;&lt;space&gt;%&lt;space&gt;delimiters&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr&lt;space&gt;==&lt;space&gt;delimiters&lt;openbracket&gt;1&lt;closebracket&gt;&lt;space&gt;and&lt;space&gt;not&lt;space&gt;in_expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;outside&lt;space&gt;expression&lt;apos&gt;&lt;space&gt;%&lt;space&gt;delimiters&lt;openbracket&gt;1&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;expr&lt;space&gt;==&lt;space&gt;delimiters&lt;openbracket&gt;0&lt;closebracket&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;part&lt;space&gt;=&lt;space&gt;s&lt;openbracket&gt;last:match.start&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;part:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;chunks.append&lt;openparen&gt;part&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;in_expr&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;chunks.append&lt;openparen&gt;&lt;openparen&gt;s&lt;openbracket&gt;last:match.start&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;last_pos&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;in_expr&lt;space&gt;=&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last&lt;space&gt;=&lt;space&gt;match.end&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last_pos&lt;space&gt;=&lt;space&gt;pos&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;in_expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;No&lt;space&gt;%s&lt;space&gt;to&lt;space&gt;finish&lt;space&gt;last&lt;space&gt;expression&lt;apos&gt;&lt;space&gt;%&lt;space&gt;delimiters&lt;openbracket&gt;1&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name=name&lt;comma&gt;&lt;space&gt;position=last_pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;part&lt;space&gt;=&lt;space&gt;s&lt;openbracket&gt;last:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;part:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;chunks.append&lt;openparen&gt;part&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;trim_whitespace:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;chunks&lt;space&gt;=&lt;space&gt;trim_lex&lt;openparen&gt;chunks&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;chunks&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;statement_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;^&lt;openparen&gt;?:if&lt;space&gt;|elif&lt;space&gt;|for&lt;space&gt;|def&lt;space&gt;|inherit&lt;space&gt;|default&lt;space&gt;|py:&lt;closeparen&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;single_statements&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;else&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;endfor&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;enddef&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;continue&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;break&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;trail_whitespace_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;&lt;backslash&gt;n&lt;backslash&gt;r?&lt;openbracket&gt;&lt;backslash&gt;t&lt;space&gt;&lt;closebracket&gt;*&lt;dollar&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;lead_whitespace_re&lt;space&gt;=&lt;space&gt;re.compile&lt;openparen&gt;r&lt;apos&gt;^&lt;openbracket&gt;&lt;backslash&gt;t&lt;space&gt;&lt;closebracket&gt;*&lt;backslash&gt;n&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;trim_lex&lt;openparen&gt;tokens&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Takes&lt;space&gt;a&lt;space&gt;lexed&lt;space&gt;set&lt;space&gt;of&lt;space&gt;tokens&lt;comma&gt;&lt;space&gt;and&lt;space&gt;removes&lt;space&gt;whitespace&lt;space&gt;when&lt;space&gt;there&lt;space&gt;is&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;a&lt;space&gt;directive&lt;space&gt;on&lt;space&gt;a&lt;space&gt;line&lt;space&gt;by&lt;space&gt;itself:&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;lex&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;space&gt;x&lt;closecurly&gt;&lt;closecurly&gt;&lt;backslash&gt;nx&lt;backslash&gt;n&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;backslash&gt;ny&lt;apos&gt;&lt;comma&gt;&lt;space&gt;trim_whitespace=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;tokens&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;space&gt;x&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;nx&lt;backslash&gt;n&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;ny&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;trim_lex&lt;openparen&gt;tokens&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;space&gt;x&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x&lt;backslash&gt;n&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;y&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last_trim&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;i&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;len&lt;openparen&gt;tokens&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;current&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;i&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;i&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;we&lt;space&gt;don&lt;apos&gt;t&lt;space&gt;trim&lt;space&gt;this&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;item&lt;space&gt;=&lt;space&gt;current&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;statement_re.search&lt;openparen&gt;item&lt;closeparen&gt;&lt;space&gt;and&lt;space&gt;item&lt;space&gt;not&lt;space&gt;in&lt;space&gt;single_statements:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;i:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;i&lt;space&gt;+&lt;space&gt;1&lt;space&gt;&lt;gt&gt;=&lt;space&gt;len&lt;openparen&gt;tokens&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;+&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;isinstance&lt;openparen&gt;next_chunk&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;not&lt;space&gt;isinstance&lt;openparen&gt;prev&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev_ok&lt;space&gt;=&lt;space&gt;not&lt;space&gt;prev&lt;space&gt;or&lt;space&gt;trail_whitespace_re.search&lt;openparen&gt;prev&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;i&lt;space&gt;==&lt;space&gt;1&lt;space&gt;and&lt;space&gt;not&lt;space&gt;prev.strip&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev_ok&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;last_trim&lt;space&gt;is&lt;space&gt;not&lt;space&gt;None&lt;space&gt;and&lt;space&gt;last_trim&lt;space&gt;+&lt;space&gt;2&lt;space&gt;==&lt;space&gt;i&lt;space&gt;and&lt;space&gt;not&lt;space&gt;prev.strip&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev_ok&lt;space&gt;=&lt;space&gt;&lt;apos&gt;last&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;prev_ok&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;next_chunk&lt;space&gt;or&lt;space&gt;lead_whitespace_re.search&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;&lt;openparen&gt;i&lt;space&gt;==&lt;space&gt;len&lt;openparen&gt;tokens&lt;closeparen&gt;&lt;space&gt;-&lt;space&gt;2&lt;space&gt;and&lt;space&gt;not&lt;space&gt;next_chunk.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;prev:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;&lt;openparen&gt;i&lt;space&gt;==&lt;space&gt;1&lt;space&gt;and&lt;space&gt;not&lt;space&gt;prev.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;prev_ok&lt;space&gt;==&lt;space&gt;&lt;apos&gt;last&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;m&lt;space&gt;=&lt;space&gt;trail_whitespace_re.search&lt;openparen&gt;prev&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;+1&lt;space&gt;to&lt;space&gt;leave&lt;space&gt;the&lt;space&gt;leading&lt;space&gt;&lt;backslash&gt;n&lt;space&gt;on:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prev&lt;space&gt;=&lt;space&gt;prev&lt;openbracket&gt;:m.start&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;+&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;prev&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;next_chunk:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;last_trim&lt;space&gt;=&lt;space&gt;i&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;i&lt;space&gt;==&lt;space&gt;len&lt;openparen&gt;tokens&lt;closeparen&gt;&lt;space&gt;-&lt;space&gt;2&lt;space&gt;and&lt;space&gt;not&lt;space&gt;next_chunk.strip&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;+&lt;space&gt;1&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;m&lt;space&gt;=&lt;space&gt;lead_whitespace_re.search&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;space&gt;=&lt;space&gt;next_chunk&lt;openbracket&gt;m.end&lt;openparen&gt;&lt;closeparen&gt;:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;openbracket&gt;i&lt;space&gt;+&lt;space&gt;1&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;next_chunk&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tokens&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;find_position&lt;openparen&gt;string&lt;comma&gt;&lt;space&gt;index&lt;comma&gt;&lt;space&gt;last_index&lt;comma&gt;&lt;space&gt;last_pos=&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Given&lt;space&gt;a&lt;space&gt;string&lt;space&gt;and&lt;space&gt;index&lt;comma&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;line&lt;comma&gt;&lt;space&gt;column&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;lines&lt;space&gt;=&lt;space&gt;string.count&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;comma&gt;&lt;space&gt;last_index&lt;comma&gt;&lt;space&gt;index&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;lines&lt;space&gt;&lt;gt&gt;&lt;space&gt;0:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;column&lt;space&gt;=&lt;space&gt;index&lt;space&gt;-&lt;space&gt;string.rfind&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;comma&gt;&lt;space&gt;last_index&lt;comma&gt;&lt;space&gt;index&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;column&lt;space&gt;=&lt;space&gt;last_pos&lt;openbracket&gt;1&lt;closebracket&gt;&lt;space&gt;+&lt;space&gt;&lt;openparen&gt;index&lt;space&gt;-&lt;space&gt;last_index&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;last_pos&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;+&lt;space&gt;lines&lt;comma&gt;&lt;space&gt;column&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse&lt;openparen&gt;s&lt;comma&gt;&lt;space&gt;name=None&lt;comma&gt;&lt;space&gt;line_offset=0&lt;comma&gt;&lt;space&gt;delimiters=None&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Parses&lt;space&gt;a&lt;space&gt;string&lt;space&gt;into&lt;space&gt;a&lt;space&gt;kind&lt;space&gt;of&lt;space&gt;AST&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;x&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;expr&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x&lt;apos&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;foo&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;foo&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;space&gt;x&lt;closecurly&gt;&lt;closecurly&gt;test&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;cond&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;test&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;series-&lt;gt&gt;&lt;opencurly&gt;&lt;opencurly&gt;for&lt;space&gt;x&lt;space&gt;in&lt;space&gt;y&lt;closecurly&gt;&lt;closecurly&gt;x=&lt;opencurly&gt;&lt;opencurly&gt;x&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endfor&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;series-&lt;gt&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;for&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;11&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;x&lt;apos&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;x=&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;expr&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;27&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x&lt;apos&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;for&lt;space&gt;x&lt;comma&gt;&lt;space&gt;y&lt;space&gt;in&lt;space&gt;z:&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;continue&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endfor&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;for&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;x&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;y&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;z&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;continue&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;21&lt;closeparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;py:x=1&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;py&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x=1&lt;apos&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;space&gt;x&lt;closecurly&gt;&lt;closecurly&gt;a&lt;opencurly&gt;&lt;opencurly&gt;elif&lt;space&gt;y&lt;closecurly&gt;&lt;closecurly&gt;b&lt;opencurly&gt;&lt;opencurly&gt;else&lt;closecurly&gt;&lt;closecurly&gt;c&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openbracket&gt;&lt;openparen&gt;&lt;apos&gt;cond&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;3&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;a&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;elif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;12&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;b&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;else&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;1&lt;comma&gt;&lt;space&gt;23&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;None&lt;comma&gt;&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;c&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Some&lt;space&gt;exceptions::&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;continue&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;continue&lt;space&gt;outside&lt;space&gt;of&lt;space&gt;for&lt;space&gt;loop&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;space&gt;x&lt;closecurly&gt;&lt;closecurly&gt;foo&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;No&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;else&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;else&lt;space&gt;outside&lt;space&gt;of&lt;space&gt;an&lt;space&gt;if&lt;space&gt;block&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;space&gt;x&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;for&lt;space&gt;x&lt;space&gt;in&lt;space&gt;y&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endfor&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;Unexpected&lt;space&gt;endif&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;25&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;if&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;if&lt;space&gt;with&lt;space&gt;no&lt;space&gt;expression&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;for&lt;space&gt;x&lt;space&gt;y&lt;closecurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;endfor&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;Bad&lt;space&gt;for&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;&lt;quote&gt;in&lt;quote&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;&lt;apos&gt;x&lt;space&gt;y&lt;apos&gt;&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;gt&gt;&lt;gt&gt;&lt;gt&gt;&lt;space&gt;parse&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;opencurly&gt;py:x=1&lt;backslash&gt;ny=2&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Traceback&lt;space&gt;&lt;openparen&gt;most&lt;space&gt;recent&lt;space&gt;call&lt;space&gt;last&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TemplateError:&lt;space&gt;Multi-line&lt;space&gt;py&lt;space&gt;blocks&lt;space&gt;must&lt;space&gt;start&lt;space&gt;with&lt;space&gt;a&lt;space&gt;newline&lt;space&gt;at&lt;space&gt;line&lt;space&gt;1&lt;space&gt;column&lt;space&gt;3&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;delimiters&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiters&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;space&gt;Template.default_namespace&lt;openbracket&gt;&lt;apos&gt;start_braces&lt;apos&gt;&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Template.default_namespace&lt;openbracket&gt;&lt;apos&gt;end_braces&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;lex&lt;openparen&gt;s&lt;comma&gt;&lt;space&gt;name=name&lt;comma&gt;&lt;space&gt;line_offset=line_offset&lt;comma&gt;&lt;space&gt;delimiters=delimiters&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;tokens:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;parse_expr&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result.append&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;result&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_expr&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context=&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;basestring_&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;expr.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;py:&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;expr&lt;openbracket&gt;3:&lt;closebracket&gt;.lstrip&lt;openparen&gt;&lt;apos&gt;&lt;space&gt;&lt;backslash&gt;t&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;or&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;r&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;expr.lstrip&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;r&lt;backslash&gt;n&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;r&lt;apos&gt;&lt;space&gt;in&lt;space&gt;expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;expr.replace&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;r&lt;backslash&gt;n&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;expr.replace&lt;openparen&gt;&lt;apos&gt;&lt;backslash&gt;r&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;+=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;&lt;space&gt;in&lt;space&gt;expr:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Multi-line&lt;space&gt;py&lt;space&gt;blocks&lt;space&gt;must&lt;space&gt;start&lt;space&gt;with&lt;space&gt;a&lt;space&gt;newline&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;py&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;expr&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;continue&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;break&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;for&lt;apos&gt;&lt;space&gt;not&lt;space&gt;in&lt;space&gt;context:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;continue&lt;space&gt;outside&lt;space&gt;of&lt;space&gt;for&lt;space&gt;loop&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;expr&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;if&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;parse_cond&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;openparen&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;elif&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;expr&lt;space&gt;==&lt;space&gt;&lt;apos&gt;else&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;%s&lt;space&gt;outside&lt;space&gt;of&lt;space&gt;an&lt;space&gt;if&lt;space&gt;block&lt;apos&gt;&lt;space&gt;%&lt;space&gt;expr.split&lt;openparen&gt;&lt;closeparen&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;elif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;for&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;%s&lt;space&gt;with&lt;space&gt;no&lt;space&gt;expression&lt;apos&gt;&lt;space&gt;%&lt;space&gt;expr&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;endfor&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;enddef&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Unexpected&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;expr&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;for&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;parse_for&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;default&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;parse_default&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;inherit&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;parse_inherit&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;def&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;parse_def&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;expr.startswith&lt;openparen&gt;&lt;apos&gt;#&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;comment&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;expr&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_cond&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;start&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pieces&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;context&lt;space&gt;=&lt;space&gt;context&lt;space&gt;+&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;apos&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;tokens:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Missing&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=start&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tuple&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;==&lt;space&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;cond&lt;apos&gt;&lt;comma&gt;&lt;space&gt;start&lt;closeparen&gt;&lt;space&gt;+&lt;space&gt;tuple&lt;openparen&gt;pieces&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;parse_one_cond&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pieces.append&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_one_cond&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;first&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;first.endswith&lt;openparen&gt;&lt;apos&gt;:&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;if&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;part&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;if&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;first&lt;openbracket&gt;3:&lt;closebracket&gt;.lstrip&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;content&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;elif&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;part&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;elif&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;first&lt;openbracket&gt;5:&lt;closebracket&gt;.lstrip&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;content&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;first&lt;space&gt;==&lt;space&gt;&lt;apos&gt;else&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;part&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;else&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;None&lt;comma&gt;&lt;space&gt;content&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;0&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Unexpected&lt;space&gt;token&lt;space&gt;%r&lt;space&gt;at&lt;space&gt;%s&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;first&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;tokens:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;No&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;endif&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tuple&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;==&lt;space&gt;&lt;apos&gt;endif&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;.startswith&lt;openparen&gt;&lt;apos&gt;elif&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;or&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;==&lt;space&gt;&lt;apos&gt;else&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;part&lt;comma&gt;&lt;space&gt;tokens&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;parse_expr&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content.append&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_for&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;context&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;for&lt;apos&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;space&gt;+&lt;space&gt;context&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;for&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;first.endswith&lt;openparen&gt;&lt;apos&gt;:&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;3:&lt;closebracket&gt;.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;match&lt;space&gt;=&lt;space&gt;in_re.search&lt;openparen&gt;first&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;match:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Bad&lt;space&gt;for&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;&lt;quote&gt;in&lt;quote&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;%r&lt;apos&gt;&lt;space&gt;%&lt;space&gt;first&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;vars&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;:match.start&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;&lt;openparen&gt;&lt;apos&gt;&lt;space&gt;in&lt;space&gt;vars:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;You&lt;space&gt;cannot&lt;space&gt;have&lt;space&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;the&lt;space&gt;variable&lt;space&gt;section&lt;space&gt;of&lt;space&gt;a&lt;space&gt;for&lt;space&gt;loop&lt;space&gt;&lt;openparen&gt;%r&lt;closeparen&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;%&lt;space&gt;vars&lt;comma&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;vars&lt;space&gt;=&lt;space&gt;tuple&lt;openparen&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;v.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;for&lt;space&gt;v&lt;space&gt;in&lt;space&gt;first&lt;openbracket&gt;:match.start&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;.split&lt;openparen&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;v.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;match.end&lt;openparen&gt;&lt;closeparen&gt;:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;tokens:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;No&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;endfor&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tuple&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;==&lt;space&gt;&lt;apos&gt;endfor&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;for&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;vars&lt;comma&gt;&lt;space&gt;expr&lt;comma&gt;&lt;space&gt;content&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;parse_expr&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content.append&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_default&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;default&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first.split&lt;openparen&gt;None&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;first.split&lt;openparen&gt;&lt;apos&gt;=&lt;apos&gt;&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;parts&lt;closeparen&gt;&lt;space&gt;==&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Expression&lt;space&gt;must&lt;space&gt;be&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;default&lt;space&gt;var=value&lt;closecurly&gt;&lt;closecurly&gt;&lt;semicolon&gt;&lt;space&gt;no&lt;space&gt;=&lt;space&gt;found&lt;space&gt;in&lt;space&gt;%r&lt;quote&gt;&lt;space&gt;%&lt;space&gt;first&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var&lt;space&gt;=&lt;space&gt;parts&lt;openbracket&gt;0&lt;closebracket&gt;.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;space&gt;in&lt;space&gt;var:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;opencurly&gt;&lt;opencurly&gt;default&lt;space&gt;x&lt;comma&gt;&lt;space&gt;y&lt;space&gt;=&lt;space&gt;...&lt;closecurly&gt;&lt;closecurly&gt;&lt;space&gt;is&lt;space&gt;not&lt;space&gt;supported&lt;quote&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;var_re.search&lt;openparen&gt;var&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Not&lt;space&gt;a&lt;space&gt;valid&lt;space&gt;variable&lt;space&gt;name&lt;space&gt;for&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;default&lt;closecurly&gt;&lt;closecurly&gt;:&lt;space&gt;%r&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;%&lt;space&gt;var&lt;comma&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;parts&lt;openbracket&gt;1&lt;closebracket&gt;.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;default&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;var&lt;comma&gt;&lt;space&gt;expr&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_inherit&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;comma&gt;&lt;space&gt;pos&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;inherit&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;expr&lt;space&gt;=&lt;space&gt;first.split&lt;openparen&gt;None&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;inherit&lt;apos&gt;&lt;comma&gt;&lt;space&gt;pos&lt;comma&gt;&lt;space&gt;expr&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_def&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;comma&gt;&lt;space&gt;start&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;first.startswith&lt;openparen&gt;&lt;apos&gt;def&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first.split&lt;openparen&gt;None&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;first.endswith&lt;openparen&gt;&lt;apos&gt;:&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;&lt;openparen&gt;&lt;apos&gt;&lt;space&gt;not&lt;space&gt;in&lt;space&gt;first:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;func_name&lt;space&gt;=&lt;space&gt;first&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig&lt;space&gt;=&lt;space&gt;&lt;openparen&gt;&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;None&lt;comma&gt;&lt;space&gt;None&lt;comma&gt;&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;not&lt;space&gt;first.endswith&lt;openparen&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;quote&gt;Function&lt;space&gt;definition&lt;space&gt;doesn&lt;apos&gt;t&lt;space&gt;end&lt;space&gt;with&lt;space&gt;&lt;closeparen&gt;:&lt;space&gt;%s&lt;quote&gt;&lt;space&gt;%&lt;space&gt;first&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=start&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;first&lt;space&gt;=&lt;space&gt;first&lt;openbracket&gt;:-1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;func_name&lt;comma&gt;&lt;space&gt;sig_text&lt;space&gt;=&lt;space&gt;first.split&lt;openparen&gt;&lt;apos&gt;&lt;openparen&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig&lt;space&gt;=&lt;space&gt;parse_signature&lt;openparen&gt;sig_text&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;start&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;context&lt;space&gt;=&lt;space&gt;context&lt;space&gt;+&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;def&lt;apos&gt;&lt;comma&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;tokens:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Missing&lt;space&gt;&lt;opencurly&gt;&lt;opencurly&gt;enddef&lt;closecurly&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=start&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;isinstance&lt;openparen&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;tuple&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;and&lt;space&gt;tokens&lt;openbracket&gt;0&lt;closebracket&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;space&gt;==&lt;space&gt;&lt;apos&gt;enddef&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;def&lt;apos&gt;&lt;comma&gt;&lt;space&gt;start&lt;comma&gt;&lt;space&gt;func_name&lt;comma&gt;&lt;space&gt;sig&lt;comma&gt;&lt;space&gt;content&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;tokens&lt;openbracket&gt;1:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;next_chunk&lt;comma&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;parse_expr&lt;openparen&gt;tokens&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;context&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content.append&lt;openparen&gt;next_chunk&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;parse_signature&lt;openparen&gt;sig_text&lt;comma&gt;&lt;space&gt;name&lt;comma&gt;&lt;space&gt;pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tokens&lt;space&gt;=&lt;space&gt;tokenize.generate_tokens&lt;openparen&gt;StringIO&lt;openparen&gt;sig_text&lt;closeparen&gt;.readline&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_arg&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_kw&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;defaults&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;get_token&lt;openparen&gt;pos=False&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;srow&lt;comma&gt;&lt;space&gt;scol&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;erow&lt;comma&gt;&lt;space&gt;ecol&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;line&lt;space&gt;=&lt;space&gt;next&lt;openparen&gt;tokens&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;StopIteration:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tokenize.ENDMARKER&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;pos:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;srow&lt;comma&gt;&lt;space&gt;scol&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;openparen&gt;erow&lt;comma&gt;&lt;space&gt;ecol&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_arg_type&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;space&gt;=&lt;space&gt;get_token&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.ENDMARKER:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;&lt;openparen&gt;tok_string&lt;space&gt;==&lt;space&gt;&lt;apos&gt;*&lt;apos&gt;&lt;space&gt;or&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;&lt;apos&gt;**&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_arg_type&lt;space&gt;=&lt;space&gt;tok_string&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;space&gt;=&lt;space&gt;get_token&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;!=&lt;space&gt;tokenize.NAME:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;Invalid&lt;space&gt;signature:&lt;space&gt;&lt;openparen&gt;%s&lt;closeparen&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;sig_text&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_name&lt;space&gt;=&lt;space&gt;tok_string&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;space&gt;=&lt;space&gt;get_token&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.ENDMARKER&lt;space&gt;or&lt;space&gt;&lt;openparen&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;var_arg_type&lt;space&gt;==&lt;space&gt;&lt;apos&gt;*&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_arg&lt;space&gt;=&lt;space&gt;var_name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;var_arg_type&lt;space&gt;==&lt;space&gt;&lt;apos&gt;**&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;var_kw&lt;space&gt;=&lt;space&gt;var_name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args.append&lt;openparen&gt;var_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.ENDMARKER:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;continue&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;var_arg_type&lt;space&gt;is&lt;space&gt;not&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;Invalid&lt;space&gt;signature:&lt;space&gt;&lt;openparen&gt;%s&lt;closeparen&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;sig_text&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;&lt;apos&gt;=&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_type&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;unnest_type&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_count&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;start_pos&lt;space&gt;=&lt;space&gt;end_pos&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;while&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;comma&gt;&lt;space&gt;s&lt;comma&gt;&lt;space&gt;e&lt;space&gt;=&lt;space&gt;get_token&lt;openparen&gt;True&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;start_pos&lt;space&gt;is&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;start_pos&lt;space&gt;=&lt;space&gt;s&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;end_pos&lt;space&gt;=&lt;space&gt;e&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.ENDMARKER&lt;space&gt;and&lt;space&gt;nest_count:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;TemplateError&lt;openparen&gt;&lt;apos&gt;Invalid&lt;space&gt;signature:&lt;space&gt;&lt;openparen&gt;%s&lt;closeparen&gt;&lt;apos&gt;&lt;space&gt;%&lt;space&gt;sig_text&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;position=pos&lt;comma&gt;&lt;space&gt;name=name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;nest_count&lt;space&gt;and&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.ENDMARKER&lt;space&gt;or&lt;space&gt;&lt;openparen&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;default_expr&lt;space&gt;=&lt;space&gt;isolate_expression&lt;openparen&gt;sig_text&lt;comma&gt;&lt;space&gt;start_pos&lt;comma&gt;&lt;space&gt;end_pos&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;defaults&lt;openbracket&gt;var_name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;default_expr&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sig_args.append&lt;openparen&gt;var_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;break&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts.append&lt;openparen&gt;&lt;openparen&gt;tok_type&lt;comma&gt;&lt;space&gt;tok_string&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;nest_count&lt;space&gt;and&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;nest_type:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_count&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;nest_count&lt;space&gt;and&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;==&lt;space&gt;unnest_type:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_count&lt;space&gt;-=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;not&lt;space&gt;nest_count:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_type&lt;space&gt;=&lt;space&gt;unnest_type&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;not&lt;space&gt;nest_count&lt;space&gt;and&lt;space&gt;tok_type&lt;space&gt;==&lt;space&gt;tokenize.OP&lt;space&gt;and&lt;space&gt;tok_string&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;&lt;openparen&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;openbracket&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_type&lt;space&gt;=&lt;space&gt;tok_string&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;nest_count&lt;space&gt;=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;unnest_type&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;openparen&gt;&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;openbracket&gt;&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;&lt;closebracket&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;&lt;closecurly&gt;&lt;apos&gt;&lt;closecurly&gt;&lt;openbracket&gt;nest_type&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;sig_args&lt;comma&gt;&lt;space&gt;var_arg&lt;comma&gt;&lt;space&gt;var_kw&lt;comma&gt;&lt;space&gt;defaults&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;isolate_expression&lt;openparen&gt;string&lt;comma&gt;&lt;space&gt;start_pos&lt;comma&gt;&lt;space&gt;end_pos&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;srow&lt;comma&gt;&lt;space&gt;scol&lt;space&gt;=&lt;space&gt;start_pos&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;srow&lt;space&gt;-=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;erow&lt;comma&gt;&lt;space&gt;ecol&lt;space&gt;=&lt;space&gt;end_pos&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;erow&lt;space&gt;-=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;lines&lt;space&gt;=&lt;space&gt;string.splitlines&lt;openparen&gt;True&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;srow&lt;space&gt;==&lt;space&gt;erow:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;lines&lt;openbracket&gt;srow&lt;closebracket&gt;&lt;openbracket&gt;scol:ecol&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;lines&lt;openbracket&gt;srow&lt;closebracket&gt;&lt;openbracket&gt;scol:&lt;closebracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts.extend&lt;openparen&gt;lines&lt;openbracket&gt;srow+1:erow&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;erow&lt;space&gt;&lt;lt&gt;&lt;space&gt;len&lt;openparen&gt;lines&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;It&lt;apos&gt;ll&lt;space&gt;sometimes&lt;space&gt;give&lt;space&gt;&lt;openparen&gt;end_row_past_finish&lt;comma&gt;&lt;space&gt;0&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;parts.append&lt;openparen&gt;lines&lt;openbracket&gt;erow&lt;closebracket&gt;&lt;openbracket&gt;:ecol&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;parts&lt;closeparen&gt;&lt;lf&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;&lt;quote&gt;&lt;at&gt;&lt;space&gt;Tempita&lt;space&gt;already&lt;space&gt;loaded.&lt;space&gt;Nothing&lt;space&gt;to&lt;space&gt;do&lt;space&gt;here&lt;quote&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;fmeList&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;listName&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.processedFields&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.rows&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.name&lt;space&gt;=&lt;space&gt;listName&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;addField&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;feature&lt;comma&gt;&lt;space&gt;fieldName&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;fieldName&lt;space&gt;not&lt;space&gt;in&lt;space&gt;self.processedFields:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.processedFields.append&lt;openparen&gt;fieldName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;self.name&lt;space&gt;+&lt;space&gt;&lt;quote&gt;&lt;opencurly&gt;&lt;closecurly&gt;.&lt;quote&gt;&lt;space&gt;+&lt;space&gt;fieldName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;if&lt;space&gt;this&lt;space&gt;is&lt;space&gt;the&lt;space&gt;first&lt;space&gt;field&lt;space&gt;we&lt;space&gt;add&lt;comma&gt;&lt;space&gt;build&lt;space&gt;all&lt;space&gt;data&lt;space&gt;rows&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;otherwise&lt;comma&gt;&lt;space&gt;just&lt;space&gt;populate&lt;space&gt;the&lt;space&gt;new&lt;space&gt;field&lt;space&gt;in&lt;space&gt;every&lt;space&gt;existing&lt;space&gt;row&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;self.rows&lt;closeparen&gt;==0:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;val&lt;space&gt;in&lt;space&gt;values:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.rows.append&lt;openparen&gt;bunch&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;ix&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;0&lt;comma&gt;len&lt;openparen&gt;values&lt;closeparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.rows&lt;openbracket&gt;ix&lt;closebracket&gt;&lt;openbracket&gt;fieldName&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;values&lt;openbracket&gt;ix&lt;closebracket&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;FeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.compiledTemplate&lt;space&gt;=&lt;space&gt;None&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;init&lt;space&gt;data&lt;space&gt;storage&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;space&gt;=&lt;space&gt;bunch&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;openbracket&gt;&lt;quote&gt;features&lt;quote&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Most&lt;space&gt;init&lt;space&gt;actually&lt;space&gt;takes&lt;space&gt;place&lt;space&gt;here&lt;comma&gt;&lt;space&gt;because&lt;space&gt;we&lt;space&gt;need&lt;space&gt;the&lt;space&gt;template&lt;space&gt;file&lt;space&gt;name&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;This&lt;space&gt;is&lt;space&gt;so&lt;space&gt;because&lt;space&gt;FME&lt;space&gt;fails&lt;space&gt;when&lt;space&gt;you&lt;space&gt;access&lt;space&gt;published&lt;space&gt;parameters&lt;space&gt;from&lt;space&gt;python&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;&lt;space&gt;&lt;space&gt;you&lt;space&gt;have&lt;space&gt;to&lt;space&gt;write&lt;space&gt;them&lt;space&gt;to&lt;space&gt;an&lt;space&gt;attribute&lt;comma&gt;&lt;space&gt;and&lt;space&gt;so&lt;space&gt;you&lt;space&gt;have&lt;space&gt;to&lt;space&gt;wait&lt;space&gt;for&lt;space&gt;the&lt;space&gt;first&lt;space&gt;feature&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;lazyCompile&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;tpath&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;global&lt;space&gt;CompiledTemplates&lt;comma&gt;&lt;space&gt;Template&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;tname&lt;space&gt;=&lt;space&gt;os.path.basename&lt;openparen&gt;tpath&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;local&lt;space&gt;id&lt;space&gt;for&lt;space&gt;output&lt;space&gt;handling&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.localId&lt;space&gt;=&lt;space&gt;tname&lt;space&gt;+&lt;space&gt;datetime.datetime.now&lt;openparen&gt;&lt;closeparen&gt;.strftime&lt;openparen&gt;&lt;quote&gt;%Y%m%d%H%M%S%f&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#compile&lt;space&gt;or&lt;space&gt;fetch&lt;space&gt;compiled&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;tname&lt;space&gt;not&lt;space&gt;in&lt;space&gt;CompiledTemplates:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.compiledTemplate&lt;space&gt;=&lt;space&gt;Template.from_filename&lt;openparen&gt;tpath&lt;closeparen&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;CompiledTemplates&lt;openbracket&gt;tname&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;self.compiledTemplate&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.compiledTemplate&lt;space&gt;=&lt;space&gt;CompiledTemplates&lt;openbracket&gt;tname&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.compiledTemplate==None:&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.lazyCompile&lt;openparen&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_tempitaTemplateFile&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;quote&gt;_tempitaLocalId&lt;quote&gt;&lt;comma&gt;&lt;space&gt;self.localId&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;determine&lt;space&gt;whether&lt;space&gt;this&lt;space&gt;is&lt;space&gt;a&lt;space&gt;normal&lt;space&gt;feature&lt;space&gt;or&lt;space&gt;a&lt;space&gt;global&lt;space&gt;var&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dataClass&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_tempitaDataClass&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;dataClass==&lt;quote&gt;globalKeyValue&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;name&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;name&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;val&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;value&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;openbracket&gt;name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;dataClass==&lt;quote&gt;globalFirstRow&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attrs&lt;space&gt;=&lt;space&gt;feature.getAllAttributeNames&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;att&lt;space&gt;in&lt;space&gt;attrs:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;openbracket&gt;att&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;att&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attrs&lt;space&gt;=&lt;space&gt;feature.getAllAttributeNames&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;row&lt;space&gt;=&lt;space&gt;bunch&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;localLists&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;att&lt;space&gt;in&lt;space&gt;attrs:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;quote&gt;&lt;opencurly&gt;&lt;quote&gt;&lt;space&gt;in&lt;space&gt;att:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ix&lt;space&gt;=&lt;space&gt;att.index&lt;openparen&gt;&lt;quote&gt;&lt;opencurly&gt;&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;listName&lt;space&gt;=&lt;space&gt;att&lt;openbracket&gt;:ix&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;listName&lt;space&gt;not&lt;space&gt;in&lt;space&gt;localLists:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;localLists&lt;openbracket&gt;listName&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;fmeList&lt;openparen&gt;listName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ix&lt;space&gt;=&lt;space&gt;att.index&lt;openparen&gt;&lt;quote&gt;.&lt;quote&gt;&lt;closeparen&gt;&lt;space&gt;+&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fieldName&lt;space&gt;=&lt;space&gt;att&lt;openbracket&gt;ix:&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;localLists&lt;openbracket&gt;listName&lt;closebracket&gt;.addField&lt;openparen&gt;feature&lt;comma&gt;&lt;space&gt;fieldName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;val&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;att&lt;closeparen&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;row&lt;openbracket&gt;att&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;val&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;listName&lt;space&gt;in&lt;space&gt;localLists:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;row&lt;openbracket&gt;listName&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;localLists&lt;openbracket&gt;listName&lt;closebracket&gt;.rows&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;openbracket&gt;&lt;quote&gt;features&lt;quote&gt;&lt;closebracket&gt;.append&lt;openparen&gt;row&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;global&lt;space&gt;TempitaOutputs&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;html&lt;space&gt;=&lt;space&gt;self.compiledTemplate.substitute&lt;openparen&gt;self.data&lt;closeparen&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;TempitaOutputs&lt;openbracket&gt;self.localId&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;html&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="FeatureProcessor"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_tempitaLocalId"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="6"
#!   TYPE="FeatureHolder"
#!   VERSION="0"
#!   POSITION="1205.18 -2.50031"
#!   BOUNDING_RECT="1205.18 -2.50031 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaTemplateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FeatureHolder"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="9"
#!   TYPE="Sampler"
#!   VERSION="2"
#!   POSITION="1811.52 -2.50031"
#!   BOUNDING_RECT="1811.52 -2.50031 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaTemplateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="NOT_SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaTemplateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="SAMPLE_TYPE_LONG" PARM_VALUE="First N Features"/>
#!     <XFORM_PARM PARM_NAME="GROUP_BY" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="RATE" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FirstOnly"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_MODE" PARM_VALUE="No"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="13"
#!   TYPE="AttributeKeeper"
#!   VERSION="3"
#!   POSITION="2524.03 -2.50031"
#!   BOUNDING_RECT="2524.03 -2.50031 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="KEEP_ATTRS" PARM_VALUE="_tempitaLocalId"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="KEEP_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeKeeper"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="15"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="3155.28 -2.50031"
#!   BOUNDING_RECT="3155.28 -2.50031 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaLocalId" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;fme&lt;lf&gt;import&lt;space&gt;fmeobjects&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;def&lt;space&gt;processFeature&lt;openparen&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;global&lt;space&gt;TempitaOutputs&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#print&lt;space&gt;&lt;quote&gt;&lt;at&gt;TempitaOutputs2&lt;space&gt;&lt;quote&gt;&lt;comma&gt;&lt;space&gt;TempitaOutputs&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;localId&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;_tempitaLocalId&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;quote&gt;html&lt;quote&gt;&lt;comma&gt;&lt;space&gt;TempitaOutputs&lt;openbracket&gt;localId&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="processFeature"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="WriteOutputHtml"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="html"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="ParameterFetcher"
#!   VERSION="4"
#!   POSITION="-210.878 -71.251"
#!   BOUNDING_RECT="-210.878 -71.251 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_tempitaTemplateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTR_LIST" PARM_VALUE="_tempitaTemplateFile {$(TEMPLATE_FILE)}"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ParameterFetcher"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="3768.35 -2.50031"
#!   BOUNDING_RECT="3768.35 -2.50031 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_tempitaLocalId"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-831.2 62.7508"
#!   BOUNDING_RECT="-831.2 62.7508 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _tempitaDataClass SET_TO globalKeyValue"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="33"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-831.2 365.879"
#!   BOUNDING_RECT="-831.2 365.879 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_tempitaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _tempitaDataClass SET_TO globalFirstRow"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="36"
#!   TYPE="Sampler"
#!   VERSION="2"
#!   POSITION="-1449.45 365.879"
#!   BOUNDING_RECT="-1449.45 365.879 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="NOT_SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_TYPE_LONG" PARM_VALUE="First N Features"/>
#!     <XFORM_PARM PARM_NAME="GROUP_BY" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="RATE" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FirstRow"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_MODE" PARM_VALUE="No"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="1"
#!   NAME="Features"
#!   POSITION="-2142.4 -300.003"
#!   BOUNDING_RECT="-2142.4 -300.003 464.749 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="2"
#!   NAME="Initiator"
#!   POSITION="1244.61 -522.504"
#!   BOUNDING_RECT="1244.61 -522.504 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="contador" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="17"
#!   NAME="Html"
#!   POSITION="4405.29 -62.5003"
#!   BOUNDING_RECT="4405.29 -62.5003 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="html" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="28"
#!   NAME="NameValuePairs"
#!   POSITION="-2181.27 62.7508"
#!   BOUNDING_RECT="-2181.27 62.7508 503.625 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="29"
#!   NAME="FirstRowVariables"
#!   POSITION="-2181.27 365.879"
#!   BOUNDING_RECT="-2181.27 365.879 496.881 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="10"
#!   SOURCE_NODE="6"
#!   TARGET_NODE="9"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="16"
#!   SOURCE_NODE="13"
#!   TARGET_NODE="15"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="24"
#!   SOURCE_NODE="1"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS="-412 -331"
#! />
#! <FEAT_LINK
#!   IDENTIFIER="19"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="3"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="20"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="6"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="21"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="2"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="22"
#!   SOURCE_NODE="9"
#!   TARGET_NODE="13"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="26"
#!   SOURCE_NODE="15"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="27"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="17"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="31"
#!   SOURCE_NODE="28"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="32"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="35"
#!   SOURCE_NODE="33"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="36"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="36"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
DEFAULT_MACRO $(Tempita_templater_WORKSPACE_NAME)_TEMPLATE_FILE 
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO Tempita_templater_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Tempita_templater_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Tempita_templater_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_Features1474355248 Input Splitter"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_Features"   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_Features"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_NameValuePairs1474355248 Input Splitter"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_NameValuePairs"   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_NameValuePairs"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_FirstRowVariables1474355248 Input Splitter"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstRowVariables"   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstRowVariables"
# -------------------------------------------------------------------------

INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF * SamplingFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_FirstRow    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstRowVariables"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.

FACTORY_DEF * TeeFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_FirstRow_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstRow_SAMPLED"


# -------------------------------------------------------------------------

FACTORY_DEF * AttrSetFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_AttributeCreator_2    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstRow_SAMPLED"    MULTI_FEATURE_MODE NO 	 NULL_ATTR_MODE NO_OP 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION "" "_tempitaDataClass" "SET_TO" "globalFirstRow"    OUTPUT OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"


# -------------------------------------------------------------------------

FACTORY_DEF * AttrSetFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_AttributeCreator    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_NameValuePairs"    MULTI_FEATURE_MODE NO 	 NULL_ATTR_MODE NO_OP 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION "" "_tempitaDataClass" "SET_TO" "globalKeyValue"    OUTPUT OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeCreator_OUTPUT"


# -------------------------------------------------------------------------

Tcl2 proc $(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_tempitaTemplateFile {$($(Tempita_templater_WORKSPACE_NAME)_TEMPLATE_FILE$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_Features"    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeCreator_OUTPUT"    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"    OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher_doFetch)

# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf><lf><lf>#this<space>conditional<space>ensures<space>that<space>functions<space>are<space>only<space>declared<space>once<lf>if<space>not<space><apos>CompiledTemplates<apos><space>in<space>globals<openparen><closeparen>:<lf><space><space><space><space>print<space><quote><at><space>First<space>time<space>Tempita.<space>Declare<space>classes<space>and<space>global<space>template<space>dictionaries<quote><lf><space><space><space><space>#<space>This<space>will<space>store<space>compiled<space>Tempita<space>binary<space>templates<lf><space><space><space><space>CompiledTemplates<space>=<space><opencurly><closecurly><lf><space><space><space><space><lf><space><space><space><space>#<space>This<space>will<space>store<space>output<space>for<space>different<space>instances<space>of<space>the<space>transformer<lf><space><space><space><space>TempitaOutputs<space>=<space><opencurly><closecurly><lf><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>Refrito<space>a<space>manija<space>de<space>los<space>4<space>archivos<space>de<space>tempita<comma><space>para<space>que<space>entren<space>en<space>un<space>pythoncaller<space>sin<space>dar<space>por<space>el<space>saco<lf><space><space><space><space>He<space>quitado<space>la<space>parte<space>de<space>fill_command<comma><space>porque<space>creo<space>que<space>solo<space>es<space>para<space>invocar<space>por<space>consola<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>Primero<comma><space>todos<space>los<space>imports<space>externos<space>mergeados<lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>import<space>cgi<lf><space><space><space><space>import<space>os<lf><space><space><space><space>import<space>re<lf><space><space><space><space>import<space>sys<lf><space><space><space><space>import<space>tokenize<lf><space><space><space><space>from<space>cStringIO<space>import<space>StringIO<lf><space><space><space><space>from<space>urllib<space>import<space>quote<space>as<space>url_quote<lf><lf><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>Ahora<comma><space>compat3<space>-<space>en<space>realidad<space>no<space>haria<space>falta<comma><space>porque<comma><space>por<space>ahora<comma><space>FME<space>usa<space>python<space>27<lf><space><space><space><space>esto<space>equivale<space>a<space><lf><space><space><space><space><space><space><space><space>from<space>tempita.compat3<space>import<space>bytes<comma><space>basestring_<comma><space>next<comma><space>is_unicode<comma><space>coerce_text<lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space>b<space>=<space>bytes<space>=<space>str<lf><space><space><space><space><space><space><space><space>basestring_<space>=<space>basestring<lf><space><space><space><space>else:<lf><lf><space><space><space><space><space><space><space><space>def<space>b<openparen>s<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>s<comma><space>str<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>s.encode<openparen><apos>latin1<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>bytes<openparen>s<closeparen><lf><space><space><space><space><space><space><space><space>basestring_<space>=<space><openparen>bytes<comma><space>str<closeparen><lf><space><space><space><space><space><space><space><space>bytes<space>=<space>bytes<lf><space><space><space><space>text<space>=<space>str<lf><lf><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><lf><space><space><space><space><space><space><space><space>def<space>next<openparen>obj<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>obj.next<openparen><closeparen><lf><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space>next<space>=<space>next<lf><lf><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><lf><space><space><space><space><space><space><space><space>def<space>is_unicode<openparen>obj<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>isinstance<openparen>obj<comma><space>unicode<closeparen><lf><space><space><space><space>else:<lf><lf><space><space><space><space><space><space><space><space>def<space>is_unicode<openparen>obj<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>isinstance<openparen>obj<comma><space>str<closeparen><lf><lf><lf><space><space><space><space>def<space>coerce_text<openparen>v<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>not<space>isinstance<openparen>v<comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>attr<space>=<space><apos>__unicode__<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>attr<space>=<space><apos>__str__<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>hasattr<openparen>v<comma><space>attr<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>unicode<openparen>v<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>bytes<openparen>v<closeparen><lf><space><space><space><space><space><space><space><space>return<space>v<lf><lf><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>Del<space>__main__<space>pasamos<space>porque<comma><space>one<space>more<space>time<comma><space>no<space>hay<space>uso<space>desde<space>cmd<lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>Looper<space>-<space>tal<space>cual<comma><space>porque<space>los<space>imports<space>usan<space>el<space>mismo<space>nombre<lf><space><space><space><space><space><space><space><space>from<space>tempita._looper<space>import<space>looper<lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>class<space>looper<openparen>object<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>Helper<space>for<space>looping<space><openparen>particularly<space>in<space>templates<closeparen><lf><lf><space><space><space><space><space><space><space><space>Use<space>this<space>like::<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>loop<comma><space>item<space>in<space>looper<openparen>seq<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>loop.first:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>seq<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.seq<space>=<space>seq<lf><lf><space><space><space><space><space><space><space><space>def<space>__iter__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>looper_iter<openparen>self.seq<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>for<space>%r<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.__class__.__name__<comma><space>self.seq<closeparen><lf><lf><lf><space><space><space><space>class<space>looper_iter<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>seq<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.seq<space>=<space>list<openparen>seq<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pos<space>=<space>0<lf><lf><space><space><space><space><space><space><space><space>def<space>__iter__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self<lf><lf><space><space><space><space><space><space><space><space>def<space>__next__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.pos<space><gt>=<space>len<openparen>self.seq<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>StopIteration<lf><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>loop_pos<openparen>self.seq<comma><space>self.pos<closeparen><comma><space>self.seq<openbracket>self.pos<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pos<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>result<lf><lf><space><space><space><space><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>next<space>=<space>__next__<lf><lf><lf><space><space><space><space>class<space>loop_pos<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>seq<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.seq<space>=<space>seq<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pos<space>=<space>pos<lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>loop<space>pos=%r<space>at<space>%r<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.seq<openbracket>self.pos<closebracket><comma><space>self.pos<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>index<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.pos<lf><space><space><space><space><space><space><space><space>index<space>=<space>property<openparen>index<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>number<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.pos<space>+<space>1<lf><space><space><space><space><space><space><space><space>number<space>=<space>property<openparen>number<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>item<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.seq<openbracket>self.pos<closebracket><lf><space><space><space><space><space><space><space><space>item<space>=<space>property<openparen>item<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__next__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.seq<openbracket>self.pos<space>+<space>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>except<space>IndexError:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>None<lf><space><space><space><space><space><space><space><space>__next__<space>=<space>property<openparen>__next__<closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>next<space>=<space>__next__<lf><lf><space><space><space><space><space><space><space><space>def<space>previous<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.pos<space>==<space>0:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.seq<openbracket>self.pos<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space>previous<space>=<space>property<openparen>previous<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>odd<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>not<space>self.pos<space>%<space>2<lf><space><space><space><space><space><space><space><space>odd<space>=<space>property<openparen>odd<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>even<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.pos<space>%<space>2<lf><space><space><space><space><space><space><space><space>even<space>=<space>property<openparen>even<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>first<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.pos<space>==<space>0<lf><space><space><space><space><space><space><space><space>first<space>=<space>property<openparen>first<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>last<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.pos<space>==<space>len<openparen>self.seq<closeparen><space>-<space>1<lf><space><space><space><space><space><space><space><space>last<space>=<space>property<openparen>last<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>length<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>len<openparen>self.seq<closeparen><lf><space><space><space><space><space><space><space><space>length<space>=<space>property<openparen>length<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>first_group<openparen>self<comma><space>getter=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Returns<space>true<space>if<space>this<space>item<space>is<space>the<space>start<space>of<space>a<space>new<space>group<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>where<space>groups<space>mean<space>that<space>some<space>attribute<space>has<space>changed.<space><space>The<space>getter<lf><space><space><space><space><space><space><space><space><space><space><space><space>can<space>be<space>None<space><openparen>the<space>item<space>itself<space>changes<closeparen><comma><space>an<space>attribute<space>name<space>like<lf><space><space><space><space><space><space><space><space><space><space><space><space>``<apos>.attr<apos>``<comma><space>a<space>function<comma><space>or<space>a<space>dict<space>key<space>or<space>list<space>index.<lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.first:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self._compare_group<openparen>self.item<comma><space>self.previous<comma><space>getter<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>last_group<openparen>self<comma><space>getter=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Returns<space>true<space>if<space>this<space>item<space>is<space>the<space>end<space>of<space>a<space>new<space>group<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>where<space>groups<space>mean<space>that<space>some<space>attribute<space>has<space>changed.<space><space>The<space>getter<lf><space><space><space><space><space><space><space><space><space><space><space><space>can<space>be<space>None<space><openparen>the<space>item<space>itself<space>changes<closeparen><comma><space>an<space>attribute<space>name<space>like<lf><space><space><space><space><space><space><space><space><space><space><space><space>``<apos>.attr<apos>``<comma><space>a<space>function<comma><space>or<space>a<space>dict<space>key<space>or<space>list<space>index.<lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.last:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self._compare_group<openparen>self.item<comma><space>self.__next__<comma><space>getter<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>_compare_group<openparen>self<comma><space>item<comma><space>other<comma><space>getter<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>getter<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>item<space>!=<space>other<lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><openparen>isinstance<openparen>getter<comma><space>basestring_<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space>getter.startswith<openparen><apos>.<apos><closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>getter<space>=<space>getter<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>getter.endswith<openparen><apos><openparen><closeparen><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>getter<space>=<space>getter<openbracket>:-2<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>getattr<openparen>item<comma><space>getter<closeparen><openparen><closeparen><space>!=<space>getattr<openparen>other<comma><space>getter<closeparen><openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>getattr<openparen>item<comma><space>getter<closeparen><space>!=<space>getattr<openparen>other<comma><space>getter<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>hasattr<openparen>getter<comma><space><apos>__call__<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>getter<openparen>item<closeparen><space>!=<space>getter<openparen>other<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>item<openbracket>getter<closebracket><space>!=<space>other<openbracket>getter<closebracket><lf><lf><lf><lf><lf><lf><space><space><space><space>#<space>Esto<space>nos<space>sobra<comma><space>porque<space>estamos<space>en<space>el<space>scope<space>global<lf><space><space><space><space>#<space>Hell<space>yea<apos><lf><space><space><space><space><quote><quote><quote><lf><space><space><space><space>__all__<space>=<space><openbracket><apos>TemplateError<apos><comma><space><apos>Template<apos><comma><space><apos>sub<apos><comma><space><apos>HTMLTemplate<apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>sub_html<apos><comma><space><apos>html<apos><comma><space><apos>bunch<apos><closebracket><lf><space><space><space><space><quote><quote><quote><lf><lf><lf><space><space><space><space>#<space>AQUI<space>EMPIEZA<space>TEMPITA<lf><space><space><space><space>in_re<space>=<space>re.compile<openparen>r<apos><backslash>s+in<backslash>s+<apos><closeparen><lf><space><space><space><space>var_re<space>=<space>re.compile<openparen>r<apos>^<openbracket>a-z_<closebracket><openbracket>a-z0-9_<closebracket>*<dollar><apos><comma><space>re.I<closeparen><lf><lf><lf><space><space><space><space>class<space>TemplateError<openparen>Exception<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Exception<space>raised<space>while<space>parsing<space>a<space>template<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>message<comma><space>position<comma><space>name=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>Exception.__init__<openparen>self<comma><space>message<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.position<space>=<space>position<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.name<space>=<space>name<lf><lf><space><space><space><space><space><space><space><space>def<space>__str__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>msg<space>=<space><apos><space><apos>.join<openparen>self.args<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.position:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>msg<space>=<space><apos>%s<space>at<space>line<space>%s<space>column<space>%s<apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>msg<comma><space>self.position<openbracket>0<closebracket><comma><space>self.position<openbracket>1<closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.name:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>msg<space>+=<space><apos><space>in<space>%s<apos><space>%<space>self.name<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>msg<lf><lf><lf><space><space><space><space>class<space>_TemplateContinue<openparen>Exception<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<lf><lf><lf><space><space><space><space>class<space>_TemplateBreak<openparen>Exception<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<lf><lf><lf><space><space><space><space>def<space>get_file_template<openparen>name<comma><space>from_template<closeparen>:<lf><space><space><space><space><space><space><space><space>path<space>=<space>os.path.join<openparen>os.path.dirname<openparen>from_template.name<closeparen><comma><space>name<closeparen><lf><space><space><space><space><space><space><space><space>return<space>from_template.__class__.from_filename<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>path<comma><space>namespace=from_template.namespace<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>get_template=from_template.get_template<closeparen><lf><lf><lf><space><space><space><space>class<space>Template<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>default_namespace<space>=<space><opencurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><apos>start_braces<apos>:<space><apos><opencurly><opencurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><apos>end_braces<apos>:<space><apos><closecurly><closecurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><apos>looper<apos>:<space>looper<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><closecurly><lf><lf><space><space><space><space><space><space><space><space>default_encoding<space>=<space><apos>utf8<apos><lf><space><space><space><space><space><space><space><space>default_inherit<space>=<space>None<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>content<comma><space>name=None<comma><space>namespace=None<comma><space>stacklevel=None<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>get_template=None<comma><space>default_inherit=None<comma><space>line_offset=0<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>delimiters=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.content<space>=<space>content<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>set<space>delimiters<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>delimiters<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>delimiters<space>=<space><openparen>self.default_namespace<openbracket><apos>start_braces<apos><closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.default_namespace<openbracket><apos>end_braces<apos><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>len<openparen>delimiters<closeparen><space>==<space>2<space>and<space>all<openparen><openbracket>isinstance<openparen>delimeter<comma><space>basestring<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>delimeter<space>in<space>delimiters<closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.default_namespace<space>=<space>self.__class__.default_namespace.copy<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.default_namespace<openbracket><apos>start_braces<apos><closebracket><space>=<space>delimiters<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.default_namespace<openbracket><apos>end_braces<apos><closebracket><space>=<space>delimiters<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.delimiters<space>=<space>delimiters<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._unicode<space>=<space>is_unicode<openparen>content<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>is<space>None<space>and<space>stacklevel<space>is<space>not<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>caller<space>=<space>sys._getframe<openparen>stacklevel<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>ValueError:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>pass<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>globals<space>=<space>caller.f_globals<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>lineno<space>=<space>caller.f_lineno<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>__file__<apos><space>in<space>globals:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>globals<openbracket><apos>__file__<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name.endswith<openparen><apos>.pyc<apos><closeparen><space>or<space>name.endswith<openparen><apos>.pyo<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>name<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><apos>__name__<apos><space>in<space>globals:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>globals<openbracket><apos>__name__<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space><apos><lt>string<gt><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>lineno:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>+=<space><apos>:%s<apos><space>%<space>lineno<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.name<space>=<space>name<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._parsed<space>=<space>parse<openparen>content<comma><space>name=name<comma><space>line_offset=line_offset<comma><space>delimiters=self.delimiters<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>namespace<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>namespace<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.namespace<space>=<space>namespace<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.get_template<space>=<space>get_template<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>default_inherit<space>is<space>not<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.default_inherit<space>=<space>default_inherit<lf><lf><space><space><space><space><space><space><space><space>def<space>from_filename<openparen>cls<comma><space>filename<comma><space>namespace=None<comma><space>encoding=None<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>default_inherit=None<comma><space>get_template=get_file_template<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>f<space>=<space>open<openparen>filename<comma><space><apos>rb<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>c<space>=<space>f.read<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>f.close<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>encoding:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>c<space>=<space>c.decode<openparen>encoding<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>cls<openparen>content=c<comma><space>name=filename<comma><space>namespace=namespace<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>default_inherit=default_inherit<comma><space>get_template=get_template<closeparen><lf><lf><space><space><space><space><space><space><space><space>from_filename<space>=<space>classmethod<openparen>from_filename<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>%s<space>name=%r<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.__class__.__name__<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>hex<openparen>id<openparen>self<closeparen><closeparen><openbracket>2:<closebracket><comma><space>self.name<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>substitute<openparen>self<comma><space>*args<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>kw:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>You<space>can<space>only<space>give<space>positional<space>*or*<space>keyword<space>arguments<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>args<closeparen><space><gt><space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>You<space>can<space>only<space>give<space>one<space>positional<space>argument<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>hasattr<openparen>args<openbracket>0<closebracket><comma><space><apos>items<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>If<space>you<space>pass<space>in<space>a<space>single<space>argument<comma><space>you<space>must<space>pass<space>in<space>a<space>dictionary-like<space>object<space><openparen>with<space>a<space>.items<openparen><closeparen><space>method<closeparen><semicolon><space>you<space>gave<space>%r<quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>%<space><openparen>args<openbracket>0<closebracket><comma><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>kw<space>=<space>args<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>ns<space>=<space>kw<lf><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket><apos>__template_name__<apos><closebracket><space>=<space>self.name<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.namespace:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns.update<openparen>self.namespace<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>result<comma><space>defs<comma><space>inherit<space>=<space>self._interpret<openparen>ns<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>inherit:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>inherit<space>=<space>self.default_inherit<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>inherit:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>self._interpret_inherit<openparen>result<comma><space>defs<comma><space>inherit<comma><space>ns<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>result<lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret<openparen>self<comma><space>ns<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>parts<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>defs<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_codes<openparen>self._parsed<comma><space>ns<comma><space>out=parts<comma><space>defs=defs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>__inherit__<apos><space>in<space>defs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>inherit<space>=<space>defs.pop<openparen><apos>__inherit__<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>inherit<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><apos>.join<openparen>parts<closeparen><comma><space>defs<comma><space>inherit<lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret_inherit<openparen>self<comma><space>body<comma><space>defs<comma><space>inherit_template<comma><space>ns<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>self.get_template:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>You<space>cannot<space>use<space>inheritance<space>without<space>passing<space>in<space>get_template<apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=None<comma><space>name=self.name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>templ<space>=<space>self.get_template<openparen>inherit_template<comma><space>self<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self_<space>=<space>TemplateObject<openparen>self.name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<comma><space>value<space>in<space>defs.iteritems<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>setattr<openparen>self_<comma><space>name<comma><space>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self_.body<space>=<space>body<lf><space><space><space><space><space><space><space><space><space><space><space><space>ns<space>=<space>ns.copy<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket><apos>self<apos><closebracket><space>=<space>self_<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>templ.substitute<openparen>ns<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret_codes<openparen>self<comma><space>codes<comma><space>ns<comma><space>out<comma><space>defs<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>item<space>in<space>codes:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>item<comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>out.append<openparen>item<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_code<openparen>item<comma><space>ns<comma><space>out<comma><space>defs<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret_code<openparen>self<comma><space>code<comma><space>ns<comma><space>out<comma><space>defs<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>name<comma><space>pos<space>=<space>code<openbracket>0<closebracket><comma><space>code<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>==<space><apos>py<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._exec<openparen>code<openbracket>2<closebracket><comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>continue<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>_TemplateContinue<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>break<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>_TemplateBreak<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>for<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>vars<comma><space>expr<comma><space>content<space>=<space>code<openbracket>2<closebracket><comma><space>code<openbracket>3<closebracket><comma><space>code<openbracket>4<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>self._eval<openparen>expr<comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_for<openparen>vars<comma><space>expr<comma><space>content<comma><space>ns<comma><space>out<comma><space>defs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>cond<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>parts<space>=<space>code<openbracket>2:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_if<openparen>parts<comma><space>ns<comma><space>out<comma><space>defs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>expr<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>parts<space>=<space>code<openbracket>2<closebracket>.split<openparen><apos>|<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>base<space>=<space>self._eval<openparen>parts<openbracket>0<closebracket><comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>part<space>in<space>parts<openbracket>1:<closebracket>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>func<space>=<space>self._eval<openparen>part<comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>base<space>=<space>func<openparen>base<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>out.append<openparen>self._repr<openparen>base<comma><space>pos<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>default<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>var<comma><space>expr<space>=<space>code<openbracket>2<closebracket><comma><space>code<openbracket>3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>var<space>not<space>in<space>ns:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>self._eval<openparen>expr<comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket>var<closebracket><space>=<space>result<lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>inherit<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>code<openbracket>2<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>self._eval<openparen>expr<comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>defs<openbracket><apos>__inherit__<apos><closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>def<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>code<openbracket>2<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>signature<space>=<space>code<openbracket>3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>parts<space>=<space>code<openbracket>4<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket>name<closebracket><space>=<space>defs<openbracket>name<closebracket><space>=<space>TemplateDef<openparen>self<comma><space>name<comma><space>signature<comma><space>body=parts<comma><space>ns=ns<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>pos=pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>name<space>==<space><apos>comment<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>0<comma><space><quote>Unknown<space>code:<space>%r<quote><space>%<space>name<lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret_for<openparen>self<comma><space>vars<comma><space>expr<comma><space>content<comma><space>ns<comma><space>out<comma><space>defs<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>item<space>in<space>expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>vars<closeparen><space>==<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket>vars<openbracket>0<closebracket><closebracket><space>=<space>item<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>vars<closeparen><space>!=<space>len<openparen>item<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>ValueError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Need<space>%i<space>items<space>to<space>unpack<space><openparen>got<space>%i<space>items<closeparen><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>%<space><openparen>len<openparen>vars<closeparen><comma><space>len<openparen>item<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<comma><space>value<space>in<space>zip<openparen>vars<comma><space>item<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket>name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_codes<openparen>content<comma><space>ns<comma><space>out<comma><space>defs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>_TemplateContinue:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>_TemplateBreak:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><lf><space><space><space><space><space><space><space><space>def<space>_interpret_if<openparen>self<comma><space>parts<comma><space>ns<comma><space>out<comma><space>defs<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><at><at>:<space>if<solidus>else<solidus>else<space>gets<space>through<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>part<space>in<space>parts:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>not<space>isinstance<openparen>part<comma><space>basestring_<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<comma><space>pos<space>=<space>part<openbracket>0<closebracket><comma><space>part<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>==<space><apos>else<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>self._eval<openparen>part<openbracket>2<closebracket><comma><space>ns<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>result:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._interpret_codes<openparen>part<openbracket>3<closebracket><comma><space>ns<comma><space>out<comma><space>defs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><lf><space><space><space><space><space><space><space><space>def<space>_eval<openparen>self<comma><space>code<comma><space>ns<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>eval<openparen>code<comma><space>self.default_namespace<comma><space>ns<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>SyntaxError<comma><space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>SyntaxError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>invalid<space>syntax<space>in<space>expression:<space>%s<apos><space>%<space>code<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space>except:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>exc_info<space>=<space>sys.exc_info<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e<space>=<space>exc_info<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>getattr<openparen>e<comma><space><apos>args<apos><comma><space>None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>arg0<space>=<space>e.args<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>arg0<space>=<space>coerce_text<openparen>e<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.args<space>=<space><openparen>self._add_line_info<openparen>arg0<comma><space>pos<closeparen><comma><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>exc_info<openbracket>0<closebracket><comma><space>e<comma><space>exc_info<openbracket>2<closebracket><lf><lf><space><space><space><space><space><space><space><space>def<space>_exec<openparen>self<comma><space>code<comma><space>ns<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>exec<space>code<space>in<space>self.default_namespace<comma><space>ns<lf><space><space><space><space><space><space><space><space><space><space><space><space>except:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>exc_info<space>=<space>sys.exc_info<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e<space>=<space>exc_info<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>e.args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.args<space>=<space><openparen>self._add_line_info<openparen>e.args<openbracket>0<closebracket><comma><space>pos<closeparen><comma><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.args<space>=<space><openparen>self._add_line_info<openparen>None<comma><space>pos<closeparen><comma><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>exc_info<openbracket>0<closebracket><comma><space>e<comma><space>exc_info<openbracket>2<closebracket><lf><lf><space><space><space><space><space><space><space><space>def<space>_repr<openparen>self<comma><space>value<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__traceback_hide__<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>value<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self._unicode:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>unicode<openparen>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>UnicodeDecodeError:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>bytes<openparen>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>isinstance<openparen>value<comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>coerce_text<openparen>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>is_unicode<openparen>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space>self.default_encoding<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.encode<openparen>self.default_encoding<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>except:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>exc_info<space>=<space>sys.exc_info<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e<space>=<space>exc_info<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.args<space>=<space><openparen>self._add_line_info<openparen>e.args<openbracket>0<closebracket><comma><space>pos<closeparen><comma><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>exc_info<openbracket>0<closebracket><comma><space>e<comma><space>exc_info<openbracket>2<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self._unicode<space>and<space>isinstance<openparen>value<comma><space>bytes<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>self.default_encoding:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>UnicodeDecodeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Cannot<space>decode<space>bytes<space>value<space>%r<space>into<space>unicode<space><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos><openparen>no<space>default_encoding<space>provided<closeparen><apos><space>%<space>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.decode<openparen>self.default_encoding<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>UnicodeDecodeError<comma><space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>UnicodeDecodeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.encoding<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.object<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.start<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.end<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>e.reason<space>+<space><apos><space>in<space>string<space>%r<apos><space>%<space>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>not<space>self._unicode<space>and<space>is_unicode<openparen>value<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>self.default_encoding:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>UnicodeEncodeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Cannot<space>encode<space>unicode<space>value<space>%r<space>into<space>bytes<space><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos><openparen>no<space>default_encoding<space>provided<closeparen><apos><space>%<space>value<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.encode<openparen>self.default_encoding<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>value<lf><lf><space><space><space><space><space><space><space><space>def<space>_add_line_info<openparen>self<comma><space>msg<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>msg<space>=<space><quote>%s<space>at<space>line<space>%s<space>column<space>%s<quote><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>msg<comma><space>pos<openbracket>0<closebracket><comma><space>pos<openbracket>1<closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self.name:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>msg<space>+=<space><quote><space>in<space>file<space>%s<quote><space>%<space>self.name<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>msg<lf><lf><lf><space><space><space><space>def<space>sub<openparen>content<comma><space>delimiters=None<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space>name<space>=<space>kw.get<openparen><apos>__name<apos><closeparen><lf><space><space><space><space><space><space><space><space>tmpl<space>=<space>Template<openparen>content<comma><space>name=name<comma><space>delimiters=delimiters<closeparen><lf><space><space><space><space><space><space><space><space>return<space>tmpl.substitute<openparen>kw<closeparen><lf><lf><lf><space><space><space><space>def<space>paste_script_template_renderer<openparen>content<comma><space>vars<comma><space>filename=None<closeparen>:<lf><space><space><space><space><space><space><space><space>tmpl<space>=<space>Template<openparen>content<comma><space>name=filename<closeparen><lf><space><space><space><space><space><space><space><space>return<space>tmpl.substitute<openparen>vars<closeparen><lf><lf><lf><space><space><space><space>class<space>bunch<openparen>dict<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<comma><space>value<space>in<space>kw.iteritems<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>setattr<openparen>self<comma><space>name<comma><space>value<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__setattr__<openparen>self<comma><space>name<comma><space>value<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self<openbracket>name<closebracket><space>=<space>value<lf><lf><space><space><space><space><space><space><space><space>def<space>__getattr__<openparen>self<comma><space>name<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self<openbracket>name<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>except<space>KeyError:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#raise<space>AttributeError<openparen>name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space><quote><quote><lf><lf><space><space><space><space><space><space><space><space>def<space>__getitem__<openparen>self<comma><space>key<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>default<apos><space>in<space>self:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>dict.__getitem__<openparen>self<comma><space>key<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>KeyError:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>dict.__getitem__<openparen>self<comma><space><apos>default<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>dict.__getitem__<openparen>self<comma><space>key<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>items<space>=<space><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><openparen>k<comma><space>v<closeparen><space>for<space>k<comma><space>v<space>in<space>self.iteritems<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>items.sort<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>%s<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.__class__.__name__<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos><space><apos>.join<openparen><openbracket><apos>%s=%r<apos><space>%<space><openparen>k<comma><space>v<closeparen><space>for<space>k<comma><space>v<space>in<space>items<closebracket><closeparen><closeparen><lf><lf><space><space><space><space>############################################################<lf><space><space><space><space>##<space>HTML<space>Templating<lf><space><space><space><space>############################################################<lf><lf><lf><space><space><space><space>class<space>html<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>value<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.value<space>=<space>value<lf><lf><space><space><space><space><space><space><space><space>def<space>__str__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.value<lf><lf><space><space><space><space><space><space><space><space>def<space>__html__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.value<lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>%r<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.__class__.__name__<comma><space>self.value<closeparen><lf><lf><lf><space><space><space><space>def<space>html_quote<openparen>value<comma><space>force=True<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>not<space>force<space>and<space>hasattr<openparen>value<comma><space><apos>__html__<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>value.__html__<openparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>value<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><apos><lf><space><space><space><space><space><space><space><space>if<space>not<space>isinstance<openparen>value<comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>coerce_text<openparen>value<closeparen><lf><space><space><space><space><space><space><space><space>if<space>sys.version<space><gt>=<space><quote>3<quote><space>and<space>isinstance<openparen>value<comma><space>bytes<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>cgi.escape<openparen>value.decode<openparen><apos>latin1<apos><closeparen><comma><space>1<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.encode<openparen><apos>latin1<apos><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>cgi.escape<openparen>value<comma><space>1<closeparen><lf><space><space><space><space><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>is_unicode<openparen>value<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.encode<openparen><apos>ascii<apos><comma><space><apos>xmlcharrefreplace<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>value<lf><lf><lf><space><space><space><space>def<space>url<openparen>v<closeparen>:<lf><space><space><space><space><space><space><space><space>v<space>=<space>coerce_text<openparen>v<closeparen><lf><space><space><space><space><space><space><space><space>if<space>is_unicode<openparen>v<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>v<space>=<space>v.encode<openparen><apos>utf8<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>url_quote<openparen>v<closeparen><lf><lf><lf><space><space><space><space>def<space>attr<openparen>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space>kw<space>=<space>list<openparen>kw.iteritems<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>kw.sort<openparen><closeparen><lf><space><space><space><space><space><space><space><space>parts<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>for<space>name<comma><space>value<space>in<space>kw:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>value<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name.endswith<openparen><apos>_<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>name<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>parts.append<openparen><apos>%s=<quote>%s<quote><apos><space>%<space><openparen>html_quote<openparen>name<closeparen><comma><space>html_quote<openparen>value<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>html<openparen><apos><space><apos>.join<openparen>parts<closeparen><closeparen><lf><lf><lf><space><space><space><space>class<space>HTMLTemplate<openparen>Template<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>default_namespace<space>=<space>Template.default_namespace.copy<openparen><closeparen><lf><space><space><space><space><space><space><space><space>default_namespace.update<openparen>dict<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>html=html<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>attr=attr<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>url=url<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>html_quote=html_quote<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>_repr<openparen>self<comma><space>value<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>hasattr<openparen>value<comma><space><apos>__html__<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value<space>=<space>value.__html__<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>quote<space>=<space>False<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>quote<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>plain<space>=<space>Template._repr<openparen>self<comma><space>value<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>quote:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>html_quote<openparen>plain<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>plain<lf><lf><lf><space><space><space><space>def<space>sub_html<openparen>content<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space>name<space>=<space>kw.get<openparen><apos>__name<apos><closeparen><lf><space><space><space><space><space><space><space><space>tmpl<space>=<space>HTMLTemplate<openparen>content<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>return<space>tmpl.substitute<openparen>kw<closeparen><lf><lf><lf><space><space><space><space>class<space>TemplateDef<openparen>object<closeparen>:<lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>template<comma><space>func_name<comma><space>func_signature<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>body<comma><space>ns<comma><space>pos<comma><space>bound_self=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._template<space>=<space>template<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._func_name<space>=<space>func_name<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._func_signature<space>=<space>func_signature<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._body<space>=<space>body<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._ns<space>=<space>ns<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._pos<space>=<space>pos<lf><space><space><space><space><space><space><space><space><space><space><space><space>self._bound_self<space>=<space>bound_self<lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>tempita<space>function<space>%s<openparen>%s<closeparen><space>at<space>%s:%s<gt><apos><space>%<space><openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._func_name<comma><space>self._func_signature<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._template.name<comma><space>self._pos<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__str__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self<openparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__call__<openparen>self<comma><space>*args<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>self._parse_signature<openparen>args<comma><space>kw<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ns<space>=<space>self._ns.copy<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ns.update<openparen>values<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>self._bound_self<space>is<space>not<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ns<openbracket><apos>self<apos><closebracket><space>=<space>self._bound_self<lf><space><space><space><space><space><space><space><space><space><space><space><space>out<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>subdefs<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._template._interpret_codes<openparen>self._body<comma><space>ns<comma><space>out<comma><space>subdefs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><apos>.join<openparen>out<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__get__<openparen>self<comma><space>obj<comma><space>type=None<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>obj<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self.__class__<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._template<comma><space>self._func_name<comma><space>self._func_signature<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self._body<comma><space>self._ns<comma><space>self._pos<comma><space>bound_self=obj<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>_parse_signature<openparen>self<comma><space>args<comma><space>kw<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>sig_args<comma><space>var_args<comma><space>var_kw<comma><space>defaults<space>=<space>self._func_signature<lf><space><space><space><space><space><space><space><space><space><space><space><space>extra_kw<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<comma><space>value<space>in<space>kw.iteritems<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>var_kw<space>and<space>name<space>not<space>in<space>sig_args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Unexpected<space>argument<space>%s<apos><space>%<space>name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>in<space>sig_args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<openbracket>sig_args<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>extra_kw<openbracket>name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space>args<space>=<space>list<openparen>args<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>sig_args<space>=<space>list<openparen>sig_args<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>while<space>args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>while<space>sig_args<space>and<space>sig_args<openbracket>0<closebracket><space>in<space>values:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sig_args.pop<openparen>0<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>sig_args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>sig_args.pop<openparen>0<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<openbracket>name<closebracket><space>=<space>args.pop<openparen>0<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>var_args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<openbracket>var_args<closebracket><space>=<space>tuple<openparen>args<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Extra<space>position<space>arguments:<space>%s<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>%<space><apos><comma><space><apos>.join<openparen>repr<openparen>v<closeparen><space>for<space>v<space>in<space>args<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<comma><space>value_expr<space>in<space>defaults.iteritems<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>not<space>in<space>values:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<openbracket>name<closebracket><space>=<space>self._template._eval<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>value_expr<comma><space>self._ns<comma><space>self._pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>name<space>in<space>sig_args:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>name<space>not<space>in<space>values:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TypeError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Missing<space>argument:<space>%s<apos><space>%<space>name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>var_kw:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<openbracket>var_kw<closebracket><space>=<space>extra_kw<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>values<lf><lf><lf><space><space><space><space>class<space>TemplateObject<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>name<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.__name<space>=<space>name<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.get<space>=<space>TemplateObjectGetter<openparen>self<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>%s<gt><apos><space>%<space><openparen>self.__class__.__name__<comma><space>self.__name<closeparen><lf><lf><lf><space><space><space><space>class<space>TemplateObjectGetter<openparen>object<closeparen>:<lf><lf><space><space><space><space><space><space><space><space>def<space>__init__<openparen>self<comma><space>template_obj<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.__template_obj<space>=<space>template_obj<lf><lf><space><space><space><space><space><space><space><space>def<space>__getattr__<openparen>self<comma><space>attr<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>getattr<openparen>self.__template_obj<comma><space>attr<comma><space>Empty<closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><lt>%s<space>around<space>%r<gt><apos><space>%<space><openparen>self.__class__.__name__<comma><space>self.__template_obj<closeparen><lf><lf><lf><space><space><space><space>class<space>_Empty<openparen>object<closeparen>:<lf><space><space><space><space><space><space><space><space>def<space>__call__<openparen>self<comma><space>*args<comma><space>**kw<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>self<lf><lf><space><space><space><space><space><space><space><space>def<space>__str__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos><apos><lf><lf><space><space><space><space><space><space><space><space>def<space>__repr__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><apos>Empty<apos><lf><lf><space><space><space><space><space><space><space><space>def<space>__unicode__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>u<apos><apos><lf><lf><space><space><space><space><space><space><space><space>def<space>__iter__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>iter<openparen><openparen><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>def<space>__bool__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><lf><space><space><space><space><space><space><space><space>if<space>sys.version<space><lt><space><quote>3<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>__nonzero__<space>=<space>__bool__<lf><lf><space><space><space><space>Empty<space>=<space>_Empty<openparen><closeparen><lf><space><space><space><space>del<space>_Empty<lf><lf><space><space><space><space>############################################################<lf><space><space><space><space>##<space>Lexing<space>and<space>Parsing<lf><space><space><space><space>############################################################<lf><lf><lf><space><space><space><space>def<space>lex<openparen>s<comma><space>name=None<comma><space>trim_whitespace=True<comma><space>line_offset=0<comma><space>delimiters=None<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>Lex<space>a<space>string<space>into<space>chunks:<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>lex<openparen><apos>hey<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><apos>hey<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>lex<openparen><apos>hey<space><opencurly><opencurly>you<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><apos>hey<space><apos><comma><space><openparen><apos>you<apos><comma><space><openparen>1<comma><space>7<closeparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>lex<openparen><apos>hey<space><opencurly><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>No<space><closecurly><closecurly><space>to<space>finish<space>last<space>expression<space>at<space>line<space>1<space>column<space>7<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>lex<openparen><apos>hey<space><closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space><closecurly><closecurly><space>outside<space>expression<space>at<space>line<space>1<space>column<space>7<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>lex<openparen><apos>hey<space><opencurly><opencurly><space><opencurly><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space><opencurly><opencurly><space>inside<space>expression<space>at<space>line<space>1<space>column<space>10<lf><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>delimiters<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiters<space>=<space><openparen><space>Template.default_namespace<openbracket><apos>start_braces<apos><closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>Template.default_namespace<openbracket><apos>end_braces<apos><closebracket><space><closeparen><lf><space><space><space><space><space><space><space><space>in_expr<space>=<space>False<lf><space><space><space><space><space><space><space><space>chunks<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>last<space>=<space>0<lf><space><space><space><space><space><space><space><space>last_pos<space>=<space><openparen>line_offset<space>+<space>1<comma><space>1<closeparen><lf><space><space><space><space><space><space><space><space>token_re<space>=<space>re.compile<openparen>r<apos>%s|%s<apos><space>%<space><openparen>re.escape<openparen>delimiters<openbracket>0<closebracket><closeparen><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>re.escape<openparen>delimiters<openbracket>1<closebracket><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>for<space>match<space>in<space>token_re.finditer<openparen>s<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>match.group<openparen>0<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>pos<space>=<space>find_position<openparen>s<comma><space>match.end<openparen><closeparen><comma><space>line_offset<comma><space>last_pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>expr<space>==<space>delimiters<openbracket>0<closebracket><space>and<space>in_expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>%s<space>inside<space>expression<apos><space>%<space>delimiters<openbracket>0<closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>expr<space>==<space>delimiters<openbracket>1<closebracket><space>and<space>not<space>in_expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>%s<space>outside<space>expression<apos><space>%<space>delimiters<openbracket>1<closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>expr<space>==<space>delimiters<openbracket>0<closebracket>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>part<space>=<space>s<openbracket>last:match.start<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>part:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>chunks.append<openparen>part<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>in_expr<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>chunks.append<openparen><openparen>s<openbracket>last:match.start<openparen><closeparen><closebracket><comma><space>last_pos<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>in_expr<space>=<space>False<lf><space><space><space><space><space><space><space><space><space><space><space><space>last<space>=<space>match.end<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>last_pos<space>=<space>pos<lf><space><space><space><space><space><space><space><space>if<space>in_expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>No<space>%s<space>to<space>finish<space>last<space>expression<apos><space>%<space>delimiters<openbracket>1<closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>name=name<comma><space>position=last_pos<closeparen><lf><space><space><space><space><space><space><space><space>part<space>=<space>s<openbracket>last:<closebracket><lf><space><space><space><space><space><space><space><space>if<space>part:<lf><space><space><space><space><space><space><space><space><space><space><space><space>chunks.append<openparen>part<closeparen><lf><space><space><space><space><space><space><space><space>if<space>trim_whitespace:<lf><space><space><space><space><space><space><space><space><space><space><space><space>chunks<space>=<space>trim_lex<openparen>chunks<closeparen><lf><space><space><space><space><space><space><space><space>return<space>chunks<lf><lf><space><space><space><space>statement_re<space>=<space>re.compile<openparen>r<apos>^<openparen>?:if<space>|elif<space>|for<space>|def<space>|inherit<space>|default<space>|py:<closeparen><apos><closeparen><lf><space><space><space><space>single_statements<space>=<space><openbracket><apos>else<apos><comma><space><apos>endif<apos><comma><space><apos>endfor<apos><comma><space><apos>enddef<apos><comma><space><apos>continue<apos><comma><space><apos>break<apos><closebracket><lf><space><space><space><space>trail_whitespace_re<space>=<space>re.compile<openparen>r<apos><backslash>n<backslash>r?<openbracket><backslash>t<space><closebracket>*<dollar><apos><closeparen><lf><space><space><space><space>lead_whitespace_re<space>=<space>re.compile<openparen>r<apos>^<openbracket><backslash>t<space><closebracket>*<backslash>n<apos><closeparen><lf><lf><lf><space><space><space><space>def<space>trim_lex<openparen>tokens<closeparen>:<lf><space><space><space><space><space><space><space><space>r<quote><quote><quote><lf><space><space><space><space><space><space><space><space>Takes<space>a<space>lexed<space>set<space>of<space>tokens<comma><space>and<space>removes<space>whitespace<space>when<space>there<space>is<lf><space><space><space><space><space><space><space><space>a<space>directive<space>on<space>a<space>line<space>by<space>itself:<lf><lf><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>tokens<space>=<space>lex<openparen><apos><opencurly><opencurly>if<space>x<closecurly><closecurly><backslash>nx<backslash>n<opencurly><opencurly>endif<closecurly><closecurly><backslash>ny<apos><comma><space>trim_whitespace=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>tokens<lf><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>if<space>x<apos><comma><space><openparen>1<comma><space>3<closeparen><closeparen><comma><space><apos><backslash>nx<backslash>n<apos><comma><space><openparen><apos>endif<apos><comma><space><openparen>3<comma><space>3<closeparen><closeparen><comma><space><apos><backslash>ny<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>trim_lex<openparen>tokens<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>if<space>x<apos><comma><space><openparen>1<comma><space>3<closeparen><closeparen><comma><space><apos>x<backslash>n<apos><comma><space><openparen><apos>endif<apos><comma><space><openparen>3<comma><space>3<closeparen><closeparen><comma><space><apos>y<apos><closebracket><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>last_trim<space>=<space>None<lf><space><space><space><space><space><space><space><space>for<space>i<space>in<space>range<openparen>len<openparen>tokens<closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>current<space>=<space>tokens<openbracket>i<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>tokens<openbracket>i<closebracket><comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#<space>we<space>don<apos>t<space>trim<space>this<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space>item<space>=<space>current<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>statement_re.search<openparen>item<closeparen><space>and<space>item<space>not<space>in<space>single_statements:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>i:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>prev<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>prev<space>=<space>tokens<openbracket>i<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>i<space>+<space>1<space><gt>=<space>len<openparen>tokens<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<space>=<space>tokens<openbracket>i<space>+<space>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>not<space>isinstance<openparen>next_chunk<comma><space>basestring_<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space>not<space>isinstance<openparen>prev<comma><space>basestring_<closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space>prev_ok<space>=<space>not<space>prev<space>or<space>trail_whitespace_re.search<openparen>prev<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>i<space>==<space>1<space>and<space>not<space>prev.strip<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>prev_ok<space>=<space>True<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>last_trim<space>is<space>not<space>None<space>and<space>last_trim<space>+<space>2<space>==<space>i<space>and<space>not<space>prev.strip<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>prev_ok<space>=<space><apos>last<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>prev_ok<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space><openparen>not<space>next_chunk<space>or<space>lead_whitespace_re.search<openparen>next_chunk<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space><openparen>i<space>==<space>len<openparen>tokens<closeparen><space>-<space>2<space>and<space>not<space>next_chunk.strip<openparen><closeparen><closeparen><closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>prev:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen><openparen>i<space>==<space>1<space>and<space>not<space>prev.strip<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space>prev_ok<space>==<space><apos>last<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tokens<openbracket>i<space>-<space>1<closebracket><space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>m<space>=<space>trail_whitespace_re.search<openparen>prev<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#<space>+1<space>to<space>leave<space>the<space>leading<space><backslash>n<space>on:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>prev<space>=<space>prev<openbracket>:m.start<openparen><closeparen><space>+<space>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tokens<openbracket>i<space>-<space>1<closebracket><space>=<space>prev<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>next_chunk:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>last_trim<space>=<space>i<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>i<space>==<space>len<openparen>tokens<closeparen><space>-<space>2<space>and<space>not<space>next_chunk.strip<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tokens<openbracket>i<space>+<space>1<closebracket><space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>m<space>=<space>lead_whitespace_re.search<openparen>next_chunk<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<space>=<space>next_chunk<openbracket>m.end<openparen><closeparen>:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tokens<openbracket>i<space>+<space>1<closebracket><space>=<space>next_chunk<lf><space><space><space><space><space><space><space><space>return<space>tokens<lf><lf><lf><space><space><space><space>def<space>find_position<openparen>string<comma><space>index<comma><space>last_index<comma><space>last_pos=<openparen>1<comma><space>1<closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>Given<space>a<space>string<space>and<space>index<comma><space>return<space><openparen>line<comma><space>column<closeparen><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>lines<space>=<space>string.count<openparen><apos><backslash>n<apos><comma><space>last_index<comma><space>index<closeparen><lf><space><space><space><space><space><space><space><space>if<space>lines<space><gt><space>0:<lf><space><space><space><space><space><space><space><space><space><space><space><space>column<space>=<space>index<space>-<space>string.rfind<openparen><apos><backslash>n<apos><comma><space>last_index<comma><space>index<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>column<space>=<space>last_pos<openbracket>1<closebracket><space>+<space><openparen>index<space>-<space>last_index<closeparen><lf><space><space><space><space><space><space><space><space>return<space><openparen>last_pos<openbracket>0<closebracket><space>+<space>lines<comma><space>column<closeparen><lf><lf><lf><space><space><space><space>def<space>parse<openparen>s<comma><space>name=None<comma><space>line_offset=0<comma><space>delimiters=None<closeparen>:<lf><space><space><space><space><space><space><space><space>r<quote><quote><quote><lf><space><space><space><space><space><space><space><space>Parses<space>a<space>string<space>into<space>a<space>kind<space>of<space>AST<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>x<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>expr<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><apos>x<apos><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos>foo<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><apos>foo<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>if<space>x<closecurly><closecurly>test<opencurly><opencurly>endif<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>cond<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><openparen><apos>if<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><apos>x<apos><comma><space><openbracket><apos>test<apos><closebracket><closeparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos>series-<gt><opencurly><opencurly>for<space>x<space>in<space>y<closecurly><closecurly>x=<opencurly><opencurly>x<closecurly><closecurly><opencurly><opencurly>endfor<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><apos>series-<gt><apos><comma><space><openparen><apos>for<apos><comma><space><openparen>1<comma><space>11<closeparen><comma><space><openparen><apos>x<apos><comma><closeparen><comma><space><apos>y<apos><comma><space><openbracket><apos>x=<apos><comma><space><openparen><apos>expr<apos><comma><space><openparen>1<comma><space>27<closeparen><comma><space><apos>x<apos><closeparen><closebracket><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>for<space>x<comma><space>y<space>in<space>z:<closecurly><closecurly><opencurly><opencurly>continue<closecurly><closecurly><opencurly><opencurly>endfor<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>for<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><openparen><apos>x<apos><comma><space><apos>y<apos><closeparen><comma><space><apos>z<apos><comma><space><openbracket><openparen><apos>continue<apos><comma><space><openparen>1<comma><space>21<closeparen><closeparen><closebracket><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>py:x=1<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>py<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><apos>x=1<apos><closeparen><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>if<space>x<closecurly><closecurly>a<opencurly><opencurly>elif<space>y<closecurly><closecurly>b<opencurly><opencurly>else<closecurly><closecurly>c<opencurly><opencurly>endif<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><openbracket><openparen><apos>cond<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><openparen><apos>if<apos><comma><space><openparen>1<comma><space>3<closeparen><comma><space><apos>x<apos><comma><space><openbracket><apos>a<apos><closebracket><closeparen><comma><space><openparen><apos>elif<apos><comma><space><openparen>1<comma><space>12<closeparen><comma><space><apos>y<apos><comma><space><openbracket><apos>b<apos><closebracket><closeparen><comma><space><openparen><apos>else<apos><comma><space><openparen>1<comma><space>23<closeparen><comma><space>None<comma><space><openbracket><apos>c<apos><closebracket><closeparen><closeparen><closebracket><lf><lf><space><space><space><space><space><space><space><space>Some<space>exceptions::<lf><lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>continue<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>continue<space>outside<space>of<space>for<space>loop<space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>if<space>x<closecurly><closecurly>foo<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>No<space><opencurly><opencurly>endif<closecurly><closecurly><space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>else<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>else<space>outside<space>of<space>an<space>if<space>block<space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>if<space>x<closecurly><closecurly><opencurly><opencurly>for<space>x<space>in<space>y<closecurly><closecurly><opencurly><opencurly>endif<closecurly><closecurly><opencurly><opencurly>endfor<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>Unexpected<space>endif<space>at<space>line<space>1<space>column<space>25<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>if<closecurly><closecurly><opencurly><opencurly>endif<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>if<space>with<space>no<space>expression<space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>for<space>x<space>y<closecurly><closecurly><opencurly><opencurly>endfor<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>Bad<space>for<space><openparen>no<space><quote>in<quote><closeparen><space>in<space><apos>x<space>y<apos><space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><space><space><space><space><gt><gt><gt><space>parse<openparen><apos><opencurly><opencurly>py:x=1<backslash>ny=2<closecurly><closecurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>Traceback<space><openparen>most<space>recent<space>call<space>last<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>...<lf><space><space><space><space><space><space><space><space><space><space><space><space>TemplateError:<space>Multi-line<space>py<space>blocks<space>must<space>start<space>with<space>a<space>newline<space>at<space>line<space>1<space>column<space>3<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>delimiters<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiters<space>=<space><openparen><space>Template.default_namespace<openbracket><apos>start_braces<apos><closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>Template.default_namespace<openbracket><apos>end_braces<apos><closebracket><space><closeparen><lf><space><space><space><space><space><space><space><space>tokens<space>=<space>lex<openparen>s<comma><space>name=name<comma><space>line_offset=line_offset<comma><space>delimiters=delimiters<closeparen><lf><space><space><space><space><space><space><space><space>result<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>while<space>tokens:<lf><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<comma><space>tokens<space>=<space>parse_expr<openparen>tokens<comma><space>name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>result.append<openparen>next_chunk<closeparen><lf><space><space><space><space><space><space><space><space>return<space>result<lf><lf><lf><space><space><space><space>def<space>parse_expr<openparen>tokens<comma><space>name<comma><space>context=<openparen><closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>tokens<openbracket>0<closebracket><comma><space>basestring_<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>tokens<openbracket>0<closebracket><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>expr<comma><space>pos<space>=<space>tokens<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space>expr<space>=<space>expr.strip<openparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>expr.startswith<openparen><apos>py:<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>expr<openbracket>3:<closebracket>.lstrip<openparen><apos><space><backslash>t<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>expr.startswith<openparen><apos><backslash>n<apos><closeparen><space>or<space>expr.startswith<openparen><apos><backslash>r<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>expr.lstrip<openparen><apos><backslash>r<backslash>n<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos><backslash>r<apos><space>in<space>expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>expr.replace<openparen><apos><backslash>r<backslash>n<apos><comma><space><apos><backslash>n<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>=<space>expr.replace<openparen><apos><backslash>r<apos><comma><space><apos><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>expr<space>+=<space><apos><backslash>n<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos><backslash>n<apos><space>in<space>expr:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Multi-line<space>py<space>blocks<space>must<space>start<space>with<space>a<space>newline<apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen><apos>py<apos><comma><space>pos<comma><space>expr<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>elif<space>expr<space>in<space><openparen><apos>continue<apos><comma><space><apos>break<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>for<apos><space>not<space>in<space>context:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>continue<space>outside<space>of<space>for<space>loop<apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen>expr<comma><space>pos<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>if<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>parse_cond<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space>elif<space><openparen>expr.startswith<openparen><apos>elif<space><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space>expr<space>==<space><apos>else<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>%s<space>outside<space>of<space>an<space>if<space>block<apos><space>%<space>expr.split<openparen><closeparen><openbracket>0<closebracket><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr<space>in<space><openparen><apos>if<apos><comma><space><apos>elif<apos><comma><space><apos>for<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>%s<space>with<space>no<space>expression<apos><space>%<space>expr<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr<space>in<space><openparen><apos>endif<apos><comma><space><apos>endfor<apos><comma><space><apos>enddef<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Unexpected<space>%s<apos><space>%<space>expr<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>for<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>parse_for<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>default<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>parse_default<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>inherit<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>parse_inherit<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>def<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>parse_def<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>expr.startswith<openparen><apos>#<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen><apos>comment<apos><comma><space>pos<comma><space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>return<space><openparen><apos>expr<apos><comma><space>pos<comma><space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><lf><lf><space><space><space><space>def<space>parse_cond<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space>start<space>=<space>tokens<openbracket>0<closebracket><openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space>pieces<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>context<space>=<space>context<space>+<space><openparen><apos>if<apos><comma><closeparen><lf><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>tokens:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Missing<space><opencurly><opencurly>endif<closecurly><closecurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=start<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>isinstance<openparen>tokens<openbracket>0<closebracket><comma><space>tuple<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><space>==<space><apos>endif<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen><apos>cond<apos><comma><space>start<closeparen><space>+<space>tuple<openparen>pieces<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<comma><space>tokens<space>=<space>parse_one_cond<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>pieces.append<openparen>next_chunk<closeparen><lf><lf><lf><space><space><space><space>def<space>parse_one_cond<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space><openparen>first<comma><space>pos<closeparen><comma><space>tokens<space>=<space>tokens<openbracket>0<closebracket><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>content<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>if<space>first.endswith<openparen><apos>:<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>first<space>=<space>first<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space>if<space>first.startswith<openparen><apos>if<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>part<space>=<space><openparen><apos>if<apos><comma><space>pos<comma><space>first<openbracket>3:<closebracket>.lstrip<openparen><closeparen><comma><space>content<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>first.startswith<openparen><apos>elif<space><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>part<space>=<space><openparen><apos>elif<apos><comma><space>pos<comma><space>first<openbracket>5:<closebracket>.lstrip<openparen><closeparen><comma><space>content<closeparen><lf><space><space><space><space><space><space><space><space>elif<space>first<space>==<space><apos>else<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>part<space>=<space><openparen><apos>else<apos><comma><space>pos<comma><space>None<comma><space>content<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>0<comma><space><quote>Unexpected<space>token<space>%r<space>at<space>%s<quote><space>%<space><openparen>first<comma><space>pos<closeparen><lf><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>tokens:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>No<space><opencurly><opencurly>endif<closecurly><closecurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>isinstance<openparen>tokens<openbracket>0<closebracket><comma><space>tuple<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space><openparen>tokens<openbracket>0<closebracket><openbracket>0<closebracket><space>==<space><apos>endif<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space>tokens<openbracket>0<closebracket><openbracket>0<closebracket>.startswith<openparen><apos>elif<space><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>or<space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><space>==<space><apos>else<apos><closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>part<comma><space>tokens<lf><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<comma><space>tokens<space>=<space>parse_expr<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>content.append<openparen>next_chunk<closeparen><lf><lf><lf><space><space><space><space>def<space>parse_for<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space>first<comma><space>pos<space>=<space>tokens<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space>tokens<space>=<space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>context<space>=<space><openparen><apos>for<apos><comma><closeparen><space>+<space>context<lf><space><space><space><space><space><space><space><space>content<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>assert<space>first.startswith<openparen><apos>for<space><apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>first.endswith<openparen><apos>:<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>first<space>=<space>first<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space>first<space>=<space>first<openbracket>3:<closebracket>.strip<openparen><closeparen><lf><space><space><space><space><space><space><space><space>match<space>=<space>in_re.search<openparen>first<closeparen><lf><space><space><space><space><space><space><space><space>if<space>not<space>match:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Bad<space>for<space><openparen>no<space><quote>in<quote><closeparen><space>in<space>%r<apos><space>%<space>first<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>vars<space>=<space>first<openbracket>:match.start<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space>if<space><apos><openparen><apos><space>in<space>vars:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>You<space>cannot<space>have<space><openparen><closeparen><space>in<space>the<space>variable<space>section<space>of<space>a<space>for<space>loop<space><openparen>%r<closeparen><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>%<space>vars<comma><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>vars<space>=<space>tuple<openparen><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>v.strip<openparen><closeparen><space>for<space>v<space>in<space>first<openbracket>:match.start<openparen><closeparen><closebracket>.split<openparen><apos><comma><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>v.strip<openparen><closeparen><closebracket><closeparen><lf><space><space><space><space><space><space><space><space>expr<space>=<space>first<openbracket>match.end<openparen><closeparen>:<closebracket><lf><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>tokens:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>No<space><opencurly><opencurly>endfor<closecurly><closecurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>isinstance<openparen>tokens<openbracket>0<closebracket><comma><space>tuple<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><space>==<space><apos>endfor<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen><apos>for<apos><comma><space>pos<comma><space>vars<comma><space>expr<comma><space>content<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<comma><space>tokens<space>=<space>parse_expr<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>content.append<openparen>next_chunk<closeparen><lf><lf><lf><space><space><space><space>def<space>parse_default<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space>first<comma><space>pos<space>=<space>tokens<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space>assert<space>first.startswith<openparen><apos>default<space><apos><closeparen><lf><space><space><space><space><space><space><space><space>first<space>=<space>first.split<openparen>None<comma><space>1<closeparen><openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space>parts<space>=<space>first.split<openparen><apos>=<apos><comma><space>1<closeparen><lf><space><space><space><space><space><space><space><space>if<space>len<openparen>parts<closeparen><space>==<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Expression<space>must<space>be<space><opencurly><opencurly>default<space>var=value<closecurly><closecurly><semicolon><space>no<space>=<space>found<space>in<space>%r<quote><space>%<space>first<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>var<space>=<space>parts<openbracket>0<closebracket>.strip<openparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space><apos><comma><apos><space>in<space>var:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote><opencurly><opencurly>default<space>x<comma><space>y<space>=<space>...<closecurly><closecurly><space>is<space>not<space>supported<quote><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>if<space>not<space>var_re.search<openparen>var<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Not<space>a<space>valid<space>variable<space>name<space>for<space><opencurly><opencurly>default<closecurly><closecurly>:<space>%r<quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>%<space>var<comma><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>expr<space>=<space>parts<openbracket>1<closebracket>.strip<openparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space><openparen><apos>default<apos><comma><space>pos<comma><space>var<comma><space>expr<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><lf><lf><space><space><space><space>def<space>parse_inherit<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space>first<comma><space>pos<space>=<space>tokens<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space>assert<space>first.startswith<openparen><apos>inherit<space><apos><closeparen><lf><space><space><space><space><space><space><space><space>expr<space>=<space>first.split<openparen>None<comma><space>1<closeparen><openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space>return<space><openparen><apos>inherit<apos><comma><space>pos<comma><space>expr<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><lf><lf><space><space><space><space>def<space>parse_def<openparen>tokens<comma><space>name<comma><space>context<closeparen>:<lf><space><space><space><space><space><space><space><space>first<comma><space>start<space>=<space>tokens<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space>tokens<space>=<space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space>assert<space>first.startswith<openparen><apos>def<space><apos><closeparen><lf><space><space><space><space><space><space><space><space>first<space>=<space>first.split<openparen>None<comma><space>1<closeparen><openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space>if<space>first.endswith<openparen><apos>:<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>first<space>=<space>first<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space>if<space><apos><openparen><apos><space>not<space>in<space>first:<lf><space><space><space><space><space><space><space><space><space><space><space><space>func_name<space>=<space>first<lf><space><space><space><space><space><space><space><space><space><space><space><space>sig<space>=<space><openparen><openparen><closeparen><comma><space>None<comma><space>None<comma><space><opencurly><closecurly><closeparen><lf><space><space><space><space><space><space><space><space>elif<space>not<space>first.endswith<openparen><apos><closeparen><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><quote>Function<space>definition<space>doesn<apos>t<space>end<space>with<space><closeparen>:<space>%s<quote><space>%<space>first<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=start<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>first<space>=<space>first<openbracket>:-1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>func_name<comma><space>sig_text<space>=<space>first.split<openparen><apos><openparen><apos><comma><space>1<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>sig<space>=<space>parse_signature<openparen>sig_text<comma><space>name<comma><space>start<closeparen><lf><space><space><space><space><space><space><space><space>context<space>=<space>context<space>+<space><openparen><apos>def<apos><comma><closeparen><lf><space><space><space><space><space><space><space><space>content<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>tokens:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Missing<space><opencurly><opencurly>enddef<closecurly><closecurly><apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=start<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>isinstance<openparen>tokens<openbracket>0<closebracket><comma><space>tuple<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>and<space>tokens<openbracket>0<closebracket><openbracket>0<closebracket><space>==<space><apos>enddef<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space><openparen><apos>def<apos><comma><space>start<comma><space>func_name<comma><space>sig<comma><space>content<closeparen><comma><space>tokens<openbracket>1:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>next_chunk<comma><space>tokens<space>=<space>parse_expr<openparen>tokens<comma><space>name<comma><space>context<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>content.append<openparen>next_chunk<closeparen><lf><lf><lf><space><space><space><space>def<space>parse_signature<openparen>sig_text<comma><space>name<comma><space>pos<closeparen>:<lf><space><space><space><space><space><space><space><space>tokens<space>=<space>tokenize.generate_tokens<openparen>StringIO<openparen>sig_text<closeparen>.readline<closeparen><lf><space><space><space><space><space><space><space><space>sig_args<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>var_arg<space>=<space>None<lf><space><space><space><space><space><space><space><space>var_kw<space>=<space>None<lf><space><space><space><space><space><space><space><space>defaults<space>=<space><opencurly><closecurly><lf><lf><space><space><space><space><space><space><space><space>def<space>get_token<openparen>pos=False<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tok_type<comma><space>tok_string<comma><space><openparen>srow<comma><space>scol<closeparen><comma><space><openparen>erow<comma><space>ecol<closeparen><comma><space>line<space>=<space>next<openparen>tokens<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>except<space>StopIteration:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>tokenize.ENDMARKER<comma><space><apos><apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>pos:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>tok_type<comma><space>tok_string<comma><space><openparen>srow<comma><space>scol<closeparen><comma><space><openparen>erow<comma><space>ecol<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<space>tok_type<comma><space>tok_string<lf><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>var_arg_type<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space>tok_type<comma><space>tok_string<space>=<space>get_token<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.ENDMARKER:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.OP<space>and<space><openparen>tok_string<space>==<space><apos>*<apos><space>or<space>tok_string<space>==<space><apos>**<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>var_arg_type<space>=<space>tok_string<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tok_type<comma><space>tok_string<space>=<space>get_token<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>!=<space>tokenize.NAME:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>Invalid<space>signature:<space><openparen>%s<closeparen><apos><space>%<space>sig_text<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>var_name<space>=<space>tok_string<lf><space><space><space><space><space><space><space><space><space><space><space><space>tok_type<comma><space>tok_string<space>=<space>get_token<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.ENDMARKER<space>or<space><openparen>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>==<space><apos><comma><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>var_arg_type<space>==<space><apos>*<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>var_arg<space>=<space>var_name<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>var_arg_type<space>==<space><apos>**<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>var_kw<space>=<space>var_name<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sig_args.append<openparen>var_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.ENDMARKER:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>continue<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>var_arg_type<space>is<space>not<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>Invalid<space>signature:<space><openparen>%s<closeparen><apos><space>%<space>sig_text<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>==<space><apos>=<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_type<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>unnest_type<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_count<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>start_pos<space>=<space>end_pos<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>parts<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>while<space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>tok_type<comma><space>tok_string<comma><space>s<comma><space>e<space>=<space>get_token<openparen>True<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>start_pos<space>is<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>start_pos<space>=<space>s<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>end_pos<space>=<space>e<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>tok_type<space>==<space>tokenize.ENDMARKER<space>and<space>nest_count:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>TemplateError<openparen><apos>Invalid<space>signature:<space><openparen>%s<closeparen><apos><space>%<space>sig_text<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>position=pos<comma><space>name=name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><openparen>not<space>nest_count<space>and<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><openparen>tok_type<space>==<space>tokenize.ENDMARKER<space>or<space><openparen>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>==<space><apos><comma><apos><closeparen><closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>default_expr<space>=<space>isolate_expression<openparen>sig_text<comma><space>start_pos<comma><space>end_pos<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>defaults<openbracket>var_name<closebracket><space>=<space>default_expr<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sig_args.append<openparen>var_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>break<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>parts.append<openparen><openparen>tok_type<comma><space>tok_string<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>nest_count<space>and<space>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>==<space>nest_type:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_count<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>nest_count<space>and<space>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>==<space>unnest_type:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_count<space>-=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>not<space>nest_count:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_type<space>=<space>unnest_type<space>=<space>None<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space>not<space>nest_count<space>and<space>tok_type<space>==<space>tokenize.OP<space>and<space>tok_string<space>in<space><openparen><apos><openparen><apos><comma><space><apos><openbracket><apos><comma><space><apos><opencurly><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_type<space>=<space>tok_string<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>nest_count<space>=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>unnest_type<space>=<space><opencurly><apos><openparen><apos>:<space><apos><closeparen><apos><comma><space><apos><openbracket><apos>:<space><apos><closebracket><apos><comma><space><apos><opencurly><apos>:<space><apos><closecurly><apos><closecurly><openbracket>nest_type<closebracket><lf><space><space><space><space><space><space><space><space>return<space>sig_args<comma><space>var_arg<comma><space>var_kw<comma><space>defaults<lf><lf><lf><space><space><space><space>def<space>isolate_expression<openparen>string<comma><space>start_pos<comma><space>end_pos<closeparen>:<lf><space><space><space><space><space><space><space><space>srow<comma><space>scol<space>=<space>start_pos<lf><space><space><space><space><space><space><space><space>srow<space>-=<space>1<lf><space><space><space><space><space><space><space><space>erow<comma><space>ecol<space>=<space>end_pos<lf><space><space><space><space><space><space><space><space>erow<space>-=<space>1<lf><space><space><space><space><space><space><space><space>lines<space>=<space>string.splitlines<openparen>True<closeparen><lf><space><space><space><space><space><space><space><space>if<space>srow<space>==<space>erow:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>lines<openbracket>srow<closebracket><openbracket>scol:ecol<closebracket><lf><space><space><space><space><space><space><space><space>parts<space>=<space><openbracket>lines<openbracket>srow<closebracket><openbracket>scol:<closebracket><closebracket><lf><space><space><space><space><space><space><space><space>parts.extend<openparen>lines<openbracket>srow+1:erow<closebracket><closeparen><lf><space><space><space><space><space><space><space><space>if<space>erow<space><lt><space>len<openparen>lines<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>It<apos>ll<space>sometimes<space>give<space><openparen>end_row_past_finish<comma><space>0<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>parts.append<openparen>lines<openbracket>erow<closebracket><openbracket>:ecol<closebracket><closeparen><lf><space><space><space><space><space><space><space><space>return<space><apos><apos>.join<openparen>parts<closeparen><lf>else:<lf><space><space><space><space>print<space><quote><at><space>Tempita<space>already<space>loaded.<space>Nothing<space>to<space>do<space>here<quote><lf><lf><lf><lf>class<space>fmeList<openparen><closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<comma><space>listName<closeparen>:<lf><space><space><space><space><space><space><space><space>self.processedFields<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.rows<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.name<space>=<space>listName<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>addField<openparen>self<comma><space>feature<comma><space>fieldName<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>fieldName<space>not<space>in<space>self.processedFields:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.processedFields.append<openparen>fieldName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>feature.getAttribute<openparen>self.name<space>+<space><quote><opencurly><closecurly>.<quote><space>+<space>fieldName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>if<space>this<space>is<space>the<space>first<space>field<space>we<space>add<comma><space>build<space>all<space>data<space>rows<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>otherwise<comma><space>just<space>populate<space>the<space>new<space>field<space>in<space>every<space>existing<space>row<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>self.rows<closeparen>==0:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>val<space>in<space>values:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.rows.append<openparen>bunch<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>ix<space>in<space>range<openparen>0<comma>len<openparen>values<closeparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.rows<openbracket>ix<closebracket><openbracket>fieldName<closebracket><space>=<space>values<openbracket>ix<closebracket><lf><lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.compiledTemplate<space>=<space>None<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>init<space>data<space>storage<lf><space><space><space><space><space><space><space><space>self.data<space>=<space>bunch<openparen><closeparen><lf><space><space><space><space><space><space><space><space>self.data<openbracket><quote>features<quote><closebracket><space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><lf><space><space><space><space>#<space>Most<space>init<space>actually<space>takes<space>place<space>here<comma><space>because<space>we<space>need<space>the<space>template<space>file<space>name<lf><space><space><space><space>#<space>This<space>is<space>so<space>because<space>FME<space>fails<space>when<space>you<space>access<space>published<space>parameters<space>from<space>python<lf><space><space><space><space>#<space><space><space>you<space>have<space>to<space>write<space>them<space>to<space>an<space>attribute<comma><space>and<space>so<space>you<space>have<space>to<space>wait<space>for<space>the<space>first<space>feature<lf><space><space><space><space>def<space>lazyCompile<openparen>self<comma><space>tpath<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>CompiledTemplates<comma><space>Template<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>tname<space>=<space>os.path.basename<openparen>tpath<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>local<space>id<space>for<space>output<space>handling<lf><space><space><space><space><space><space><space><space>self.localId<space>=<space>tname<space>+<space>datetime.datetime.now<openparen><closeparen>.strftime<openparen><quote>%Y%m%d%H%M%S%f<quote><closeparen><lf><space><space><space><space><lf><space><space><space><space><space><space><space><space>#compile<space>or<space>fetch<space>compiled<space><lf><space><space><space><space><space><space><space><space>if<space>tname<space>not<space>in<space>CompiledTemplates:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.compiledTemplate<space>=<space>Template.from_filename<openparen>tpath<closeparen><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>CompiledTemplates<openbracket>tname<closebracket><space>=<space>self.compiledTemplate<lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.compiledTemplate<space>=<space>CompiledTemplates<openbracket>tname<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<space>self.compiledTemplate==None:<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.lazyCompile<openparen>feature.getAttribute<openparen><apos>_tempitaTemplateFile<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><quote>_tempitaLocalId<quote><comma><space>self.localId<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>determine<space>whether<space>this<space>is<space>a<space>normal<space>feature<space>or<space>a<space>global<space>var<lf><space><space><space><space><space><space><space><space>dataClass<space>=<space>feature.getAttribute<openparen><apos>_tempitaDataClass<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>dataClass==<quote>globalKeyValue<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>name<space>=<space>feature.getAttribute<openparen><quote>name<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>val<space>=<space>feature.getAttribute<openparen><quote>value<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.data<openbracket>name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space><space><space><space><space>pass<lf><space><space><space><space><space><space><space><space>elif<space>dataClass==<quote>globalFirstRow<quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>attrs<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>attrs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.data<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>attrs<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>row<space>=<space>bunch<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>localLists<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>attrs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><quote><opencurly><quote><space>in<space>att:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ix<space>=<space>att.index<openparen><quote><opencurly><quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>listName<space>=<space>att<openbracket>:ix<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>listName<space>not<space>in<space>localLists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>localLists<openbracket>listName<closebracket><space>=<space>fmeList<openparen>listName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ix<space>=<space>att.index<openparen><quote>.<quote><closeparen><space>+<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>fieldName<space>=<space>att<openbracket>ix:<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>localLists<openbracket>listName<closebracket>.addField<openparen>feature<comma><space>fieldName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>pass<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>val<space>=<space>feature.getAttribute<openparen>att<closeparen><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>row<openbracket>att<closebracket><space>=<space>val<lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>listName<space>in<space>localLists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>row<openbracket>listName<closebracket><space>=<space>localLists<openbracket>listName<closebracket>.rows<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.data<openbracket><quote>features<quote><closebracket>.append<openparen>row<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>TempitaOutputs<lf><space><space><space><space><space><space><space><space>html<space>=<space>self.compiledTemplate.substitute<openparen>self.data<closeparen><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>TempitaOutputs<openbracket>self.localId<closebracket><space>=<space>html<space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>pass<lf><lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT"

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_oxUu1RB1eCY="   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_ye0cgJXXI1s="
# -------------------------------------------------------------------------

FACTORY_DEF * SortFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_FeatureHolder    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_ye0cgJXXI1s="    OUTPUT SORTED FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FeatureHolder_OUTPUT"

# -------------------------------------------------------------------------

INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF * SamplingFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_FirstOnly    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FeatureHolder_OUTPUT"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.

FACTORY_DEF * TeeFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_FirstOnly_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstOnly_SAMPLED"


# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(Tempita_templater_WORKSPACE_NAME)_AttributeKeeper_13a8f584_99e8_4938_bfe4_77b9febcb7b40_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]

FACTORY_DEF * TeeFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_FirstOnly_SAMPLED"    OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,_tempitaLocalId,fme_pcre_match,"^fme_$($(Tempita_templater_WORKSPACE_NAME)_AttributeKeeper_13a8f584_99e8_4938_bfe4_77b9febcb7b40_LIST_EXP)")

# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_WriteOutputHtml    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    SYMBOL_NAME processFeature    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf><lf><lf><lf><lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>global<space>TempitaOutputs<lf><space><space><space><space>#print<space><quote><at>TempitaOutputs2<space><quote><comma><space>TempitaOutputs<lf><space><space><space><space>localId<space>=<space>feature.getAttribute<openparen><quote>_tempitaLocalId<quote><closeparen><lf><space><space><space><space>feature.setAttribute<openparen><quote>html<quote><comma><space>TempitaOutputs<openbracket>localId<closebracket><closeparen><lf><space><space><space><space>pass<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(Tempita_templater_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Tempita_templater_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"    OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_tempitaLocalId)        @RemoveAttributes(fme_pcre_match"$($(Tempita_templater_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_Initiator1474355248 Output Collector"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_oxUu1RB1eCY="   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Tempita_templater_WORKSPACE_NAME)_Html1474355248 Output Collector"   INPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Tempita_templater_WORKSPACE_NAME)_Html"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Tempita_templater_WORKSPACE_NAME))}]
