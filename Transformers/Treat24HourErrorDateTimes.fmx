#! <?xml version="1.0" encoding="windows-1252" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN Treat24HourErrorDateTimes,1,,46fcbfac-a448-4328-b25e-b12cfd95956c,"Linked by Default",No,NO_PARALLELISM,,No,14235,YES,No
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# 
# TRANSFORMER_END
#! PASSWORD=""
#! ATTR_TYPE_ENCODING="SDF"
#! VIEW_POSITION="-591 0"
#! SHOW_INFO_NODES="true"
#! FME_LINKED_TRANSFORMER_VERSION="1"
#! FMX_INSERT_MODE="Linked by Default"
#! BLOCKED_LOOPING="No"
#! DESCRIPTION="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! TITLE="Treat24HourErrorDateTimes"
#! MAX_LOOP_ITERATIONS=""
#! ITERATION_COUNT_ATTR=""
#! FME_BUILD_NUM="14235"
#! ZOOM_SCALE="100"
#! CATEGORY=""
#! LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! FME_PROCESS_GROUP_BY=""
#! USAGE="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! HISTORY=""
#! FME_DOCUMENT_PRIORGUID="032f0f35-e300-45e3-8123-b767ccaad753,809ee6fe-b4da-4c5f-9ec4-232cfddc471f,d0a52b92-f0c1-47c4-b458-7c71d3dff66f,fa82971d-0909-4004-b121-f91b6b5108b4,58a1e984-4aa3-4370-9b61-0590a038fb1b,f9d29b97-8e7f-4ac3-a441-79bdb7aac7f1,61b79c55-9019-4468-a0dd-619d429f26f7,b7f12d3e-e27d-4bbf-903c-06a7a9978cde,fcd9e8c7-fae9-4039-8075-e17a0eb06583"
#! DOC_TOP_LEFT="-382 -570"
#! XFORM_DEPRECATED="No"
#! REQUIREMENTS_KEYWORD="none"
#! LAST_SAVE_DATE="2015-01-22T11:23:01"
#! WORKSPACE_VERSION="1"
#! LAST_SAVE_BUILD="FME(R) 2014 (20140120 - Build 14235 - WIN64)"
#! FME_SERVER_SERVICES=""
#! REQUIREMENTS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! DOC_EXTENTS="2154 6"
#! FME_DOCUMENT_GUID="46fcbfac-a448-4328-b25e-b12cfd95956c"
#! FME_PROCESS_COUNT="NO_PARALLELISM"
#! SHOW_ANNOTATIONS="true"
#! FME_PROCESS_GROUPS_ORDERED="No"
#! WARN_INVALID_XFORM_PARAM="Yes"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI ATTRLIST_COMMAS _attributesToParse &quot; &quot; datetime attributes:"
#! DEFAULT_VALUE=""
#! IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#! IDENTIFIER="1"
#! TYPE="PythonCaller"
#! VERSION="4"
#! POSITION="714 -564"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="__attributesToParse" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;fmeobjects&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;Treat24HourError&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;This&lt;space&gt;class&lt;space&gt;recalculates&lt;space&gt;dates&lt;space&gt;that&lt;space&gt;uses&lt;space&gt;the&lt;space&gt;value&lt;space&gt;&lt;quote&gt;24&lt;quote&gt;&lt;space&gt;to&lt;space&gt;symbolize&lt;space&gt;midnight.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;24&lt;space&gt;is&lt;space&gt;replaced&lt;space&gt;with&lt;space&gt;0&lt;space&gt;and&lt;space&gt;then&lt;space&gt;an&lt;space&gt;extra&lt;space&gt;day&lt;space&gt;is&lt;space&gt;added.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;This&lt;space&gt;solution&lt;space&gt;makes&lt;space&gt;sure&lt;space&gt;the&lt;space&gt;function&lt;space&gt;works&lt;space&gt;as&lt;space&gt;expected&lt;space&gt;also&lt;space&gt;when&lt;space&gt;month&lt;space&gt;and&lt;space&gt;year&lt;space&gt;changes.&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logger&lt;space&gt;=&lt;space&gt;fmeobjects.FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logger.logMessageString&lt;openparen&gt;&lt;quote&gt;CLASS&lt;space&gt;CREATED:&lt;space&gt;Treat24HourError&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.loggingEnabled&lt;space&gt;=&lt;space&gt;False&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;log&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.loggingEnabled:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logger.logMessageString&lt;openparen&gt;message&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;processDateTime&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;attributeWithDate&lt;comma&gt;&lt;space&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Get&lt;space&gt;the&lt;space&gt;value&lt;space&gt;of&lt;space&gt;the&lt;space&gt;date&lt;space&gt;attribute&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Get&lt;space&gt;value&lt;space&gt;of&lt;space&gt;attribute:&lt;space&gt;&lt;quote&gt;+&lt;space&gt;attributeWithDate&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;attributeWithDate&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;If&lt;space&gt;value&lt;space&gt;is&lt;space&gt;emtpy&lt;comma&gt;&lt;space&gt;do&lt;space&gt;nothing.&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;dateValue&lt;space&gt;is&lt;space&gt;None&lt;space&gt;or&lt;space&gt;dateValue&lt;space&gt;==&lt;space&gt;&lt;quote&gt;&lt;quote&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Date&lt;space&gt;value&lt;space&gt;is&lt;space&gt;empty.&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;dateValue.strip&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Date&lt;space&gt;value:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Replace&lt;space&gt;any&lt;space&gt;&lt;quote&gt;T&lt;quote&gt;&lt;space&gt;with&lt;space&gt;a&lt;space&gt;space&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;T&lt;apos&gt;&lt;space&gt;in&lt;space&gt;dateValue:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;.replace&lt;openparen&gt;&lt;apos&gt;T&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;space&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;T&lt;space&gt;removed:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Treat&lt;space&gt;dates&lt;space&gt;on&lt;space&gt;the&lt;space&gt;form&lt;space&gt;&lt;quote&gt;YYYY-MM-DD&lt;space&gt;hh:mm:ss&lt;quote&gt;&lt;space&gt;example:&lt;space&gt;2014-01-06&lt;space&gt;12:00:00.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;quote&gt;:&lt;quote&gt;&lt;space&gt;in&lt;space&gt;dateValue&lt;space&gt;and&lt;space&gt;&lt;quote&gt;-&lt;quote&gt;&lt;space&gt;in&lt;space&gt;dateValue:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;11:13&lt;closebracket&gt;&lt;closeparen&gt;&lt;space&gt;==&lt;space&gt;24:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Has&lt;space&gt;24&lt;space&gt;in&lt;space&gt;it&lt;comma&gt;&lt;space&gt;type&lt;space&gt;1.&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;datetime.datetime&lt;openparen&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;0:4&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;5:7&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;8:10&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;0&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;14:16&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;17:19&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;New&lt;space&gt;combined&lt;space&gt;expression&lt;comma&gt;&lt;space&gt;type&lt;space&gt;1:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;dateValue&lt;space&gt;+&lt;space&gt;datetime.timedelta&lt;openparen&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;One&lt;space&gt;day&lt;space&gt;added&lt;comma&gt;&lt;space&gt;type&lt;space&gt;1:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;format_str&lt;space&gt;=&lt;space&gt;&lt;quote&gt;%Y-%m-%d&lt;space&gt;%H:%M:%S&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;datetime.datetime.strptime&lt;openparen&gt;dateValue&lt;openbracket&gt;:19&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;format_str&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Reformatted&lt;comma&gt;&lt;space&gt;type&lt;space&gt;1:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Treat&lt;space&gt;dates&lt;space&gt;on&lt;space&gt;the&lt;space&gt;form&lt;space&gt;&lt;quote&gt;YYYYMMDD&lt;space&gt;hhmmss&lt;quote&gt;&lt;space&gt;example:&lt;space&gt;20140106&lt;space&gt;120000.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;quote&gt;:&lt;quote&gt;&lt;space&gt;not&lt;space&gt;in&lt;space&gt;dateValue&lt;space&gt;and&lt;space&gt;&lt;quote&gt;-&lt;quote&gt;&lt;space&gt;not&lt;space&gt;in&lt;space&gt;dateValue:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;9:11&lt;closebracket&gt;&lt;closeparen&gt;&lt;space&gt;==&lt;space&gt;24:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Has&lt;space&gt;24&lt;space&gt;in&lt;space&gt;it&lt;comma&gt;&lt;space&gt;type&lt;space&gt;2.&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;datetime.datetime&lt;openparen&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;0:4&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;4:6&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;6:8&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;0&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;11:13&lt;closebracket&gt;&lt;closeparen&gt;&lt;comma&gt;int&lt;openparen&gt;dateValue&lt;openbracket&gt;13:15&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;New&lt;space&gt;combined&lt;space&gt;expression&lt;comma&gt;&lt;space&gt;type&lt;space&gt;2:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;dateValue&lt;space&gt;+&lt;space&gt;datetime.timedelta&lt;openparen&gt;1&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;log&lt;openparen&gt;&lt;quote&gt;One&lt;space&gt;day&lt;space&gt;added&lt;comma&gt;&lt;space&gt;type&lt;space&gt;2:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;format_str&lt;space&gt;=&lt;space&gt;&lt;quote&gt;%Y%m%d&lt;space&gt;%H%M%S&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;datetime.datetime.strptime&lt;openparen&gt;dateValue&lt;openbracket&gt;:15&lt;closebracket&gt;&lt;comma&gt;&lt;space&gt;format_str&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.log&lt;openparen&gt;&lt;quote&gt;Reformatted&lt;comma&gt;&lt;space&gt;type&lt;space&gt;2:&lt;space&gt;&lt;quote&gt;&lt;space&gt;+&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Cast&lt;space&gt;value&lt;space&gt;to&lt;space&gt;string&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dateValue&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;dateValue&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Write&lt;space&gt;the&lt;space&gt;new&lt;space&gt;value&lt;space&gt;of&lt;space&gt;dateValue&lt;space&gt;back&lt;space&gt;to&lt;space&gt;the&lt;space&gt;original&lt;space&gt;attribute&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;attributeWithDate&lt;comma&gt;&lt;space&gt;dateValue&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Hardcode&lt;space&gt;the&lt;space&gt;name&lt;space&gt;of&lt;space&gt;the&lt;space&gt;attribute&lt;space&gt;that&lt;space&gt;contains&lt;space&gt;date&lt;space&gt;info&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attributeWithDates&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;__attributesToParse&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;attributeWithDate&lt;space&gt;in&lt;space&gt;attributeWithDates.split&lt;openparen&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.processDateTime&lt;openparen&gt;attributeWithDate&lt;comma&gt;&lt;space&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Treat24HourError"/>
#! <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="Treat24HourError"/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="2"
#! TYPE="ParameterFetcher"
#! VERSION="4"
#! POSITION="189 -568"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="__attributesToParse" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ParameterFetcher"/>
#! <XFORM_PARM PARM_NAME="ATTR_LIST" PARM_VALUE="__attributesToParse {$(_attributesToParse)}"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="3"
#! TYPE="AttributeRemover"
#! VERSION="0"
#! POSITION="1240 -567"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="__attributesToParse"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover"/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="4"
#! NAME="Treat24HourError_Input"
#! POSITION="-382 -567"
#! COLLAPSED="true"
#! PUBLISHED="true"
#! IS_SOURCE="true"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="5"
#! NAME="Treat24HourError_Output"
#! POSITION="1772 -570"
#! COLLAPSED="true"
#! IS_SOURCE="false"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#! IDENTIFIER="6"
#! SOURCE_NODE="4"
#! TARGET_NODE="2"
#! SOURCE_PORT_DESC="0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="7"
#! SOURCE_NODE="2"
#! TARGET_NODE="1"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="8"
#! SOURCE_NODE="1"
#! TARGET_NODE="3"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="9"
#! SOURCE_NODE="3"
#! TARGET_NODE="5"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
#! 
DEFAULT_MACRO $(Treat24HourErrorDateTimes_WORKSPACE_NAME)__attributesToParse 
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO Treat24HourErrorDateTimes_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Treat24HourErrorDateTimes_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Treat24HourErrorDateTimes_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Input1421922181 Input Splitter"   INPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Input"   OUTPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Input"
# -------------------------------------------------------------------------

Tcl2 proc $(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"__attributesToParse {$($(Treat24HourErrorDateTimes_WORKSPACE_NAME)__attributesToParse$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Input"    OUTPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher_doFetch)

# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError    INPUT  FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    SYMBOL_NAME Treat24HourError    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fmeobjects<lf>import<space>datetime<lf><lf>class<space>Treat24HourError<openparen>object<closeparen>:<lf><space><space><space><space>#<space>This<space>class<space>recalculates<space>dates<space>that<space>uses<space>the<space>value<space><quote>24<quote><space>to<space>symbolize<space>midnight.<lf><space><space><space><space>#<space>24<space>is<space>replaced<space>with<space>0<space>and<space>then<space>an<space>extra<space>day<space>is<space>added.<lf><space><space><space><space>#<space>This<space>solution<space>makes<space>sure<space>the<space>function<space>works<space>as<space>expected<space>also<space>when<space>month<space>and<space>year<space>changes.<lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logger<space>=<space>fmeobjects.FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>self.logger.logMessageString<openparen><quote>CLASS<space>CREATED:<space>Treat24HourError<quote><closeparen><lf><space><space><space><space><space><space><space><space>self.loggingEnabled<space>=<space>False<lf><lf><space><space><space><space>def<space>log<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>self.loggingEnabled:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logger.logMessageString<openparen>message<closeparen><lf><lf><space><space><space><space>def<space>processDateTime<openparen>self<comma><space>attributeWithDate<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>value<space>of<space>the<space>date<space>attribute<lf><space><space><space><space><space><space><space><space>self.log<openparen><quote>Get<space>value<space>of<space>attribute:<space><quote>+<space>attributeWithDate<closeparen><lf><space><space><space><space><space><space><space><space>dateValue<space>=<space>feature.getAttribute<openparen>attributeWithDate<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>If<space>value<space>is<space>emtpy<comma><space>do<space>nothing.<space><space><space><lf><space><space><space><space><space><space><space><space>if<space>dateValue<space>is<space>None<space>or<space>dateValue<space>==<space><quote><quote>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Date<space>value<space>is<space>empty.<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>dateValue.strip<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Date<space>value:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Replace<space>any<space><quote>T<quote><space>with<space>a<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>T<apos><space>in<space>dateValue:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>str<openparen>dateValue<closeparen>.replace<openparen><apos>T<apos><comma><apos><space><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>T<space>removed:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Treat<space>dates<space>on<space>the<space>form<space><quote>YYYY-MM-DD<space>hh:mm:ss<quote><space>example:<space>2014-01-06<space>12:00:00.<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><quote>:<quote><space>in<space>dateValue<space>and<space><quote>-<quote><space>in<space>dateValue:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>dateValue<openbracket>11:13<closebracket><closeparen><space>==<space>24:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Has<space>24<space>in<space>it<comma><space>type<space>1.<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>datetime.datetime<openparen>int<openparen>dateValue<openbracket>0:4<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>5:7<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>8:10<closebracket><closeparen><comma>0<comma>int<openparen>dateValue<openbracket>14:16<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>17:19<closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>New<space>combined<space>expression<comma><space>type<space>1:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>dateValue<space>+<space>datetime.timedelta<openparen>1<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>One<space>day<space>added<comma><space>type<space>1:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>format_str<space>=<space><quote>%Y-%m-%d<space>%H:%M:%S<quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>datetime.datetime.strptime<openparen>dateValue<openbracket>:19<closebracket><comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Reformatted<comma><space>type<space>1:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Treat<space>dates<space>on<space>the<space>form<space><quote>YYYYMMDD<space>hhmmss<quote><space>example:<space>20140106<space>120000.<lf><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><quote>:<quote><space>not<space>in<space>dateValue<space>and<space><quote>-<quote><space>not<space>in<space>dateValue:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>dateValue<openbracket>9:11<closebracket><closeparen><space>==<space>24:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Has<space>24<space>in<space>it<comma><space>type<space>2.<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>datetime.datetime<openparen>int<openparen>dateValue<openbracket>0:4<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>4:6<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>6:8<closebracket><closeparen><comma>0<comma>int<openparen>dateValue<openbracket>11:13<closebracket><closeparen><comma>int<openparen>dateValue<openbracket>13:15<closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>New<space>combined<space>expression<comma><space>type<space>2:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>dateValue<space>+<space>datetime.timedelta<openparen>1<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>log<openparen><quote>One<space>day<space>added<comma><space>type<space>2:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>format_str<space>=<space><quote>%Y%m%d<space>%H%M%S<quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>datetime.datetime.strptime<openparen>dateValue<openbracket>:15<closebracket><comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.log<openparen><quote>Reformatted<comma><space>type<space>2:<space><quote><space>+<space>str<openparen>dateValue<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Cast<space>value<space>to<space>string<lf><space><space><space><space><space><space><space><space><space><space><space><space>dateValue<space>=<space>str<openparen>dateValue<closeparen><lf><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Write<space>the<space>new<space>value<space>of<space>dateValue<space>back<space>to<space>the<space>original<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen>attributeWithDate<comma><space>dateValue<closeparen><lf><lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Hardcode<space>the<space>name<space>of<space>the<space>attribute<space>that<space>contains<space>date<space>info<lf><space><space><space><space><space><space><space><space>attributeWithDates<space>=<space>feature.getAttribute<openparen><apos>__attributesToParse<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>for<space>attributeWithDate<space>in<space>attributeWithDates.split<openparen><apos><comma><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.processDateTime<openparen>attributeWithDate<comma><space>feature<closeparen><lf><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_OUTPUT"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(Treat24HourErrorDateTimes_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "{\[0-9\]+}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Treat24HourErrorDateTimes_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_OUTPUT"    OUTPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(__attributesToParse)        @RemoveAttributes(fme_regexp_match"$($(Treat24HourErrorDateTimes_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Output1421922181 Output Collector"   INPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Treat24HourErrorDateTimes_WORKSPACE_NAME)_Treat24HourError_Output"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Treat24HourErrorDateTimes_WORKSPACE_NAME))}]
