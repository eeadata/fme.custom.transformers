#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN AzureBlobLister,5,"Web Services",1e8f150a-0949-4aaa-be9e-f13e92a633a3,"Linked by Default",No,NO_PARALLELISM,,No,19630,YES,No,36,No
# <p>Lists all blobs in the given storage container. </p>
# <p>Updated to work with Python 3.4+ since v5</p>
# TRANSFORMER_END
#!   ATTR_TYPE_ENCODING="SDF"
#!   BLOCKED_LOOPING="No"
#!   CATEGORY="Web Services"
#!   DESCRIPTION="&lt;p&gt;Lists all blobs in the given storage container. &lt;/p&gt;&#10;&lt;p&gt;Updated to work with Python 3.4+ since v5&lt;/p&gt;"
#!   DOC_EXTENTS="4728.55 717.259"
#!   DOC_TOP_LEFT="-1148.64 -568.882"
#!   EXPLICIT_BOOKMARK_ORDER="false"
#!   FME_BUILD_NUM="19630"
#!   FME_DOCUMENT_GUID="1e8f150a-0949-4aaa-be9e-f13e92a633a3"
#!   FME_DOCUMENT_PRIORGUID="b69efb4a-8b30-4d43-a867-e05e660c5e0e"
#!   FME_LINKED_TRANSFORMER_VERSION="5"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   FME_PROCESS_GROUP_BY=""
#!   FME_PROCESS_PRESERVE_GROUP_ATTR="No"
#!   FME_SERVER_SERVICES=""
#!   FMX_ATTRIBUTE_PROPOGATION_MODE="AUTO"
#!   FMX_INSERT_MODE="Linked by Default"
#!   HISTORY="2016-08-08,peter.segerstedt&lt;at&gt;sweco.se,Original&lt;space&gt;definition,2016-09-19,peter.segerstedt&lt;at&gt;sweco.se,Now&lt;space&gt;blob&lt;space&gt;prefixes&lt;space&gt;can&lt;space&gt;be&lt;space&gt;used&lt;space&gt;and&lt;space&gt;returned,2018-01-26,peter.segerstedt&lt;at&gt;sweco.se,Fail&lt;space&gt;output&lt;space&gt;redirected&lt;space&gt;to&lt;space&gt;Initiator.&lt;space&gt;New&lt;space&gt;Initiator&lt;space&gt;attributes:&lt;space&gt;status&lt;comma&gt;&lt;space&gt;n_prefixes&lt;space&gt;and&lt;space&gt;n_blobs."
#!   ITERATION_COUNT_ATTR=""
#!   LAST_SAVE_BUILD="FME(R) 2019.1.2.0 (20190829 - Build 19630 - WIN64)"
#!   LAST_SAVE_DATE="2019-10-15T08:22:24"
#!   MARKDOWN_DESCRIPTION="Lists all blobs in the given storage container. &#10;&#10;Updated to work with Python 3.4+ since v5"
#!   MARKDOWN_USAGE="&#10;**Storage account:**  &#10;  Provide the storage account. Look for this under the portal.azure.com.&#10;&#10;**Access key:**  &#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &#10;&#10;**Container name:**  &#10;The storage container name. These are listed directly under the storage account pannel. &#10;&#10;**Prefix:**  &#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &#10;&#10;**Delimiter:**  &#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &#10;&#10;One way to think of this is like a file path separator.&#10;&#10;**Recursive:**  &#10;Should we list all blobs recursively using delimiter.&#10;"
#!   MAX_LOOP_ITERATIONS=""
#!   PASSWORD=""
#!   PYTHON_COMPATIBILITY="36"
#!   SHOW_ANNOTATIONS="true"
#!   SHOW_INFO_NODES="true"
#!   TITLE="AzureBlobLister"
#!   USAGE="&lt;p&gt;&lt;strong&gt;Storage account:&lt;/strong&gt;&lt;br /&gt;&#10;  Provide the storage account. Look for this under the portal.azure.com.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Access key:&lt;/strong&gt;&lt;br /&gt;&#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Container name:&lt;/strong&gt;&lt;br /&gt;&#10;The storage container name. These are listed directly under the storage account pannel. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Prefix:&lt;/strong&gt;&lt;br /&gt;&#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Delimiter:&lt;/strong&gt;&lt;br /&gt;&#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &lt;/p&gt;&#10;&lt;p&gt;One way to think of this is like a file path separator.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Recursive:&lt;/strong&gt;&lt;br /&gt;&#10;Should we list all blobs recursively using delimiter.&lt;/p&gt;"
#!   USE_MARKDOWN="YES"
#!   VIEW_POSITION="-1790.64 512.505"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   WORKSPACE_VERSION="1"
#!   XFORM_DEPRECATED="No"
#!   ZOOM_SCALE="100"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR ACCOUNT &quot; &quot; Account:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI PASSWORD_OR_ATTR KEY Key:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR CONTAINER &quot; &quot; Container:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR PREFIX &quot; &quot; Prefix:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR DELIMITER &quot; &quot; Delimiter:"
#!   DEFAULT_VALUE="&lt;solidus&gt;"
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL CHOICE_OR_ATTR RECURSIVE Yes%No Recursive:"
#!   DEFAULT_VALUE="Yes"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="22"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-628.13099999999997 42.380600000000001"
#!   BOUNDING_RECT="-628.13099999999997 42.380600000000001 740.322 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _azure_blob_lister_storage_account SET_TO $(ACCOUNT)  _azure_blob_lister_key SET_TO $(KEY)  _azure_blob_lister_container SET_TO $(CONTAINER)  _azure_blob_lister_prefix SET_TO $(PREFIX)  _azure_blob_lister_delimiter SET_TO $(DELIMITER)  _azure_blob_lister_recursive SET_TO $(RECURSIVE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FetchParamsAttributeCreator_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.8200000000002 -58.122799999999998"
#!   BOUNDING_RECT="2263.8200000000002 -58.122799999999998 441.012 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_3"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="24"
#!   TYPE="AttributeFilter"
#!   VERSION="4"
#!   POSITION="988.82100000000003 42.380600000000001"
#!   BOUNDING_RECT="988.82100000000003 42.380600000000001 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="BlobPrefix"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Blob"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="initiator_success"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <OUTPUT_FEAT NAME="&lt;EMPTY&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="3"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <OUTPUT_FEAT NAME="&lt;MISSING&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="4"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <OUTPUT_FEAT NAME="&lt;NULL&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="5"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <OUTPUT_FEAT NAME="&lt;UNFILTERED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="6"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <OUTPUT_FEAT NAME="initiator_fail"/>
#!     <FEAT_COLLAPSED COLLAPSED="7"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_PARM PARM_NAME="ATTR_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="_azure_blob_lister_status"/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES" PARM_VALUE="BlobPrefix,Blob,initiator_success,&lt;lt&gt;EMPTY&lt;gt&gt;,&lt;lt&gt;MISSING&lt;gt&gt;,&lt;lt&gt;NULL&lt;gt&gt;,&lt;lt&gt;UNFILTERED&lt;gt&gt;,initiator_fail"/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeFilter_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="188.80500000000001 42.380600000000001"
#!   BOUNDING_RECT="188.80500000000001 42.380600000000001 726.82899999999995 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_azure_blob_lister_status _azure_blob_lister_error_message _azure_blob_lister_xml_response _azure_blob_lister_n_prefixes _azure_blob_lister_n_blobs"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="from&lt;space&gt;fmeobjects&lt;space&gt;import&lt;space&gt;FMELogFile&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;comma&gt;&lt;space&gt;FME_WARN&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;lf&gt;#from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;from&lt;space&gt;io&lt;space&gt;import&lt;space&gt;StringIO&lt;comma&gt;&lt;space&gt;BytesIO&lt;lf&gt;from&lt;space&gt;AzureAPI&lt;space&gt;import&lt;space&gt;AzureAPI&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;ListFeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Make&lt;space&gt;sure&lt;space&gt;to&lt;space&gt;change&lt;space&gt;if&lt;space&gt;Custom&lt;space&gt;transformer&lt;space&gt;is&lt;space&gt;renamed&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;transformer&lt;space&gt;instance&lt;space&gt;name&lt;space&gt;-&lt;space&gt;that&lt;apos&gt;s&lt;space&gt;what&lt;space&gt;we&lt;apos&gt;re&lt;space&gt;fetching&lt;closeparen&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.xformer_name&lt;space&gt;=&lt;space&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;AzureBlobLister_WORKSPACE_NAME&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;debug&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;&lt;openparen&gt;DEBUG&lt;closeparen&gt;:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;account&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_storage_account&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;secret&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_key&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prefix&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;recursive&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_recursive&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;.upper&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;YES&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;Y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;1&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;TRUE&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.debug&lt;openparen&gt;&lt;apos&gt;Recursive:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;recursive&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiter&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_delimiter&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;azure&lt;space&gt;=&lt;space&gt;AzureAPI&lt;openparen&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;self.logfile&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;container&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_container&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blobxml&lt;space&gt;in&lt;space&gt;azure.list_blobs&lt;openparen&gt;container&lt;comma&gt;prefix=prefix&lt;comma&gt;delimiter=delimiter&lt;comma&gt;recursive=recursive&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature&lt;space&gt;=&lt;space&gt;feature.clone&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;used_prefix&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;returntype&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_xml_response&lt;apos&gt;&lt;comma&gt;&lt;space&gt;blobxml&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;resultfeature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_success&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;Exception&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_fail&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_error_message&lt;apos&gt;&lt;comma&gt;&lt;space&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logException&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;self.logfile&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="ListFeatureProcessor"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="26"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.3199999999999 -58.122799999999998"
#!   BOUNDING_RECT="1701.3199999999999 -58.122799999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Disposition" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Encoding" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Language" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-MD5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Etag" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Last-Modified" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseState" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseStatus" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="Blob"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;Blob.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="Blob.Name Blob.Properties.BlobType Blob.Properties.Cache-Control Blob.Properties.Content-Disposition Blob.Properties.Content-Encoding Blob.Properties.Content-Language Blob.Properties.Content-Length Blob.Properties.Content-MD5 Blob.Properties.Content-Type Blob.Properties.Etag Blob.Properties.Last-Modified Blob.Properties.LeaseState Blob.Properties.LeaseStatus xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_2"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="27"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.3199999999999 148.37700000000001"
#!   BOUNDING_RECT="1701.3199999999999 148.37700000000001 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="BlobPrefix"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;BlobPrefix.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="BlobPrefix.Name xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_3"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="29"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.8200000000002 148.37700000000001"
#!   BOUNDING_RECT="2263.8200000000002 148.37700000000001 439.00700000000001 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_5"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.8200000000002 -479.38200000000001"
#!   BOUNDING_RECT="2263.8200000000002 -479.38200000000001 442.01600000000002 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_6"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="10"
#!   NAME="Input"
#!   POSITION="-1148.6400000000001 42.380600000000001"
#!   BOUNDING_RECT="-1148.6400000000001 42.380600000000001 431 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="31"
#!   NAME="Blob"
#!   POSITION="2838.3400000000001 -76.622799999999998"
#!   BOUNDING_RECT="2838.3400000000001 -76.622799999999998 705.81399999999996 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="33"
#!   NAME="Initiator"
#!   POSITION="2838.3400000000001 -497.88200000000001"
#!   BOUNDING_RECT="2838.3400000000001 -497.88200000000001 741.57399999999996 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="34"
#!   NAME="BlobPrefix"
#!   POSITION="2838.3400000000001 129.87700000000001"
#!   BOUNDING_RECT="2838.3400000000001 129.87700000000001 608.93899999999996 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="51"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="22"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="35"
#!   SOURCE_NODE="22"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="31"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="40"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="27"
#!   SOURCE_PORT_DESC="fo 0 BlobPrefix"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="36"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="24"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="26"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="43"
#!   SOURCE_NODE="27"
#!   TARGET_NODE="29"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="44"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="34"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="50"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="39"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="26"
#!   SOURCE_PORT_DESC="fo 1 Blob"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="41"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 2 initiator_success"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="48"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 3 &lt;lt&gt;EMPTY&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="47"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 4 &lt;lt&gt;MISSING&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="45"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 5 &lt;lt&gt;NULL&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="46"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 6 &lt;lt&gt;UNFILTERED&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="49"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 7 initiator_fail"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>

FME_PYTHON_VERSION 36
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_KEY 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_CONTAINER 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_PREFIX 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_DELIMITER <solidus>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE Yes
#! START_HEADER
#! END_HEADER

DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO AzureBlobLister_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(AzureBlobLister_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Input1571120544 Input Splitter"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_azure_blob_lister_storage_account" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT)" }      ATTR_ACTION { "" "_azure_blob_lister_key" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_KEY$encode)" }      ATTR_ACTION { "" "_azure_blob_lister_container" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_CONTAINER)" }      ATTR_ACTION { "" "_azure_blob_lister_prefix" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_PREFIX)" }      ATTR_ACTION { "" "_azure_blob_lister_delimiter" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_DELIMITER)" }      ATTR_ACTION { "" "_azure_blob_lister_recursive" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"    SYMBOL_NAME ListFeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE from<space>fmeobjects<space>import<space>FMELogFile<comma><space>FME_INFORM<comma><space>FME_WARN<comma><space>FME_ERROR<lf>#from<space>cStringIO<space>import<space>StringIO<lf>from<space>io<space>import<space>StringIO<comma><space>BytesIO<lf>from<space>AzureAPI<space>import<space>AzureAPI<lf><lf><lf>class<space>ListFeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#<space>Make<space>sure<space>to<space>change<space>if<space>Custom<space>transformer<space>is<space>renamed<space><openparen>not<space>transformer<space>instance<space>name<space>-<space>that<apos>s<space>what<space>we<apos>re<space>fetching<closeparen><space><lf><space><space><space><space><space><space><space><space>self.xformer_name<space>=<space>FME_MacroValues<openbracket><apos>AzureBlobLister_WORKSPACE_NAME<apos><closebracket><lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space>#self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>debug<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<space>#self.logfile.logMessageString<openparen><apos>%s<space><openparen>DEBUG<closeparen>:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>account<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_storage_account<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>secret<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_key<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>prefix<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_prefix<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>recursive<space>=<space>str<openparen>feature.getAttribute<openparen><apos>_azure_blob_lister_recursive<apos><closeparen><closeparen>.upper<openparen><closeparen><space>in<space><openparen><apos>YES<apos><comma><space><apos>Y<apos><comma><space><apos>1<apos><comma><space><apos>TRUE<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.debug<openparen><apos>Recursive:<space><opencurly><closecurly><apos>.format<openparen>recursive<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiter<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_delimiter<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>azure<space>=<space>AzureAPI<openparen>account<comma><space>secret<comma><space>self.logfile<comma><space>logprefix<space>=<space>self.xformer_name<comma><space>loglevel<space>=<space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>container<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_container<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blobxml<space>in<space>azure.list_blobs<openparen>container<comma>prefix=prefix<comma>delimiter=delimiter<comma>recursive=recursive<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature<space>=<space>feature.clone<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_prefix<apos><comma><space>used_prefix<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space>returntype<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_xml_response<apos><comma><space>blobxml<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>resultfeature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>BlobPrefix<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><apos>Blob<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_success<apos><closeparen><lf><space><space><space><space><space><space><space><space>except<space>Exception<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_fail<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_error_message<apos><comma><space>str<openparen>e<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logfile.logException<openparen>e<comma><space>FME_ERROR<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>del<space>self.logfile<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"
# -------------------------------------------------------------------------
Lookup $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut   BlobPrefix ok   Blob ok   initiator_success ok   initiator_fail ok   "" notok   ENCODED
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"    TEST @Lookup($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut,_azure_blob_lister_status,ENCODED_ATTR) == "ok"    OUTPUT PASSED FEATURE_TYPE * @FeatureType(SET_FROM_ATTR, _azure_blob_lister_status, $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2)    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_NullFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    TEST _azure_blob_lister_status ATTRIBUTE_VALUE_NULL "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_MissingFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    TEST _azure_blob_lister_status ATTRIBUTE_IS_MISSING "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlankFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>    TEST _azure_blob_lister_status ATTRIBUTE_IS_EMPTY "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_success"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_fail"    OUTPUT { FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP)")         }
# -------------------------------------------------------------------------
FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_Blob"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "Blob"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>Blob.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"    OUTPUT { FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"        @RemoveAttributes(fme_encoded,Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP)")         }
# -------------------------------------------------------------------------
FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlobPrefix"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "BlobPrefix"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>BlobPrefix.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"    OUTPUT { FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP)")         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Blob1571120544 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Blob"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Initiator1571120544 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix1571120544 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME))}]
#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN AzureBlobLister,4,"Web Services",0c9b55a3-12d2-4e86-91a9-d5c87dc419b6,"Linked by Default",No,NO_PARALLELISM,,No,17539,YES,No,
# <p>Lists all blobs in the given storage container. </p>
# 
# TRANSFORMER_END
#!   DESCRIPTION="&lt;p&gt;Lists all blobs in the given storage container. &lt;/p&gt;&#10;"
#!   FME_PROCESS_GROUP_BY=""
#!   FME_DOCUMENT_PRIORGUID=""
#!   ZOOM_SCALE="100"
#!   FMX_INSERT_MODE="Linked by Default"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   TITLE="AzureBlobLister"
#!   DOC_EXTENTS="4728.55 717.259"
#!   HISTORY="2016-08-08,peter.segerstedt&lt;at&gt;sweco.se,Original&lt;space&gt;definition,2016-09-19,peter.segerstedt&lt;at&gt;sweco.se,Now&lt;space&gt;blob&lt;space&gt;prefixes&lt;space&gt;can&lt;space&gt;be&lt;space&gt;used&lt;space&gt;and&lt;space&gt;returned,2018-01-26,peter.segerstedt&lt;at&gt;sweco.se,Fail&lt;space&gt;output&lt;space&gt;redirected&lt;space&gt;to&lt;space&gt;Initiator.&lt;space&gt;New&lt;space&gt;Initiator&lt;space&gt;attributes:&lt;space&gt;status&lt;comma&gt;&lt;space&gt;n_prefixes&lt;space&gt;and&lt;space&gt;n_blobs."
#!   MARKDOWN_USAGE="&#10;**Storage account:**  &#10;  Provide the storage account. Look for this under the portal.azure.com.&#10;&#10;**Access key:**  &#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &#10;&#10;**Container name:**  &#10;The storage container name. These are listed directly under the storage account pannel. &#10;&#10;**Prefix:**  &#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &#10;&#10;**Delimiter:**  &#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &#10;&#10;One way to think of this is like a file path separator.&#10;&#10;**Recursive:**  &#10;Should we list all blobs recursively using delimiter.&#10;"
#!   LAST_SAVE_DATE="2018-01-26T15:17:46"
#!   SHOW_INFO_NODES="true"
#!   PASSWORD=""
#!   PYTHON_COMPATIBILITY=""
#!   FME_LINKED_TRANSFORMER_VERSION="4"
#!   ITERATION_COUNT_ATTR=""
#!   MAX_LOOP_ITERATIONS=""
#!   LAST_SAVE_BUILD="FME(R) 2017.1.0.0 (20170731 - Build 17539 - WIN64)"
#!   CATEGORY="Web Services"
#!   FME_SERVER_SERVICES=""
#!   MARKDOWN_DESCRIPTION="Lists all blobs in the given storage container. "
#!   USE_MARKDOWN="YES"
#!   FMX_ATTRIBUTE_PROPOGATION_MODE="AUTO"
#!   DOC_TOP_LEFT="-1148.64 -568.882"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   SHOW_ANNOTATIONS="true"
#!   VIEW_POSITION="-1034.39 259.378"
#!   EXPLICIT_BOOKMARK_ORDER="false"
#!   BLOCKED_LOOPING="No"
#!   ATTR_TYPE_ENCODING="SDF"
#!   USAGE="&lt;p&gt;&lt;strong&gt;Storage account:&lt;/strong&gt;&lt;br /&gt;&#10;  Provide the storage account. Look for this under the portal.azure.com.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Access key:&lt;/strong&gt;&lt;br /&gt;&#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Container name:&lt;/strong&gt;&lt;br /&gt;&#10;The storage container name. These are listed directly under the storage account pannel. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Prefix:&lt;/strong&gt;&lt;br /&gt;&#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Delimiter:&lt;/strong&gt;&lt;br /&gt;&#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &lt;/p&gt;&#10;&lt;p&gt;One way to think of this is like a file path separator.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Recursive:&lt;/strong&gt;&lt;br /&gt;&#10;Should we list all blobs recursively using delimiter.&lt;/p&gt;"
#!   FME_BUILD_NUM="17539"
#!   WORKSPACE_VERSION="1"
#!   XFORM_DEPRECATED="No"
#!   FME_DOCUMENT_GUID="0c9b55a3-12d2-4e86-91a9-d5c87dc419b6"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR ACCOUNT &quot; &quot; Account:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI PASSWORD_OR_ATTR KEY Key:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR CONTAINER &quot; &quot; Container:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR PREFIX &quot; &quot; Prefix:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR DELIMITER &quot; &quot; Delimiter:"
#!   DEFAULT_VALUE="&lt;solidus&gt;"
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL CHOICE_OR_ATTR RECURSIVE Yes%No Recursive:"
#!   DEFAULT_VALUE="Yes"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="22"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-628.131 42.3806"
#!   BOUNDING_RECT="-628.131 42.3806 740.322 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _azure_blob_lister_storage_account SET_TO $(ACCOUNT)  _azure_blob_lister_key SET_TO $(KEY)  _azure_blob_lister_container SET_TO $(CONTAINER)  _azure_blob_lister_prefix SET_TO $(PREFIX)  _azure_blob_lister_delimiter SET_TO $(DELIMITER)  _azure_blob_lister_recursive SET_TO $(RECURSIVE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FetchParamsAttributeCreator_2"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 -58.1228"
#!   BOUNDING_RECT="2263.82 -58.1228 441.012 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_3"/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="24"
#!   TYPE="AttributeFilter"
#!   VERSION="4"
#!   POSITION="988.821 42.3806"
#!   BOUNDING_RECT="988.821 42.3806 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="BlobPrefix"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Blob"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="initiator_success"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <OUTPUT_FEAT NAME="&lt;EMPTY&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="3"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <OUTPUT_FEAT NAME="&lt;MISSING&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="4"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <OUTPUT_FEAT NAME="&lt;NULL&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="5"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <OUTPUT_FEAT NAME="&lt;UNFILTERED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="6"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <OUTPUT_FEAT NAME="initiator_fail"/>
#!     <FEAT_COLLAPSED COLLAPSED="7"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="_azure_blob_lister_status"/>
#!     <XFORM_PARM PARM_NAME="ATTR_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES" PARM_VALUE="BlobPrefix,Blob,initiator_success,&lt;lt&gt;EMPTY&lt;gt&gt;,&lt;lt&gt;MISSING&lt;gt&gt;,&lt;lt&gt;NULL&lt;gt&gt;,&lt;lt&gt;UNFILTERED&lt;gt&gt;,initiator_fail"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeFilter_2"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="188.805 42.3806"
#!   BOUNDING_RECT="188.805 42.3806 726.829 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_azure_blob_lister_status _azure_blob_lister_error_message _azure_blob_lister_xml_response _azure_blob_lister_n_prefixes _azure_blob_lister_n_blobs"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="ListFeatureProcessor"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="from&lt;space&gt;fmeobjects&lt;space&gt;import&lt;space&gt;FMELogFile&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;comma&gt;&lt;space&gt;FME_WARN&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;lf&gt;from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;ListFeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Make&lt;space&gt;sure&lt;space&gt;to&lt;space&gt;change&lt;space&gt;if&lt;space&gt;Custom&lt;space&gt;transformer&lt;space&gt;is&lt;space&gt;renamed&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;transformer&lt;space&gt;instance&lt;space&gt;name&lt;space&gt;-&lt;space&gt;that&lt;apos&gt;s&lt;space&gt;what&lt;space&gt;we&lt;apos&gt;re&lt;space&gt;fetching&lt;closeparen&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.xformer_name&lt;space&gt;=&lt;space&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;AzureBlobLister_WORKSPACE_NAME&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;debug&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;&lt;openparen&gt;DEBUG&lt;closeparen&gt;:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;account&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_storage_account&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;secret&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_key&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prefix&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;recursive&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_recursive&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;.upper&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;YES&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;Y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;1&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;TRUE&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.debug&lt;openparen&gt;&lt;apos&gt;Recursive:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;recursive&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiter&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_delimiter&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;azure&lt;space&gt;=&lt;space&gt;AzureAPI&lt;openparen&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;self.logfile&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;container&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_container&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blobxml&lt;space&gt;in&lt;space&gt;azure.list_blobs&lt;openparen&gt;container&lt;comma&gt;prefix=prefix&lt;comma&gt;delimiter=delimiter&lt;comma&gt;recursive=recursive&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature&lt;space&gt;=&lt;space&gt;feature.clone&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;used_prefix&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;returntype&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_xml_response&lt;apos&gt;&lt;comma&gt;&lt;space&gt;blobxml&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;resultfeature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_success&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;Exception&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_fail&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_error_message&lt;apos&gt;&lt;comma&gt;&lt;space&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logException&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;self.logfile&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;#####&lt;space&gt;Code&lt;space&gt;below&lt;space&gt;*should*&lt;space&gt;be&lt;space&gt;more&lt;space&gt;or&lt;space&gt;less&lt;space&gt;standalone&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;bindings&lt;space&gt;to&lt;space&gt;fme&lt;closeparen&gt;&lt;space&gt;#####&lt;lf&gt;import&lt;space&gt;os&lt;lf&gt;import&lt;space&gt;requests&lt;lf&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;OrderedDict&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;from&lt;space&gt;xml.etree&lt;space&gt;import&lt;space&gt;ElementTree&lt;lf&gt;&lt;lf&gt;import&lt;space&gt;base64&lt;lf&gt;import&lt;space&gt;uuid&lt;lf&gt;import&lt;space&gt;hashlib&lt;lf&gt;import&lt;space&gt;hmac&lt;lf&gt;import&lt;space&gt;sys&lt;lf&gt;&lt;lf&gt;PUT_BLOB_LIMIT&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;64&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;64&lt;space&gt;MB&lt;lf&gt;PUT_BLOCK_CHUNK_SIZE&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;4&lt;space&gt;#&lt;space&gt;4&lt;space&gt;MB&lt;lf&gt;AZ_VERSION&lt;space&gt;=&lt;space&gt;&lt;apos&gt;2015-02-21&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;StdoutLogger&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;simple&lt;space&gt;log&lt;space&gt;class&lt;space&gt;to&lt;space&gt;mimic&lt;space&gt;fme&lt;space&gt;api&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logMessageString&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;msg&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logException&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logMessageString&lt;openparen&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;level&lt;closeparen&gt;&lt;lf&gt;class&lt;space&gt;AzureAPI&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version_info&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;Iterable&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;unicode&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections.abc&lt;space&gt;import&lt;space&gt;Iterable&lt;space&gt;#&lt;space&gt;TODO:&lt;space&gt;this&lt;space&gt;code&lt;space&gt;was&lt;space&gt;found&lt;space&gt;somewhere&lt;space&gt;but&lt;space&gt;its&lt;space&gt;logic&lt;space&gt;is&lt;space&gt;not&lt;space&gt;clear&lt;space&gt;to&lt;space&gt;me...&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;logfile&lt;space&gt;=&lt;space&gt;StdoutLogger&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;logfile&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logprefix&lt;space&gt;=&lt;space&gt;logprefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.loglevel&lt;space&gt;=&lt;space&gt;loglevel&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.account&lt;space&gt;=&lt;space&gt;account&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.secret&lt;space&gt;=&lt;space&gt;secret&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.logprefix&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;self.loglevel&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;append_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=appendblock&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Appending&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:appendblock&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;ERROR&lt;space&gt;status&lt;space&gt;%s:&lt;space&gt;`%s`&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;r.status_code&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_id&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;uuid.uuid4&lt;openparen&gt;&lt;closeparen&gt;.hex&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer&lt;solidus&gt;myblob?comp=block&lt;amp&gt;blockid=id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=block&lt;amp&gt;blockid=%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;block&lt;space&gt;of&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;blockid:%s&lt;backslash&gt;ncomp:block&lt;apos&gt;&lt;space&gt;%&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;block_id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block_list&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_fragments&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;s:&lt;space&gt;&lt;apos&gt;&lt;lt&gt;Uncommitted&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;Uncommitted&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;s&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;utf-8&lt;quote&gt;?&lt;gt&gt;&lt;lt&gt;BlockList&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;BlockList&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;list_fragments&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=blocklist&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:blocklist&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_blob&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_END&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;size&lt;space&gt;=&lt;space&gt;fin.tell&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_SET&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;size&lt;space&gt;&lt;lt&gt;&lt;space&gt;PUT_BLOB_LIMIT:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;fin.read&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;offset&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;size&lt;comma&gt;&lt;space&gt;PUT_BLOCK_CHUNK_SIZE&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;`%s`&lt;comma&gt;&lt;space&gt;%s%%&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;blob_name&lt;comma&gt;&lt;space&gt;int&lt;openparen&gt;round&lt;openparen&gt;offset&lt;space&gt;*&lt;space&gt;100&lt;space&gt;&lt;solidus&gt;&lt;space&gt;size&lt;closeparen&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_size&lt;space&gt;=&lt;space&gt;min&lt;openparen&gt;PUT_BLOCK_CHUNK_SIZE&lt;comma&gt;&lt;space&gt;size&lt;space&gt;-&lt;space&gt;offset&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids.append&lt;openparen&gt;self.put_block&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin.read&lt;openparen&gt;block_size&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.put_block_list&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;ids&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;ID&lt;space&gt;LIST&lt;space&gt;COMMITTED:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;backslash&gt;t&lt;apos&gt;.join&lt;openparen&gt;ids&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Done&lt;space&gt;uploading&lt;space&gt;%s&lt;space&gt;bytes&lt;space&gt;of&lt;space&gt;data&lt;apos&gt;&lt;space&gt;%&lt;space&gt;size&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;list_blobs&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;prefix=None&lt;comma&gt;delimiter=&lt;apos&gt;&lt;solidus&gt;&lt;apos&gt;&lt;comma&gt;recursive=False&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer?restype=container&lt;amp&gt;comp=list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#CubeSourceDataFile&lt;solidus&gt;coast&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;apos&gt;delimiter&lt;apos&gt;&lt;space&gt;:&lt;space&gt;delimiter&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;list&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;restype&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;container&lt;apos&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;prefix:&lt;space&gt;params&lt;openbracket&gt;&lt;apos&gt;prefix&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;prefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;OrderedDict&lt;openparen&gt;sorted&lt;openparen&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;key=lambda&lt;space&gt;t:&lt;space&gt;t&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystring&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;amp&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;=&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;:&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s?%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;querystring&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;querystringencoded&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;GET&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;Listing&lt;space&gt;blobs&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.get&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;200:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;root&lt;space&gt;=&lt;space&gt;ElementTree.fromstring&lt;openparen&gt;r.content.decode&lt;openparen&gt;&lt;apos&gt;utf-8-sig&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blobprefix&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blobprefix&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;recursive:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;self.list_blobs&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;prefix=blobprefix.findtext&lt;openparen&gt;&lt;apos&gt;Name&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;delimiter=delimiter&lt;comma&gt;recursive=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blob&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_authorize&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;headers&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;PUT&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;&lt;apos&gt;0&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;http_method&lt;space&gt;#&lt;space&gt;VERB&lt;space&gt;&lt;openparen&gt;http-method&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Encoding&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Language&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;content_length&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-MD5&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Date&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;Date&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Modified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-None-Match&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Unmodified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Range&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;comma&gt;&lt;space&gt;None&lt;closeparen&gt;:&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-date:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-version:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;blob_name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;querystringencoded:&lt;space&gt;fields.append&lt;openparen&gt;querystringencoded&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;fields&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signature&lt;space&gt;=&lt;space&gt;AzureAPI._sign_string&lt;openparen&gt;self.secret&lt;space&gt;&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;Authorization&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;SharedKey&lt;space&gt;%s:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;signature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;_string_to_sign&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_create_headers&lt;openparen&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;OrderedDict&lt;openparen&gt;&lt;opencurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Content-Length&lt;apos&gt;:&lt;space&gt;str&lt;openparen&gt;len&lt;openparen&gt;data&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;:&lt;space&gt;AzureAPI._httpdate&lt;openparen&gt;datetime.datetime.utcnow&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;:&lt;space&gt;AZ_VERSION&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closecurly&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_httpdate&lt;openparen&gt;dt&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;Return&lt;space&gt;a&lt;space&gt;string&lt;space&gt;representation&lt;space&gt;of&lt;space&gt;a&lt;space&gt;date&lt;space&gt;according&lt;space&gt;to&lt;space&gt;RFC&lt;space&gt;1123&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;HTTP&lt;solidus&gt;1.1&lt;closeparen&gt;.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;The&lt;space&gt;supplied&lt;space&gt;date&lt;space&gt;must&lt;space&gt;be&lt;space&gt;in&lt;space&gt;UTC.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;weekday&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Mon&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Tue&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Wed&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Thu&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Fri&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sat&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sun&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.weekday&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;month&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Jan&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Feb&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Mar&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Apr&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;May&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jun&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jul&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Aug&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sep&lt;quote&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Oct&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Nov&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Dec&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.month&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;quote&gt;%s&lt;comma&gt;&lt;space&gt;%02d&lt;space&gt;%s&lt;space&gt;%04d&lt;space&gt;%02d:%02d:%02d&lt;space&gt;GMT&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;weekday&lt;comma&gt;&lt;space&gt;dt.day&lt;comma&gt;&lt;space&gt;month&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dt.year&lt;comma&gt;&lt;space&gt;dt.hour&lt;comma&gt;&lt;space&gt;dt.minute&lt;comma&gt;&lt;space&gt;dt.second&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_encode_base64&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_decode_base64_to_bytes&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;base64.b64decode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_sign_string&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;key_is_base64=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;key_is_base64:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;AzureAPI._decode_base64_to_bytes&lt;openparen&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;key.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;string_to_sign&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;string_to_sign&lt;space&gt;=&lt;space&gt;string_to_sign.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signed_hmac_sha256&lt;space&gt;=&lt;space&gt;hmac.HMAC&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;hashlib.sha256&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;digest&lt;space&gt;=&lt;space&gt;signed_hmac_sha256.digest&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded_digest&lt;space&gt;=&lt;space&gt;AzureAPI._encode_base64&lt;openparen&gt;digest&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded_digest&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller_2"/>
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="26"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.32 -58.1228"
#!   BOUNDING_RECT="1701.32 -58.1228 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Disposition" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Encoding" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Language" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-MD5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Etag" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Last-Modified" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseState" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseStatus" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="Blob.Name Blob.Properties.BlobType Blob.Properties.Cache-Control Blob.Properties.Content-Disposition Blob.Properties.Content-Encoding Blob.Properties.Content-Language Blob.Properties.Content-Length Blob.Properties.Content-MD5 Blob.Properties.Content-Type Blob.Properties.Etag Blob.Properties.Last-Modified Blob.Properties.LeaseState Blob.Properties.LeaseStatus xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_2"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="Blob"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;Blob.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="27"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.32 148.377"
#!   BOUNDING_RECT="1701.32 148.377 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="BlobPrefix.Name xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_3"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="BlobPrefix"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;BlobPrefix.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="29"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 148.377"
#!   BOUNDING_RECT="2263.82 148.377 439.007 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_5"/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 -479.382"
#!   BOUNDING_RECT="2263.82 -479.382 442.016 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_6"/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="10"
#!   NAME="Input"
#!   POSITION="-1148.64 42.3806"
#!   BOUNDING_RECT="-1148.64 42.3806 -1 -1"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="31"
#!   NAME="Blob"
#!   POSITION="2838.34 -76.6228"
#!   BOUNDING_RECT="2838.34 -76.6228 705.814 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="33"
#!   NAME="Initiator"
#!   POSITION="2838.34 -497.882"
#!   BOUNDING_RECT="2838.34 -497.882 741.574 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="34"
#!   NAME="BlobPrefix"
#!   POSITION="2838.34 129.877"
#!   BOUNDING_RECT="2838.34 129.877 608.939 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="51"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="22"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="35"
#!   SOURCE_NODE="22"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="31"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="40"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="27"
#!   SOURCE_PORT_DESC="fo 0 BlobPrefix"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="36"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="24"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="26"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="43"
#!   SOURCE_NODE="27"
#!   TARGET_NODE="29"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="44"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="34"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="50"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="39"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="26"
#!   SOURCE_PORT_DESC="fo 1 Blob"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="41"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 2 initiator_success"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="48"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 3 &lt;lt&gt;EMPTY&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="47"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 4 &lt;lt&gt;MISSING&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="45"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 5 &lt;lt&gt;NULL&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="46"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 6 &lt;lt&gt;UNFILTERED&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="49"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 7 initiator_fail"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
FME_PYTHON_VERSION 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_KEY 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_CONTAINER 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_PREFIX 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_DELIMITER <solidus>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE Yes
#! START_HEADER
#! END_HEADER

LOG_TIMINGS YES
LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO AzureBlobLister_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(AzureBlobLister_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Input1516976266 Input Splitter"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"
# -------------------------------------------------------------------------

FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_azure_blob_lister_storage_account" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT)" }      ATTR_ACTION { "" "_azure_blob_lister_key" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_KEY$encode)" }      ATTR_ACTION { "" "_azure_blob_lister_container" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_CONTAINER)" }      ATTR_ACTION { "" "_azure_blob_lister_prefix" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_PREFIX)" }      ATTR_ACTION { "" "_azure_blob_lister_delimiter" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_DELIMITER)" }      ATTR_ACTION { "" "_azure_blob_lister_recursive" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"


# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"    SYMBOL_NAME ListFeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE from<space>fmeobjects<space>import<space>FMELogFile<comma><space>FME_INFORM<comma><space>FME_WARN<comma><space>FME_ERROR<lf>from<space>cStringIO<space>import<space>StringIO<lf><lf>class<space>ListFeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#<space>Make<space>sure<space>to<space>change<space>if<space>Custom<space>transformer<space>is<space>renamed<space><openparen>not<space>transformer<space>instance<space>name<space>-<space>that<apos>s<space>what<space>we<apos>re<space>fetching<closeparen><space><lf><space><space><space><space><space><space><space><space>self.xformer_name<space>=<space>FME_MacroValues<openbracket><apos>AzureBlobLister_WORKSPACE_NAME<apos><closebracket><lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space>#self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>debug<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<space>#self.logfile.logMessageString<openparen><apos>%s<space><openparen>DEBUG<closeparen>:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>account<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_storage_account<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>secret<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_key<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>prefix<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_prefix<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>recursive<space>=<space>str<openparen>feature.getAttribute<openparen><apos>_azure_blob_lister_recursive<apos><closeparen><closeparen>.upper<openparen><closeparen><space>in<space><openparen><apos>YES<apos><comma><space><apos>Y<apos><comma><space><apos>1<apos><comma><space><apos>TRUE<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.debug<openparen><apos>Recursive:<space><opencurly><closecurly><apos>.format<openparen>recursive<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiter<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_delimiter<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>azure<space>=<space>AzureAPI<openparen>account<comma><space>secret<comma><space>self.logfile<comma><space>logprefix<space>=<space>self.xformer_name<comma><space>loglevel<space>=<space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>container<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_container<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blobxml<space>in<space>azure.list_blobs<openparen>container<comma>prefix=prefix<comma>delimiter=delimiter<comma>recursive=recursive<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature<space>=<space>feature.clone<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_prefix<apos><comma><space>used_prefix<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space>returntype<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_xml_response<apos><comma><space>blobxml<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>resultfeature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>BlobPrefix<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><apos>Blob<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_success<apos><closeparen><lf><space><space><space><space><space><space><space><space>except<space>Exception<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_fail<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_error_message<apos><comma><space>str<openparen>e<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logfile.logException<openparen>e<comma><space>FME_ERROR<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>del<space>self.logfile<lf><space><space><space><space><space><space><space><space><lf>#####<space>Code<space>below<space>*should*<space>be<space>more<space>or<space>less<space>standalone<space><openparen>no<space>bindings<space>to<space>fme<closeparen><space>#####<lf>import<space>os<lf>import<space>requests<lf>from<space>collections<space>import<space>OrderedDict<lf>import<space>datetime<lf>from<space>xml.etree<space>import<space>ElementTree<lf><lf>import<space>base64<lf>import<space>uuid<lf>import<space>hashlib<lf>import<space>hmac<lf>import<space>sys<lf><lf>PUT_BLOB_LIMIT<space>=<space>1024<space>*<space>1024<space>*<space>64<space><space><space><space><space><space>#<space>64<space>MB<lf>PUT_BLOCK_CHUNK_SIZE<space>=<space>1024<space>*<space>1024<space>*<space>4<space>#<space>4<space>MB<lf>AZ_VERSION<space>=<space><apos>2015-02-21<apos><lf><lf>class<space>StdoutLogger<openparen>object<closeparen>:<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>simple<space>log<space>class<space>to<space>mimic<space>fme<space>api<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>def<space>logMessageString<openparen>self<comma><space>msg<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>print<space>msg<lf><space><space><space><space>def<space>logException<openparen>self<comma><space>e<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logMessageString<openparen>str<openparen>e<closeparen><comma><space>level<closeparen><lf>class<space>AzureAPI<openparen>object<closeparen>:<lf><space><space><space><space>if<space>sys.version_info<space><lt><space><openparen>3<comma><closeparen>:<lf><space><space><space><space><space><space><space><space>from<space>collections<space>import<space>Iterable<lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>unicode<lf><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space>from<space>collections.abc<space>import<space>Iterable<space>#<space>TODO:<space>this<space>code<space>was<space>found<space>somewhere<space>but<space>its<space>logic<space>is<space>not<space>clear<space>to<space>me...<space><lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>str<lf><space><space><space><space>def<space>__init__<openparen>self<comma><space>account<comma><space>secret<comma><space>logfile<space>=<space>StdoutLogger<openparen><closeparen><comma><space>logprefix<space>=<space><apos><apos><comma><space>loglevel<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>logfile<space><lf><space><space><space><space><space><space><space><space>self.logprefix<space>=<space>logprefix<lf><space><space><space><space><space><space><space><space>self.loglevel<space>=<space>loglevel<lf><space><space><space><space><space><space><space><space>self.account<space>=<space>account<lf><space><space><space><space><space><space><space><space>self.secret<space>=<space>secret<lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.logprefix<comma><space>message<closeparen><comma><space>self.loglevel<closeparen><lf><space><space><space><space>def<space>append_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=appendblock<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Appending<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:appendblock<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data<space>=<space>block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>ERROR<space>status<space>%s:<space>`%s`<apos><space>%<space><openparen>r.status_code<comma><space>_string_to_sign<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space>block_id<space>=<space>base64.b64encode<openparen>uuid.uuid4<openparen><closeparen>.hex<closeparen><lf><space><space><space><space><space><space><space><space>#https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer<solidus>myblob?comp=block<amp>blockid=id<lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=block<amp>blockid=%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<comma><space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>block<space>of<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>blockid:%s<backslash>ncomp:block<apos><space>%<space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>block_id<lf><space><space><space><space>def<space>put_block_list<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_list<closeparen>:<lf><space><space><space><space><space><space><space><space>list_fragments<space>=<space><apos><apos>.join<openparen>map<openparen>lambda<space>s:<space><apos><lt>Uncommitted<gt><opencurly><closecurly><lt><solidus>Uncommitted<gt><apos>.format<openparen>s<closeparen><comma><space>block_list<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>data<space>=<space><apos><lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>utf-8<quote>?<gt><lt>BlockList<gt><opencurly><closecurly><lt><solidus>BlockList<gt><apos>.format<openparen>list_fragments<closeparen><lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=blocklist<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:blocklist<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_blob<openparen>self<comma><space>container<comma><space>blob_name<comma><space>fin<closeparen>:<lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_END<closeparen><lf><space><space><space><space><space><space><space><space>size<space>=<space>fin.tell<openparen><closeparen><lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_SET<closeparen><lf><space><space><space><space><space><space><space><space>if<space>size<space><lt><space>PUT_BLOB_LIMIT:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>fin.read<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>ids<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>offset<space>in<space>range<openparen>0<comma><space>size<comma><space>PUT_BLOCK_CHUNK_SIZE<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>`%s`<comma><space>%s%%<apos><space>%<space><openparen>blob_name<comma><space>int<openparen>round<openparen>offset<space>*<space>100<space><solidus><space>size<closeparen><closeparen><space><closeparen><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>block_size<space>=<space>min<openparen>PUT_BLOCK_CHUNK_SIZE<comma><space>size<space>-<space>offset<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ids.append<openparen>self.put_block<openparen>container<comma><space>blob_name<comma><space>fin.read<openparen>block_size<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.put_block_list<openparen>container<comma><space>blob_name<comma><space>ids<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#self.info<openparen><apos>ID<space>LIST<space>COMMITTED:<space>%s<apos><space>%<space><apos><backslash>n<backslash>t<apos>.join<openparen>ids<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Done<space>uploading<space>%s<space>bytes<space>of<space>data<apos><space>%<space>size<closeparen><lf><space><space><space><space>def<space>list_blobs<openparen>self<comma><space>container<comma>prefix=None<comma>delimiter=<apos><solidus><apos><comma>recursive=False<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer?restype=container<amp>comp=list<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#CubeSourceDataFile<solidus>coast<lf><space><space><space><space><space><space><space><space>#<lf><space><space><space><space><space><space><space><space>params<space>=<space><opencurly><apos>delimiter<apos><space>:<space>delimiter<comma><space><apos>comp<apos>:<space><apos>list<apos><comma><space><apos>restype<apos>:<space><apos>container<apos><closecurly><lf><space><space><space><space><space><space><space><space>if<space>prefix:<space>params<openbracket><apos>prefix<apos><closebracket><space>=<space>prefix<lf><space><space><space><space><space><space><space><space>params<space>=<space>OrderedDict<openparen>sorted<openparen>params.items<openparen><closeparen><comma><space>key=lambda<space>t:<space>t<openbracket>0<closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystring<space>=<space><apos><amp><apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>=<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystringencoded<space>=<space><apos><backslash>n<apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>:<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s?%s<apos><space>%<space><openparen>self.account<comma><space>container<comma>querystring<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>querystringencoded<space>=<space>querystringencoded<comma><space>http_method<space>=<space><apos>GET<apos><closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen><apos>Listing<space>blobs<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.get<openparen>url<comma><space>headers=headers<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>200:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>root<space>=<space>ElementTree.fromstring<openparen>r.content.decode<openparen><apos>utf-8-sig<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>for<space>blobprefix<space>in<space>root.iter<openparen><apos>BlobPrefix<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blobprefix<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>BlobPrefix<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>recursive:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blob<space>in<space>self.list_blobs<openparen>container<comma><space>prefix=blobprefix.findtext<openparen><apos>Name<apos><closeparen><comma><space>delimiter=delimiter<comma>recursive=True<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>yield<space>returntype<comma><space>used_prefix<comma><space>blob<lf><space><space><space><space><space><space><space><space>for<space>blob<space>in<space>root.iter<openparen><apos>Blob<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blob<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>Blob<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space>def<space>_authorize<openparen>self<comma><space>headers<comma><space>container_name<comma><space>blob_name<space>=<space>None<comma><space>querystringencoded<space>=<space>None<comma><space>http_method<space>=<space><apos>PUT<apos><closeparen>:<lf><space><space><space><space><space><space><space><space>content_length<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>Content-Length<apos><closeparen><space>!=<space><apos>0<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>content_length<space>=<space>headers.get<openparen><apos>Content-Length<apos><closeparen><lf><space><space><space><space><space><space><space><space>fields<space>=<space><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>http_method<space>#<space>VERB<space><openparen>http-method<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Encoding<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Language<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>content_length<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-MD5<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>headers.get<openparen><apos>Date<apos><comma><apos><apos><closeparen><space>#<space>Date<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Modified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-None-Match<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Unmodified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Range<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><closebracket><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>x-ms-blob-type<apos><comma><space>None<closeparen>:<space>fields.append<openparen><apos>x-ms-blob-type:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-blob-type<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-date:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-date<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-version:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-version<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>blob_name:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<comma><space>blob_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>querystringencoded:<space>fields.append<openparen>querystringencoded<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space><apos><backslash>n<apos>.join<openparen>fields<closeparen><lf><space><space><space><space><space><space><space><space>signature<space>=<space>AzureAPI._sign_string<openparen>self.secret<space><comma><space>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>Authorization<apos><closebracket><space>=<space><apos>SharedKey<space>%s:%s<apos><space>%<space><openparen>self.account<comma><space>signature<closeparen><lf><space><space><space><space><space><space><space><space>return<space>_string_to_sign<lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_create_headers<openparen>data<space>=<space><apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space>return<space>OrderedDict<openparen><opencurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Content-Length<apos>:<space>str<openparen>len<openparen>data<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-date<apos>:<space>AzureAPI._httpdate<openparen>datetime.datetime.utcnow<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-version<apos>:<space>AZ_VERSION<lf><space><space><space><space><space><space><space><space><space><space><space><space><closecurly><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_httpdate<openparen>dt<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Return<space>a<space>string<space>representation<space>of<space>a<space>date<space>according<space>to<space>RFC<space>1123<lf><space><space><space><space><space><space><space><space><openparen>HTTP<solidus>1.1<closeparen>.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space>The<space>supplied<space>date<space>must<space>be<space>in<space>UTC.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>weekday<space>=<space><openbracket><quote>Mon<quote><comma><space><quote>Tue<quote><comma><space><quote>Wed<quote><comma><space><quote>Thu<quote><comma><space><quote>Fri<quote><comma><space><quote>Sat<quote><comma><space><quote>Sun<quote><closebracket><openbracket>dt.weekday<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space>month<space>=<space><openbracket><quote>Jan<quote><comma><space><quote>Feb<quote><comma><space><quote>Mar<quote><comma><space><quote>Apr<quote><comma><space><quote>May<quote><comma><space><quote>Jun<quote><comma><space><quote>Jul<quote><comma><space><quote>Aug<quote><comma><space><quote>Sep<quote><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Oct<quote><comma><space><quote>Nov<quote><comma><space><quote>Dec<quote><closebracket><openbracket>dt.month<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space>return<space><quote>%s<comma><space>%02d<space>%s<space>%04d<space>%02d:%02d:%02d<space>GMT<quote><space>%<space><openparen>weekday<comma><space>dt.day<comma><space>month<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>dt.year<comma><space>dt.hour<comma><space>dt.minute<comma><space>dt.second<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_encode_base64<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>encoded<space>=<space>base64.b64encode<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_decode_base64_to_bytes<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>base64.b64decode<openparen>data<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_sign_string<openparen>key<comma><space>string_to_sign<comma><space>key_is_base64=True<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>key_is_base64:<lf><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>AzureAPI._decode_base64_to_bytes<openparen>key<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>key<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>key.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>string_to_sign<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>string_to_sign<space>=<space>string_to_sign.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>signed_hmac_sha256<space>=<space>hmac.HMAC<openparen>key<comma><space>string_to_sign<comma><space>hashlib.sha256<closeparen><lf><space><space><space><space><space><space><space><space>digest<space>=<space>signed_hmac_sha256.digest<openparen><closeparen><lf><space><space><space><space><space><space><space><space>encoded_digest<space>=<space>AzureAPI._encode_base64<openparen>digest<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded_digest<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"

# -------------------------------------------------------------------------
Lookup $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut   BlobPrefix ok   Blob ok   initiator_success ok   initiator_fail ok   "" notok   ENCODED

FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"    TEST @Lookup($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut,_azure_blob_lister_status,ENCODED_ATTR) == "ok"    OUTPUT PASSED FEATURE_TYPE * @FeatureType(SET_FROM_ATTR, _azure_blob_lister_status, $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2)    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_NullFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    TEST _azure_blob_lister_status ATTRIBUTE_VALUE_NULL "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_MissingFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    TEST _azure_blob_lister_status ATTRIBUTE_IS_MISSING "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlankFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>    TEST _azure_blob_lister_status ATTRIBUTE_IS_EMPTY "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>



# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_success"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_fail"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_Blob"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "Blob"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>Blob.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"        @RemoveAttributes(fme_encoded,Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlobPrefix"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "BlobPrefix"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>BlobPrefix.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Blob1516976266 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Blob"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Initiator1516976266 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix1516976266 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME))}]
#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN AzureBlobLister,3,"Web Services",73a90b13-7490-4dd6-8960-612f765b8835,"Linked by Default",No,NO_PARALLELISM,,No,17539,YES,No,
# <p>Lists all blobs in the given storage container. </p>
# TRANSFORMER_END
#!   PYTHON_COMPATIBILITY=""
#!   DESCRIPTION="&lt;p&gt;Lists all blobs in the given storage container. &lt;/p&gt;"
#!   SHOW_INFO_NODES="true"
#!   USAGE="&lt;p&gt;&lt;strong&gt;Storage account:&lt;/strong&gt;&lt;br /&gt;&#10;  Provide the storage account. Look for this under the portal.azure.com.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Access key:&lt;/strong&gt;&lt;br /&gt;&#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Container name:&lt;/strong&gt;&lt;br /&gt;&#10;The storage container name. These are listed directly under the storage account pannel. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Prefix:&lt;/strong&gt;&lt;br /&gt;&#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Delimiter:&lt;/strong&gt;&lt;br /&gt;&#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &lt;/p&gt;&#10;&lt;p&gt;One way to think of this is like a file path separator.&lt;/p&gt;&#10;&lt;p&gt;&lt;strong&gt;Recursive:&lt;/strong&gt;&lt;br /&gt;&#10;Should we list all blobs recursively using delimiter.&lt;/p&gt;"
#!   PASSWORD=""
#!   FMX_INSERT_MODE="Linked by Default"
#!   ITERATION_COUNT_ATTR=""
#!   BLOCKED_LOOPING="No"
#!   HISTORY="2016-08-08,peter.segerstedt&lt;at&gt;sweco.se,Original&lt;space&gt;definition,2016-09-19,peter.segerstedt&lt;at&gt;sweco.se,Now&lt;space&gt;blob&lt;space&gt;prefixes&lt;space&gt;can&lt;space&gt;be&lt;space&gt;used&lt;space&gt;and&lt;space&gt;returned,2018-01-26,peter.segerstedt&lt;at&gt;sweco.se,Fail&lt;space&gt;output&lt;space&gt;redirected&lt;space&gt;to&lt;space&gt;Initiator.&lt;space&gt;New&lt;space&gt;Initiator&lt;space&gt;attributes:&lt;space&gt;status&lt;comma&gt;&lt;space&gt;n_prefixes&lt;space&gt;and&lt;space&gt;n_blobs."
#!   TITLE="AzureBlobLister"
#!   MARKDOWN_USAGE="&#10;**Storage account:**  &#10;  Provide the storage account. Look for this under the portal.azure.com.&#10;&#10;**Access key:**  &#10;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&#10;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &#10;&#10;**Container name:**  &#10;The storage container name. These are listed directly under the storage account pannel. &#10;&#10;**Prefix:**  &#10;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &#10;&#10;**Delimiter:**  &#10;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &#10;&#10;One way to think of this is like a file path separator.&#10;&#10;**Recursive:**  &#10;Should we list all blobs recursively using delimiter.&#10;"
#!   FME_DOCUMENT_PRIORGUID=""
#!   FME_LINKED_TRANSFORMER_VERSION="3"
#!   WORKSPACE_VERSION="1"
#!   MARKDOWN_DESCRIPTION="Lists all blobs in the given storage container. "
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   SHOW_ANNOTATIONS="true"
#!   DOC_EXTENTS="4706.67 717.259"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   DOC_TOP_LEFT="-1126.76 -568.882"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_PROCESS_GROUP_BY=""
#!   XFORM_DEPRECATED="No"
#!   VIEW_POSITION="-1034.39 259.378"
#!   EXPLICIT_BOOKMARK_ORDER="false"
#!   FME_DOCUMENT_GUID="73a90b13-7490-4dd6-8960-612f765b8835"
#!   FME_BUILD_NUM="17539"
#!   ZOOM_SCALE="100"
#!   CATEGORY="Web Services"
#!   ATTR_TYPE_ENCODING="SDF"
#!   FMX_ATTRIBUTE_PROPOGATION_MODE="AUTO"
#!   USE_MARKDOWN="YES"
#!   MAX_LOOP_ITERATIONS=""
#!   LAST_SAVE_DATE="2018-01-26T12:55:39"
#!   LAST_SAVE_BUILD="FME(R) 2017.1.0.0 (20170731 - Build 17539 - WIN64)"
#!   FME_SERVER_SERVICES=""
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR ACCOUNT &quot; &quot; Account:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI PASSWORD_OR_ATTR KEY Key:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR CONTAINER &quot; &quot; Container:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR PREFIX &quot; &quot; Prefix:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR DELIMITER &quot; &quot; Delimiter:"
#!   DEFAULT_VALUE="&lt;solidus&gt;"
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL CHOICE_OR_ATTR RECURSIVE Yes%No Recursive:"
#!   DEFAULT_VALUE="Yes"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="22"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-628.131 42.3806"
#!   BOUNDING_RECT="-628.131 42.3806 740.322 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FetchParamsAttributeCreator_2"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _azure_blob_lister_storage_account SET_TO $(ACCOUNT)  _azure_blob_lister_key SET_TO $(KEY)  _azure_blob_lister_container SET_TO $(CONTAINER)  _azure_blob_lister_prefix SET_TO $(PREFIX)  _azure_blob_lister_delimiter SET_TO $(DELIMITER)  _azure_blob_lister_recursive SET_TO $(RECURSIVE)"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 -58.1228"
#!   BOUNDING_RECT="2263.82 -58.1228 441.012 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_3"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="24"
#!   TYPE="AttributeFilter"
#!   VERSION="4"
#!   POSITION="988.821 42.3806"
#!   BOUNDING_RECT="988.821 42.3806 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="BlobPrefix"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Blob"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="initiator_success"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <OUTPUT_FEAT NAME="&lt;EMPTY&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="3"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <OUTPUT_FEAT NAME="&lt;MISSING&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="4"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <OUTPUT_FEAT NAME="&lt;NULL&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="5"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <OUTPUT_FEAT NAME="&lt;UNFILTERED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="6"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <OUTPUT_FEAT NAME="initiator_fail"/>
#!     <FEAT_COLLAPSED COLLAPSED="7"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeFilter_2"/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES" PARM_VALUE="BlobPrefix,Blob,initiator_success,&lt;lt&gt;EMPTY&lt;gt&gt;,&lt;lt&gt;MISSING&lt;gt&gt;,&lt;lt&gt;NULL&lt;gt&gt;,&lt;lt&gt;UNFILTERED&lt;gt&gt;,initiator_fail"/>
#!     <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="_azure_blob_lister_status"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="188.805 42.3806"
#!   BOUNDING_RECT="188.805 42.3806 726.829 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller_2"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="from&lt;space&gt;fmeobjects&lt;space&gt;import&lt;space&gt;FMELogFile&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;comma&gt;&lt;space&gt;FME_WARN&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;lf&gt;from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;ListFeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Make&lt;space&gt;sure&lt;space&gt;to&lt;space&gt;change&lt;space&gt;if&lt;space&gt;Custom&lt;space&gt;transformer&lt;space&gt;is&lt;space&gt;renamed&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;transformer&lt;space&gt;instance&lt;space&gt;name&lt;space&gt;-&lt;space&gt;that&lt;apos&gt;s&lt;space&gt;what&lt;space&gt;we&lt;apos&gt;re&lt;space&gt;fetching&lt;closeparen&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.xformer_name&lt;space&gt;=&lt;space&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;AzureBlobLister_WORKSPACE_NAME&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;debug&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;&lt;openparen&gt;DEBUG&lt;closeparen&gt;:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;account&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_storage_account&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;secret&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_key&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prefix&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;recursive&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_recursive&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;.upper&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;YES&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;Y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;1&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;TRUE&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.debug&lt;openparen&gt;&lt;apos&gt;Recursive:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;recursive&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiter&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_delimiter&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;azure&lt;space&gt;=&lt;space&gt;AzureAPI&lt;openparen&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;self.logfile&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;container&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_container&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;=&lt;space&gt;0&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blobxml&lt;space&gt;in&lt;space&gt;azure.list_blobs&lt;openparen&gt;container&lt;comma&gt;prefix=prefix&lt;comma&gt;delimiter=delimiter&lt;comma&gt;recursive=recursive&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature&lt;space&gt;=&lt;space&gt;feature.clone&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;used_prefix&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;returntype&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_xml_response&lt;apos&gt;&lt;comma&gt;&lt;space&gt;blobxml&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;resultfeature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_prefixes&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;elif&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;space&gt;==&lt;space&gt;returntype:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;n_blobs&lt;space&gt;+=&lt;space&gt;1&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_success&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;Exception&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_prefixes&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_prefixes&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_n_blobs&lt;apos&gt;&lt;comma&gt;&lt;space&gt;n_blobs&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_fail&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_error_message&lt;apos&gt;&lt;comma&gt;&lt;space&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logException&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;self.logfile&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;#####&lt;space&gt;Code&lt;space&gt;below&lt;space&gt;*should*&lt;space&gt;be&lt;space&gt;more&lt;space&gt;or&lt;space&gt;less&lt;space&gt;standalone&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;bindings&lt;space&gt;to&lt;space&gt;fme&lt;closeparen&gt;&lt;space&gt;#####&lt;lf&gt;import&lt;space&gt;os&lt;lf&gt;import&lt;space&gt;requests&lt;lf&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;OrderedDict&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;from&lt;space&gt;xml.etree&lt;space&gt;import&lt;space&gt;ElementTree&lt;lf&gt;&lt;lf&gt;import&lt;space&gt;base64&lt;lf&gt;import&lt;space&gt;uuid&lt;lf&gt;import&lt;space&gt;hashlib&lt;lf&gt;import&lt;space&gt;hmac&lt;lf&gt;import&lt;space&gt;sys&lt;lf&gt;&lt;lf&gt;PUT_BLOB_LIMIT&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;64&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;64&lt;space&gt;MB&lt;lf&gt;PUT_BLOCK_CHUNK_SIZE&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;4&lt;space&gt;#&lt;space&gt;4&lt;space&gt;MB&lt;lf&gt;AZ_VERSION&lt;space&gt;=&lt;space&gt;&lt;apos&gt;2015-02-21&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;StdoutLogger&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;simple&lt;space&gt;log&lt;space&gt;class&lt;space&gt;to&lt;space&gt;mimic&lt;space&gt;fme&lt;space&gt;api&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logMessageString&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;msg&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logException&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logMessageString&lt;openparen&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;level&lt;closeparen&gt;&lt;lf&gt;class&lt;space&gt;AzureAPI&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version_info&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;Iterable&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;unicode&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections.abc&lt;space&gt;import&lt;space&gt;Iterable&lt;space&gt;#&lt;space&gt;TODO:&lt;space&gt;this&lt;space&gt;code&lt;space&gt;was&lt;space&gt;found&lt;space&gt;somewhere&lt;space&gt;but&lt;space&gt;its&lt;space&gt;logic&lt;space&gt;is&lt;space&gt;not&lt;space&gt;clear&lt;space&gt;to&lt;space&gt;me...&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;logfile&lt;space&gt;=&lt;space&gt;StdoutLogger&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;logfile&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logprefix&lt;space&gt;=&lt;space&gt;logprefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.loglevel&lt;space&gt;=&lt;space&gt;loglevel&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.account&lt;space&gt;=&lt;space&gt;account&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.secret&lt;space&gt;=&lt;space&gt;secret&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.logprefix&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;self.loglevel&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;append_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=appendblock&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Appending&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:appendblock&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;ERROR&lt;space&gt;status&lt;space&gt;%s:&lt;space&gt;`%s`&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;r.status_code&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_id&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;uuid.uuid4&lt;openparen&gt;&lt;closeparen&gt;.hex&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer&lt;solidus&gt;myblob?comp=block&lt;amp&gt;blockid=id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=block&lt;amp&gt;blockid=%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;block&lt;space&gt;of&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;blockid:%s&lt;backslash&gt;ncomp:block&lt;apos&gt;&lt;space&gt;%&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;block_id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block_list&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_fragments&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;s:&lt;space&gt;&lt;apos&gt;&lt;lt&gt;Uncommitted&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;Uncommitted&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;s&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;utf-8&lt;quote&gt;?&lt;gt&gt;&lt;lt&gt;BlockList&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;BlockList&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;list_fragments&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=blocklist&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:blocklist&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_blob&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_END&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;size&lt;space&gt;=&lt;space&gt;fin.tell&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_SET&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;size&lt;space&gt;&lt;lt&gt;&lt;space&gt;PUT_BLOB_LIMIT:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;fin.read&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;offset&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;size&lt;comma&gt;&lt;space&gt;PUT_BLOCK_CHUNK_SIZE&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;`%s`&lt;comma&gt;&lt;space&gt;%s%%&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;blob_name&lt;comma&gt;&lt;space&gt;int&lt;openparen&gt;round&lt;openparen&gt;offset&lt;space&gt;*&lt;space&gt;100&lt;space&gt;&lt;solidus&gt;&lt;space&gt;size&lt;closeparen&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_size&lt;space&gt;=&lt;space&gt;min&lt;openparen&gt;PUT_BLOCK_CHUNK_SIZE&lt;comma&gt;&lt;space&gt;size&lt;space&gt;-&lt;space&gt;offset&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids.append&lt;openparen&gt;self.put_block&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin.read&lt;openparen&gt;block_size&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.put_block_list&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;ids&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;ID&lt;space&gt;LIST&lt;space&gt;COMMITTED:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;backslash&gt;t&lt;apos&gt;.join&lt;openparen&gt;ids&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Done&lt;space&gt;uploading&lt;space&gt;%s&lt;space&gt;bytes&lt;space&gt;of&lt;space&gt;data&lt;apos&gt;&lt;space&gt;%&lt;space&gt;size&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;list_blobs&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;prefix=None&lt;comma&gt;delimiter=&lt;apos&gt;&lt;solidus&gt;&lt;apos&gt;&lt;comma&gt;recursive=False&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer?restype=container&lt;amp&gt;comp=list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#CubeSourceDataFile&lt;solidus&gt;coast&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;apos&gt;delimiter&lt;apos&gt;&lt;space&gt;:&lt;space&gt;delimiter&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;list&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;restype&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;container&lt;apos&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;prefix:&lt;space&gt;params&lt;openbracket&gt;&lt;apos&gt;prefix&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;prefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;OrderedDict&lt;openparen&gt;sorted&lt;openparen&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;key=lambda&lt;space&gt;t:&lt;space&gt;t&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystring&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;amp&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;=&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;:&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s?%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;querystring&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;querystringencoded&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;GET&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;Listing&lt;space&gt;blobs&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.get&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;200:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;root&lt;space&gt;=&lt;space&gt;ElementTree.fromstring&lt;openparen&gt;r.content.decode&lt;openparen&gt;&lt;apos&gt;utf-8-sig&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blobprefix&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blobprefix&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;recursive:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;self.list_blobs&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;prefix=blobprefix.findtext&lt;openparen&gt;&lt;apos&gt;Name&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;delimiter=delimiter&lt;comma&gt;recursive=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blob&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_authorize&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;headers&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;PUT&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;&lt;apos&gt;0&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;http_method&lt;space&gt;#&lt;space&gt;VERB&lt;space&gt;&lt;openparen&gt;http-method&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Encoding&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Language&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;content_length&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-MD5&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Date&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;Date&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Modified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-None-Match&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Unmodified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Range&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;comma&gt;&lt;space&gt;None&lt;closeparen&gt;:&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-date:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-version:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;blob_name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;querystringencoded:&lt;space&gt;fields.append&lt;openparen&gt;querystringencoded&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;fields&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signature&lt;space&gt;=&lt;space&gt;AzureAPI._sign_string&lt;openparen&gt;self.secret&lt;space&gt;&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;Authorization&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;SharedKey&lt;space&gt;%s:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;signature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;_string_to_sign&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_create_headers&lt;openparen&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;OrderedDict&lt;openparen&gt;&lt;opencurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Content-Length&lt;apos&gt;:&lt;space&gt;str&lt;openparen&gt;len&lt;openparen&gt;data&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;:&lt;space&gt;AzureAPI._httpdate&lt;openparen&gt;datetime.datetime.utcnow&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;:&lt;space&gt;AZ_VERSION&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closecurly&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_httpdate&lt;openparen&gt;dt&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;Return&lt;space&gt;a&lt;space&gt;string&lt;space&gt;representation&lt;space&gt;of&lt;space&gt;a&lt;space&gt;date&lt;space&gt;according&lt;space&gt;to&lt;space&gt;RFC&lt;space&gt;1123&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;HTTP&lt;solidus&gt;1.1&lt;closeparen&gt;.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;The&lt;space&gt;supplied&lt;space&gt;date&lt;space&gt;must&lt;space&gt;be&lt;space&gt;in&lt;space&gt;UTC.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;weekday&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Mon&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Tue&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Wed&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Thu&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Fri&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sat&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sun&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.weekday&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;month&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Jan&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Feb&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Mar&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Apr&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;May&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jun&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jul&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Aug&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sep&lt;quote&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Oct&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Nov&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Dec&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.month&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;quote&gt;%s&lt;comma&gt;&lt;space&gt;%02d&lt;space&gt;%s&lt;space&gt;%04d&lt;space&gt;%02d:%02d:%02d&lt;space&gt;GMT&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;weekday&lt;comma&gt;&lt;space&gt;dt.day&lt;comma&gt;&lt;space&gt;month&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dt.year&lt;comma&gt;&lt;space&gt;dt.hour&lt;comma&gt;&lt;space&gt;dt.minute&lt;comma&gt;&lt;space&gt;dt.second&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_encode_base64&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_decode_base64_to_bytes&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;base64.b64decode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_sign_string&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;key_is_base64=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;key_is_base64:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;AzureAPI._decode_base64_to_bytes&lt;openparen&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;key.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;string_to_sign&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;string_to_sign&lt;space&gt;=&lt;space&gt;string_to_sign.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signed_hmac_sha256&lt;space&gt;=&lt;space&gt;hmac.HMAC&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;hashlib.sha256&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;digest&lt;space&gt;=&lt;space&gt;signed_hmac_sha256.digest&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded_digest&lt;space&gt;=&lt;space&gt;AzureAPI._encode_base64&lt;openparen&gt;digest&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded_digest&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="ListFeatureProcessor"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_azure_blob_lister_status _azure_blob_lister_error_message _azure_blob_lister_xml_response _azure_blob_lister_n_prefixes _azure_blob_lister_n_blobs"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="26"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.32 -58.1228"
#!   BOUNDING_RECT="1701.32 -58.1228 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Disposition" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Encoding" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Language" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-MD5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Etag" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Last-Modified" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseState" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseStatus" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_2"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;Blob.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="Blob"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="Blob.Name Blob.Properties.BlobType Blob.Properties.Cache-Control Blob.Properties.Content-Disposition Blob.Properties.Content-Encoding Blob.Properties.Content-Language Blob.Properties.Content-Length Blob.Properties.Content-MD5 Blob.Properties.Content-Type Blob.Properties.Etag Blob.Properties.Last-Modified Blob.Properties.LeaseState Blob.Properties.LeaseStatus xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="27"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1701.32 148.377"
#!   BOUNDING_RECT="1701.32 148.377 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_3"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;BlobPrefix.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="BlobPrefix"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="BlobPrefix.Name xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="29"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 148.377"
#!   BOUNDING_RECT="2263.82 148.377 439.007 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_5"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2263.82 -479.382"
#!   BOUNDING_RECT="2263.82 -479.382 442.016 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="17539"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_prefixes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_n_blobs" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_6"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="10"
#!   NAME="Input"
#!   POSITION="-1126.76 42.3806"
#!   BOUNDING_RECT="-1126.76 42.3806 -1 -1"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="31"
#!   NAME="Blob"
#!   POSITION="2838.34 -76.6228"
#!   BOUNDING_RECT="2838.34 -76.6228 705.814 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="33"
#!   NAME="Initiator"
#!   POSITION="2838.34 -497.882"
#!   BOUNDING_RECT="2838.34 -497.882 741.574 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="34"
#!   NAME="BlobPrefix"
#!   POSITION="2838.34 129.877"
#!   BOUNDING_RECT="2838.34 129.877 608.939 71"
#!   COLLAPSED="false"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="51"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="22"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="35"
#!   SOURCE_NODE="22"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="31"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="40"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="27"
#!   SOURCE_PORT_DESC="fo 0 BlobPrefix"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="36"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="24"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="26"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="43"
#!   SOURCE_NODE="27"
#!   TARGET_NODE="29"
#!   SOURCE_PORT_DESC="fo 0 FRAGMENTS"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="44"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="34"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="50"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="39"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="26"
#!   SOURCE_PORT_DESC="fo 1 Blob"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="41"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 2 initiator_success"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="48"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 3 &lt;lt&gt;EMPTY&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="47"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 4 &lt;lt&gt;MISSING&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="45"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 5 &lt;lt&gt;NULL&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="46"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 6 &lt;lt&gt;UNFILTERED&lt;gt&gt;"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="49"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 7 initiator_fail"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
FME_PYTHON_VERSION 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_KEY 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_CONTAINER 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_PREFIX 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_DELIMITER <solidus>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE Yes
#! START_HEADER
#! END_HEADER

LOG_TIMINGS YES
LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO AzureBlobLister_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(AzureBlobLister_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Input1516967739 Input Splitter"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"
# -------------------------------------------------------------------------

FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_azure_blob_lister_storage_account" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT)" }      ATTR_ACTION { "" "_azure_blob_lister_key" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_KEY$encode)" }      ATTR_ACTION { "" "_azure_blob_lister_container" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_CONTAINER)" }      ATTR_ACTION { "" "_azure_blob_lister_prefix" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_PREFIX)" }      ATTR_ACTION { "" "_azure_blob_lister_delimiter" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_DELIMITER)" }      ATTR_ACTION { "" "_azure_blob_lister_recursive" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"


# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"    SYMBOL_NAME ListFeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE from<space>fmeobjects<space>import<space>FMELogFile<comma><space>FME_INFORM<comma><space>FME_WARN<comma><space>FME_ERROR<lf>from<space>cStringIO<space>import<space>StringIO<lf><lf>class<space>ListFeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#<space>Make<space>sure<space>to<space>change<space>if<space>Custom<space>transformer<space>is<space>renamed<space><openparen>not<space>transformer<space>instance<space>name<space>-<space>that<apos>s<space>what<space>we<apos>re<space>fetching<closeparen><space><lf><space><space><space><space><space><space><space><space>self.xformer_name<space>=<space>FME_MacroValues<openbracket><apos>AzureBlobLister_WORKSPACE_NAME<apos><closebracket><lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space>#self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>debug<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<space>#self.logfile.logMessageString<openparen><apos>%s<space><openparen>DEBUG<closeparen>:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>account<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_storage_account<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>secret<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_key<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>prefix<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_prefix<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>recursive<space>=<space>str<openparen>feature.getAttribute<openparen><apos>_azure_blob_lister_recursive<apos><closeparen><closeparen>.upper<openparen><closeparen><space>in<space><openparen><apos>YES<apos><comma><space><apos>Y<apos><comma><space><apos>1<apos><comma><space><apos>TRUE<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.debug<openparen><apos>Recursive:<space><opencurly><closecurly><apos>.format<openparen>recursive<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiter<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_delimiter<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>azure<space>=<space>AzureAPI<openparen>account<comma><space>secret<comma><space>self.logfile<comma><space>logprefix<space>=<space>self.xformer_name<comma><space>loglevel<space>=<space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>container<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_container<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>=<space>0<lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blobxml<space>in<space>azure.list_blobs<openparen>container<comma>prefix=prefix<comma>delimiter=delimiter<comma>recursive=recursive<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature<space>=<space>feature.clone<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_prefix<apos><comma><space>used_prefix<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space>returntype<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_xml_response<apos><comma><space>blobxml<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>resultfeature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>BlobPrefix<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_prefixes<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>elif<space><apos>Blob<apos><space>==<space>returntype:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>n_blobs<space>+=<space>1<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_success<apos><closeparen><lf><space><space><space><space><space><space><space><space>except<space>Exception<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_prefixes<apos><comma><space>n_prefixes<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_n_blobs<apos><comma><space>n_blobs<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_fail<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_error_message<apos><comma><space>str<openparen>e<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logfile.logException<openparen>e<comma><space>FME_ERROR<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>del<space>self.logfile<lf><space><space><space><space><space><space><space><space><lf>#####<space>Code<space>below<space>*should*<space>be<space>more<space>or<space>less<space>standalone<space><openparen>no<space>bindings<space>to<space>fme<closeparen><space>#####<lf>import<space>os<lf>import<space>requests<lf>from<space>collections<space>import<space>OrderedDict<lf>import<space>datetime<lf>from<space>xml.etree<space>import<space>ElementTree<lf><lf>import<space>base64<lf>import<space>uuid<lf>import<space>hashlib<lf>import<space>hmac<lf>import<space>sys<lf><lf>PUT_BLOB_LIMIT<space>=<space>1024<space>*<space>1024<space>*<space>64<space><space><space><space><space><space>#<space>64<space>MB<lf>PUT_BLOCK_CHUNK_SIZE<space>=<space>1024<space>*<space>1024<space>*<space>4<space>#<space>4<space>MB<lf>AZ_VERSION<space>=<space><apos>2015-02-21<apos><lf><lf>class<space>StdoutLogger<openparen>object<closeparen>:<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>simple<space>log<space>class<space>to<space>mimic<space>fme<space>api<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>def<space>logMessageString<openparen>self<comma><space>msg<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>print<space>msg<lf><space><space><space><space>def<space>logException<openparen>self<comma><space>e<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logMessageString<openparen>str<openparen>e<closeparen><comma><space>level<closeparen><lf>class<space>AzureAPI<openparen>object<closeparen>:<lf><space><space><space><space>if<space>sys.version_info<space><lt><space><openparen>3<comma><closeparen>:<lf><space><space><space><space><space><space><space><space>from<space>collections<space>import<space>Iterable<lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>unicode<lf><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space>from<space>collections.abc<space>import<space>Iterable<space>#<space>TODO:<space>this<space>code<space>was<space>found<space>somewhere<space>but<space>its<space>logic<space>is<space>not<space>clear<space>to<space>me...<space><lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>str<lf><space><space><space><space>def<space>__init__<openparen>self<comma><space>account<comma><space>secret<comma><space>logfile<space>=<space>StdoutLogger<openparen><closeparen><comma><space>logprefix<space>=<space><apos><apos><comma><space>loglevel<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>logfile<space><lf><space><space><space><space><space><space><space><space>self.logprefix<space>=<space>logprefix<lf><space><space><space><space><space><space><space><space>self.loglevel<space>=<space>loglevel<lf><space><space><space><space><space><space><space><space>self.account<space>=<space>account<lf><space><space><space><space><space><space><space><space>self.secret<space>=<space>secret<lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.logprefix<comma><space>message<closeparen><comma><space>self.loglevel<closeparen><lf><space><space><space><space>def<space>append_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=appendblock<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Appending<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:appendblock<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data<space>=<space>block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>ERROR<space>status<space>%s:<space>`%s`<apos><space>%<space><openparen>r.status_code<comma><space>_string_to_sign<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space>block_id<space>=<space>base64.b64encode<openparen>uuid.uuid4<openparen><closeparen>.hex<closeparen><lf><space><space><space><space><space><space><space><space>#https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer<solidus>myblob?comp=block<amp>blockid=id<lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=block<amp>blockid=%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<comma><space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>block<space>of<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>blockid:%s<backslash>ncomp:block<apos><space>%<space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>block_id<lf><space><space><space><space>def<space>put_block_list<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_list<closeparen>:<lf><space><space><space><space><space><space><space><space>list_fragments<space>=<space><apos><apos>.join<openparen>map<openparen>lambda<space>s:<space><apos><lt>Uncommitted<gt><opencurly><closecurly><lt><solidus>Uncommitted<gt><apos>.format<openparen>s<closeparen><comma><space>block_list<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>data<space>=<space><apos><lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>utf-8<quote>?<gt><lt>BlockList<gt><opencurly><closecurly><lt><solidus>BlockList<gt><apos>.format<openparen>list_fragments<closeparen><lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=blocklist<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:blocklist<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_blob<openparen>self<comma><space>container<comma><space>blob_name<comma><space>fin<closeparen>:<lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_END<closeparen><lf><space><space><space><space><space><space><space><space>size<space>=<space>fin.tell<openparen><closeparen><lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_SET<closeparen><lf><space><space><space><space><space><space><space><space>if<space>size<space><lt><space>PUT_BLOB_LIMIT:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>fin.read<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>ids<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>offset<space>in<space>range<openparen>0<comma><space>size<comma><space>PUT_BLOCK_CHUNK_SIZE<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>`%s`<comma><space>%s%%<apos><space>%<space><openparen>blob_name<comma><space>int<openparen>round<openparen>offset<space>*<space>100<space><solidus><space>size<closeparen><closeparen><space><closeparen><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>block_size<space>=<space>min<openparen>PUT_BLOCK_CHUNK_SIZE<comma><space>size<space>-<space>offset<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ids.append<openparen>self.put_block<openparen>container<comma><space>blob_name<comma><space>fin.read<openparen>block_size<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.put_block_list<openparen>container<comma><space>blob_name<comma><space>ids<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#self.info<openparen><apos>ID<space>LIST<space>COMMITTED:<space>%s<apos><space>%<space><apos><backslash>n<backslash>t<apos>.join<openparen>ids<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Done<space>uploading<space>%s<space>bytes<space>of<space>data<apos><space>%<space>size<closeparen><lf><space><space><space><space>def<space>list_blobs<openparen>self<comma><space>container<comma>prefix=None<comma>delimiter=<apos><solidus><apos><comma>recursive=False<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer?restype=container<amp>comp=list<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#CubeSourceDataFile<solidus>coast<lf><space><space><space><space><space><space><space><space>#<lf><space><space><space><space><space><space><space><space>params<space>=<space><opencurly><apos>delimiter<apos><space>:<space>delimiter<comma><space><apos>comp<apos>:<space><apos>list<apos><comma><space><apos>restype<apos>:<space><apos>container<apos><closecurly><lf><space><space><space><space><space><space><space><space>if<space>prefix:<space>params<openbracket><apos>prefix<apos><closebracket><space>=<space>prefix<lf><space><space><space><space><space><space><space><space>params<space>=<space>OrderedDict<openparen>sorted<openparen>params.items<openparen><closeparen><comma><space>key=lambda<space>t:<space>t<openbracket>0<closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystring<space>=<space><apos><amp><apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>=<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystringencoded<space>=<space><apos><backslash>n<apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>:<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s?%s<apos><space>%<space><openparen>self.account<comma><space>container<comma>querystring<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>querystringencoded<space>=<space>querystringencoded<comma><space>http_method<space>=<space><apos>GET<apos><closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen><apos>Listing<space>blobs<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.get<openparen>url<comma><space>headers=headers<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>200:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>root<space>=<space>ElementTree.fromstring<openparen>r.content.decode<openparen><apos>utf-8-sig<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>for<space>blobprefix<space>in<space>root.iter<openparen><apos>BlobPrefix<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blobprefix<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>BlobPrefix<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>recursive:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blob<space>in<space>self.list_blobs<openparen>container<comma><space>prefix=blobprefix.findtext<openparen><apos>Name<apos><closeparen><comma><space>delimiter=delimiter<comma>recursive=True<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>yield<space>returntype<comma><space>used_prefix<comma><space>blob<lf><space><space><space><space><space><space><space><space>for<space>blob<space>in<space>root.iter<openparen><apos>Blob<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blob<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>Blob<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space>def<space>_authorize<openparen>self<comma><space>headers<comma><space>container_name<comma><space>blob_name<space>=<space>None<comma><space>querystringencoded<space>=<space>None<comma><space>http_method<space>=<space><apos>PUT<apos><closeparen>:<lf><space><space><space><space><space><space><space><space>content_length<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>Content-Length<apos><closeparen><space>!=<space><apos>0<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>content_length<space>=<space>headers.get<openparen><apos>Content-Length<apos><closeparen><lf><space><space><space><space><space><space><space><space>fields<space>=<space><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>http_method<space>#<space>VERB<space><openparen>http-method<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Encoding<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Language<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>content_length<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-MD5<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>headers.get<openparen><apos>Date<apos><comma><apos><apos><closeparen><space>#<space>Date<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Modified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-None-Match<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Unmodified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Range<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><closebracket><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>x-ms-blob-type<apos><comma><space>None<closeparen>:<space>fields.append<openparen><apos>x-ms-blob-type:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-blob-type<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-date:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-date<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-version:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-version<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>blob_name:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<comma><space>blob_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>querystringencoded:<space>fields.append<openparen>querystringencoded<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space><apos><backslash>n<apos>.join<openparen>fields<closeparen><lf><space><space><space><space><space><space><space><space>signature<space>=<space>AzureAPI._sign_string<openparen>self.secret<space><comma><space>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>Authorization<apos><closebracket><space>=<space><apos>SharedKey<space>%s:%s<apos><space>%<space><openparen>self.account<comma><space>signature<closeparen><lf><space><space><space><space><space><space><space><space>return<space>_string_to_sign<lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_create_headers<openparen>data<space>=<space><apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space>return<space>OrderedDict<openparen><opencurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Content-Length<apos>:<space>str<openparen>len<openparen>data<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-date<apos>:<space>AzureAPI._httpdate<openparen>datetime.datetime.utcnow<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-version<apos>:<space>AZ_VERSION<lf><space><space><space><space><space><space><space><space><space><space><space><space><closecurly><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_httpdate<openparen>dt<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Return<space>a<space>string<space>representation<space>of<space>a<space>date<space>according<space>to<space>RFC<space>1123<lf><space><space><space><space><space><space><space><space><openparen>HTTP<solidus>1.1<closeparen>.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space>The<space>supplied<space>date<space>must<space>be<space>in<space>UTC.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>weekday<space>=<space><openbracket><quote>Mon<quote><comma><space><quote>Tue<quote><comma><space><quote>Wed<quote><comma><space><quote>Thu<quote><comma><space><quote>Fri<quote><comma><space><quote>Sat<quote><comma><space><quote>Sun<quote><closebracket><openbracket>dt.weekday<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space>month<space>=<space><openbracket><quote>Jan<quote><comma><space><quote>Feb<quote><comma><space><quote>Mar<quote><comma><space><quote>Apr<quote><comma><space><quote>May<quote><comma><space><quote>Jun<quote><comma><space><quote>Jul<quote><comma><space><quote>Aug<quote><comma><space><quote>Sep<quote><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Oct<quote><comma><space><quote>Nov<quote><comma><space><quote>Dec<quote><closebracket><openbracket>dt.month<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space>return<space><quote>%s<comma><space>%02d<space>%s<space>%04d<space>%02d:%02d:%02d<space>GMT<quote><space>%<space><openparen>weekday<comma><space>dt.day<comma><space>month<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>dt.year<comma><space>dt.hour<comma><space>dt.minute<comma><space>dt.second<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_encode_base64<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>encoded<space>=<space>base64.b64encode<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_decode_base64_to_bytes<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>base64.b64decode<openparen>data<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_sign_string<openparen>key<comma><space>string_to_sign<comma><space>key_is_base64=True<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>key_is_base64:<lf><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>AzureAPI._decode_base64_to_bytes<openparen>key<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>key<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>key.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>string_to_sign<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>string_to_sign<space>=<space>string_to_sign.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>signed_hmac_sha256<space>=<space>hmac.HMAC<openparen>key<comma><space>string_to_sign<comma><space>hashlib.sha256<closeparen><lf><space><space><space><space><space><space><space><space>digest<space>=<space>signed_hmac_sha256.digest<openparen><closeparen><lf><space><space><space><space><space><space><space><space>encoded_digest<space>=<space>AzureAPI._encode_base64<openparen>digest<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded_digest<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"

# -------------------------------------------------------------------------
Lookup $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut   BlobPrefix ok   Blob ok   initiator_success ok   initiator_fail ok   "" notok   ENCODED

FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"    TEST @Lookup($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut,_azure_blob_lister_status,ENCODED_ATTR) == "ok"    OUTPUT PASSED FEATURE_TYPE * @FeatureType(SET_FROM_ATTR, _azure_blob_lister_status, $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2)    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_NullFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    TEST _azure_blob_lister_status ATTRIBUTE_VALUE_NULL "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_MissingFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    TEST _azure_blob_lister_status ATTRIBUTE_IS_MISSING "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlankFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>    TEST _azure_blob_lister_status ATTRIBUTE_IS_EMPTY "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>



# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_fail"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_success"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_Blob"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "Blob"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>Blob.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"        @RemoveAttributes(fme_encoded,Blob.Properties.Last-Modified,Blob.Properties.Content-Language,_azure_blob_lister_key,Blob.Properties.Etag,Blob.Properties.Content-MD5,_azure_blob_lister_storage_account,xml_id,xml_matched_element,Blob.Properties.Content-Type,Blob.Properties.LeaseStatus,_azure_blob_lister_status,Blob.Properties.LeaseState,_azure_blob_lister_container,xml_parent_id,Blob.Properties.Content-Disposition,xml_type,_azure_blob_lister_recursive,_azure_blob_lister_n_blobs,_azure_blob_lister_xml_response,xml_parent_child_pos,_azure_blob_lister_n_prefixes,xml_fragment,_azure_blob_lister_delimiter,_azure_blob_lister_error_message,Blob.Properties.Content-Encoding)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlobPrefix"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "BlobPrefix"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>BlobPrefix.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_container,xml_fragment,xml_parent_id,_azure_blob_lister_delimiter,_azure_blob_lister_key,_azure_blob_lister_n_prefixes,xml_matched_element,_azure_blob_lister_status,xml_id,xml_parent_child_pos,xml_type,_azure_blob_lister_storage_account,_azure_blob_lister_recursive,_azure_blob_lister_error_message,_azure_blob_lister_xml_response,_azure_blob_lister_n_blobs)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Blob1516967739 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Blob"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Initiator1516967739 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix1516967739 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME))}]
#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN AzureBlobLister,2,"Web Services",02d65376-81e4-48ce-a624-1650af093582,"Linked by Default",No,NO_PARALLELISM,,No,16177,YES,No
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Lists all blobs in the given storage container.</p>
# 
# TRANSFORMER_END
#!   DOC_EXTENTS="4849.49 1171.76"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_SERVER_SERVICES=""
#!   HISTORY="2016-08-08,peter.segerstedt&lt;at&gt;eea.europa.eu,Original&lt;space&gt;definition,2016-09-19,peter.segerstedt&lt;at&gt;eea.europa.eu,Now&lt;space&gt;blob&lt;space&gt;prefixes&lt;space&gt;can&lt;space&gt;be&lt;space&gt;used&lt;space&gt;and&lt;space&gt;returned"
#!   DOC_TOP_LEFT="-992.385 -1951.52"
#!   WORKSPACE_VERSION="1"
#!   FME_DOCUMENT_PRIORGUID="1eed4b4a-65d4-4b22-bb59-787549de10d3,a48a37df-1ca1-4db7-b664-ac234413501e"
#!   CATEGORY="Web Services"
#!   SHOW_ANNOTATIONS="true"
#!   DESCRIPTION="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Lists all blobs in the given storage container.&lt;/p&gt;&#10;"
#!   USAGE="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Storage account:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Provide the storage account. Look for this under the portal.azure.com.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-weight:600;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Access key:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Container name:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The storage countainer name. These are listed directly under the storage account pannel. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Prefix:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;An optional prefix that shall be used to filter results, only blob names starting with prefix will be returned. Leave empty to not use filter. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Delimiter:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;A single BlobPrefix feature will be output as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;One way to think of this is like a file path separator.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Recursive:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Should we list all blobs recursively using delimiter.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   REQUIREMENTS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   FMX_INSERT_MODE="Linked by Default"
#!   FME_DOCUMENT_GUID="02d65376-81e4-48ce-a624-1650af093582"
#!   ZOOM_SCALE="100"
#!   VIEW_POSITION="-928.134 221.877"
#!   MAX_LOOP_ITERATIONS=""
#!   XFORM_DEPRECATED="No"
#!   BLOCKED_LOOPING="No"
#!   ITERATION_COUNT_ATTR=""
#!   ATTR_TYPE_ENCODING="SDF"
#!   FME_BUILD_NUM="16177"
#!   LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   PASSWORD=""
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   TITLE="AzureBlobLister"
#!   REQUIREMENTS_KEYWORD="none"
#!   LAST_SAVE_DATE="2016-09-19T16:25:23"
#!   LAST_SAVE_BUILD="FME(R) 2016.0.1.1 (20160224 - Build 16177 - WIN64)"
#!   SHOW_INFO_NODES="true"
#!   FME_PROCESS_GROUP_BY=""
#!   FME_LINKED_TRANSFORMER_VERSION="2"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR ACCOUNT &quot; &quot; Account:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI PASSWORD_OR_ATTR KEY Key:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR CONTAINER &quot; &quot; Container:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR PREFIX &quot; &quot; Prefix:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR DELIMITER &quot; &quot; Delimiter:"
#!   DEFAULT_VALUE="&lt;solidus&gt;"
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL CHOICE_OR_ATTR RECURSIVE Yes%No Recursive:"
#!   DEFAULT_VALUE="Yes"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="22"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-225.817 -1526.51"
#!   BOUNDING_RECT="-225.817 -1526.51 841.448 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FetchParamsAttributeCreator_2"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _azure_blob_lister_storage_account SET_TO $(ACCOUNT)  _azure_blob_lister_key SET_TO $(KEY)  _azure_blob_lister_container SET_TO $(CONTAINER)  _azure_blob_lister_prefix SET_TO $(PREFIX)  _azure_blob_lister_delimiter SET_TO $(DELIMITER)  _azure_blob_lister_recursive SET_TO $(RECURSIVE)"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2645.08 -1292.26"
#!   BOUNDING_RECT="2645.08 -1292.26 675.512 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_3"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="Blob.Properties.Content-Disposition,Blob.Properties.Content-Type,xml_parent_id,xml_parent_child_pos,Blob.Properties.Content-MD5,_azure_blob_lister_key,Blob.Properties.Last-Modified,_azure_blob_lister_error_message,xml_type,_azure_blob_lister_xml_response,_azure_blob_lister_delimiter,_azure_blob_lister_storage_account,_azure_blob_lister_container,Blob.Properties.Content-Encoding,_azure_blob_lister_recursive,Blob.Properties.LeaseStatus,xml_id,xml_matched_element,Blob.Properties.Content-Language,Blob.Properties.LeaseState,Blob.Properties.Etag,_azure_blob_lister_status,xml_fragment"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="24"
#!   TYPE="AttributeFilter"
#!   VERSION="4"
#!   POSITION="1429.45 -1517.01"
#!   BOUNDING_RECT="1429.45 -1517.01 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="BlobPrefix"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Blob"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="initiator_success"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <OUTPUT_FEAT NAME="&lt;EMPTY&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="3"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <OUTPUT_FEAT NAME="&lt;MISSING&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="4"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <OUTPUT_FEAT NAME="&lt;NULL&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="5"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <OUTPUT_FEAT NAME="&lt;UNFILTERED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="6"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="6" />
#!     <OUTPUT_FEAT NAME="initiator_fail"/>
#!     <FEAT_COLLAPSED COLLAPSED="7"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="7" />
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES" PARM_VALUE="BlobPrefix,Blob,initiator_success,&lt;lt&gt;EMPTY&lt;gt&gt;,&lt;lt&gt;MISSING&lt;gt&gt;,&lt;lt&gt;NULL&lt;gt&gt;,&lt;lt&gt;UNFILTERED&lt;gt&gt;,initiator_fail"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeFilter_2"/>
#!     <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="_azure_blob_lister_status"/>
#!     <XFORM_PARM PARM_NAME="ATTR_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="901.312 -1526.51"
#!   BOUNDING_RECT="901.312 -1526.51 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller_2"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="from&lt;space&gt;fmeobjects&lt;space&gt;import&lt;space&gt;FMELogFile&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;comma&gt;&lt;space&gt;FME_WARN&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;lf&gt;from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;ListFeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Make&lt;space&gt;sure&lt;space&gt;to&lt;space&gt;change&lt;space&gt;if&lt;space&gt;Custom&lt;space&gt;transformer&lt;space&gt;is&lt;space&gt;renamed&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;transformer&lt;space&gt;instance&lt;space&gt;name&lt;space&gt;-&lt;space&gt;that&lt;apos&gt;s&lt;space&gt;what&lt;space&gt;we&lt;apos&gt;re&lt;space&gt;fetching&lt;closeparen&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.xformer_name&lt;space&gt;=&lt;space&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;AzureBlobLister_WORKSPACE_NAME&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;debug&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s&lt;space&gt;&lt;openparen&gt;DEBUG&lt;closeparen&gt;:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;account&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_storage_account&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;secret&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_key&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;prefix&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;recursive&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_recursive&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;.upper&lt;openparen&gt;&lt;closeparen&gt;&lt;space&gt;in&lt;space&gt;&lt;openparen&gt;&lt;apos&gt;YES&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;Y&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;1&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;TRUE&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.debug&lt;openparen&gt;&lt;apos&gt;Recursive:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;recursive&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;delimiter&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_delimiter&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;azure&lt;space&gt;=&lt;space&gt;AzureAPI&lt;openparen&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;self.logfile&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;container&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_container&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blobxml&lt;space&gt;in&lt;space&gt;azure.list_blobs&lt;openparen&gt;container&lt;comma&gt;prefix=prefix&lt;comma&gt;delimiter=delimiter&lt;comma&gt;recursive=recursive&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature&lt;space&gt;=&lt;space&gt;feature.clone&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_prefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;used_prefix&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;returntype&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;resultfeature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_xml_response&lt;apos&gt;&lt;comma&gt;&lt;space&gt;blobxml&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;resultfeature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_success&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;Exception&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;initiator_fail&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_error_message&lt;apos&gt;&lt;comma&gt;&lt;space&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logException&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;self.logfile&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;#####&lt;space&gt;Code&lt;space&gt;below&lt;space&gt;*should*&lt;space&gt;be&lt;space&gt;more&lt;space&gt;or&lt;space&gt;less&lt;space&gt;standalone&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;bindings&lt;space&gt;to&lt;space&gt;fme&lt;closeparen&gt;&lt;space&gt;#####&lt;lf&gt;import&lt;space&gt;os&lt;lf&gt;import&lt;space&gt;requests&lt;lf&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;OrderedDict&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;from&lt;space&gt;xml.etree&lt;space&gt;import&lt;space&gt;ElementTree&lt;lf&gt;&lt;lf&gt;import&lt;space&gt;base64&lt;lf&gt;import&lt;space&gt;uuid&lt;lf&gt;import&lt;space&gt;hashlib&lt;lf&gt;import&lt;space&gt;hmac&lt;lf&gt;import&lt;space&gt;sys&lt;lf&gt;&lt;lf&gt;PUT_BLOB_LIMIT&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;64&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;64&lt;space&gt;MB&lt;lf&gt;PUT_BLOCK_CHUNK_SIZE&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;4&lt;space&gt;#&lt;space&gt;4&lt;space&gt;MB&lt;lf&gt;AZ_VERSION&lt;space&gt;=&lt;space&gt;&lt;apos&gt;2015-02-21&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;StdoutLogger&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;simple&lt;space&gt;log&lt;space&gt;class&lt;space&gt;to&lt;space&gt;mimic&lt;space&gt;fme&lt;space&gt;api&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logMessageString&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;msg&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logException&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logMessageString&lt;openparen&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;level&lt;closeparen&gt;&lt;lf&gt;class&lt;space&gt;AzureAPI&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version_info&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;Iterable&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;unicode&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections.abc&lt;space&gt;import&lt;space&gt;Iterable&lt;space&gt;#&lt;space&gt;TODO:&lt;space&gt;this&lt;space&gt;code&lt;space&gt;was&lt;space&gt;found&lt;space&gt;somewhere&lt;space&gt;but&lt;space&gt;its&lt;space&gt;logic&lt;space&gt;is&lt;space&gt;not&lt;space&gt;clear&lt;space&gt;to&lt;space&gt;me...&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;logfile&lt;space&gt;=&lt;space&gt;StdoutLogger&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;logfile&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logprefix&lt;space&gt;=&lt;space&gt;logprefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.loglevel&lt;space&gt;=&lt;space&gt;loglevel&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.account&lt;space&gt;=&lt;space&gt;account&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.secret&lt;space&gt;=&lt;space&gt;secret&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.logprefix&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;self.loglevel&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;append_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=appendblock&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Appending&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:appendblock&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;ERROR&lt;space&gt;status&lt;space&gt;%s:&lt;space&gt;`%s`&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;r.status_code&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_id&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;uuid.uuid4&lt;openparen&gt;&lt;closeparen&gt;.hex&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer&lt;solidus&gt;myblob?comp=block&lt;amp&gt;blockid=id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=block&lt;amp&gt;blockid=%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;block&lt;space&gt;of&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;blockid:%s&lt;backslash&gt;ncomp:block&lt;apos&gt;&lt;space&gt;%&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;block_id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block_list&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_fragments&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;s:&lt;space&gt;&lt;apos&gt;&lt;lt&gt;Uncommitted&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;Uncommitted&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;s&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;utf-8&lt;quote&gt;?&lt;gt&gt;&lt;lt&gt;BlockList&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;BlockList&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;list_fragments&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=blocklist&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:blocklist&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_blob&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_END&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;size&lt;space&gt;=&lt;space&gt;fin.tell&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_SET&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;size&lt;space&gt;&lt;lt&gt;&lt;space&gt;PUT_BLOB_LIMIT:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;fin.read&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;offset&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;size&lt;comma&gt;&lt;space&gt;PUT_BLOCK_CHUNK_SIZE&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;`%s`&lt;comma&gt;&lt;space&gt;%s%%&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;blob_name&lt;comma&gt;&lt;space&gt;int&lt;openparen&gt;round&lt;openparen&gt;offset&lt;space&gt;*&lt;space&gt;100&lt;space&gt;&lt;solidus&gt;&lt;space&gt;size&lt;closeparen&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_size&lt;space&gt;=&lt;space&gt;min&lt;openparen&gt;PUT_BLOCK_CHUNK_SIZE&lt;comma&gt;&lt;space&gt;size&lt;space&gt;-&lt;space&gt;offset&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids.append&lt;openparen&gt;self.put_block&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin.read&lt;openparen&gt;block_size&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.put_block_list&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;ids&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;ID&lt;space&gt;LIST&lt;space&gt;COMMITTED:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;backslash&gt;t&lt;apos&gt;.join&lt;openparen&gt;ids&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Done&lt;space&gt;uploading&lt;space&gt;%s&lt;space&gt;bytes&lt;space&gt;of&lt;space&gt;data&lt;apos&gt;&lt;space&gt;%&lt;space&gt;size&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;list_blobs&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;prefix=None&lt;comma&gt;delimiter=&lt;apos&gt;&lt;solidus&gt;&lt;apos&gt;&lt;comma&gt;recursive=False&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer?restype=container&lt;amp&gt;comp=list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#CubeSourceDataFile&lt;solidus&gt;coast&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;apos&gt;delimiter&lt;apos&gt;&lt;space&gt;:&lt;space&gt;delimiter&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;list&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;restype&lt;apos&gt;:&lt;space&gt;&lt;apos&gt;container&lt;apos&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;prefix:&lt;space&gt;params&lt;openbracket&gt;&lt;apos&gt;prefix&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;prefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;params&lt;space&gt;=&lt;space&gt;OrderedDict&lt;openparen&gt;sorted&lt;openparen&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;key=lambda&lt;space&gt;t:&lt;space&gt;t&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystring&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;amp&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;=&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;t:&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;:&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;*t&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;params.items&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s?%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;querystring&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;querystringencoded&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;GET&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;Listing&lt;space&gt;blobs&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.get&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;200:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;root&lt;space&gt;=&lt;space&gt;ElementTree.fromstring&lt;openparen&gt;r.content.decode&lt;openparen&gt;&lt;apos&gt;utf-8-sig&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blobprefix&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blobprefix&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;BlobPrefix&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;recursive:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;self.list_blobs&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;prefix=blobprefix.findtext&lt;openparen&gt;&lt;apos&gt;Name&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;delimiter=delimiter&lt;comma&gt;recursive=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;returntype&lt;comma&gt;&lt;space&gt;used_prefix&lt;comma&gt;&lt;space&gt;blob&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;blob&lt;space&gt;in&lt;space&gt;root.iter&lt;openparen&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;buf&lt;space&gt;=&lt;space&gt;StringIO&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ElementTree.ElementTree&lt;openparen&gt;blob&lt;closeparen&gt;.write&lt;openparen&gt;buf&lt;comma&gt;&lt;space&gt;encoding=&lt;apos&gt;utf8&lt;apos&gt;&lt;comma&gt;&lt;space&gt;xml_declaration=False&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;yield&lt;space&gt;&lt;apos&gt;Blob&lt;apos&gt;&lt;comma&gt;&lt;space&gt;prefix&lt;comma&gt;&lt;space&gt;buf.getvalue&lt;openparen&gt;&lt;closeparen&gt;.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_authorize&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;headers&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;PUT&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;&lt;apos&gt;0&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;http_method&lt;space&gt;#&lt;space&gt;VERB&lt;space&gt;&lt;openparen&gt;http-method&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Encoding&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Language&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;content_length&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-MD5&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Date&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;Date&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Modified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-None-Match&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Unmodified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Range&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;comma&gt;&lt;space&gt;None&lt;closeparen&gt;:&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-date:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-version:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;blob_name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;querystringencoded:&lt;space&gt;fields.append&lt;openparen&gt;querystringencoded&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;fields&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signature&lt;space&gt;=&lt;space&gt;AzureAPI._sign_string&lt;openparen&gt;self.secret&lt;space&gt;&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;Authorization&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;SharedKey&lt;space&gt;%s:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;signature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;_string_to_sign&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_create_headers&lt;openparen&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;OrderedDict&lt;openparen&gt;&lt;opencurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Content-Length&lt;apos&gt;:&lt;space&gt;str&lt;openparen&gt;len&lt;openparen&gt;data&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;:&lt;space&gt;AzureAPI._httpdate&lt;openparen&gt;datetime.datetime.utcnow&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;:&lt;space&gt;AZ_VERSION&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closecurly&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_httpdate&lt;openparen&gt;dt&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;Return&lt;space&gt;a&lt;space&gt;string&lt;space&gt;representation&lt;space&gt;of&lt;space&gt;a&lt;space&gt;date&lt;space&gt;according&lt;space&gt;to&lt;space&gt;RFC&lt;space&gt;1123&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;HTTP&lt;solidus&gt;1.1&lt;closeparen&gt;.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;The&lt;space&gt;supplied&lt;space&gt;date&lt;space&gt;must&lt;space&gt;be&lt;space&gt;in&lt;space&gt;UTC.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;weekday&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Mon&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Tue&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Wed&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Thu&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Fri&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sat&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sun&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.weekday&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;month&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Jan&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Feb&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Mar&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Apr&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;May&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jun&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jul&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Aug&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sep&lt;quote&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Oct&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Nov&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Dec&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.month&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;quote&gt;%s&lt;comma&gt;&lt;space&gt;%02d&lt;space&gt;%s&lt;space&gt;%04d&lt;space&gt;%02d:%02d:%02d&lt;space&gt;GMT&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;weekday&lt;comma&gt;&lt;space&gt;dt.day&lt;comma&gt;&lt;space&gt;month&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dt.year&lt;comma&gt;&lt;space&gt;dt.hour&lt;comma&gt;&lt;space&gt;dt.minute&lt;comma&gt;&lt;space&gt;dt.second&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_encode_base64&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_decode_base64_to_bytes&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;base64.b64decode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_sign_string&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;key_is_base64=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;key_is_base64:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;AzureAPI._decode_base64_to_bytes&lt;openparen&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;key.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;string_to_sign&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;string_to_sign&lt;space&gt;=&lt;space&gt;string_to_sign.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signed_hmac_sha256&lt;space&gt;=&lt;space&gt;hmac.HMAC&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;hashlib.sha256&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;digest&lt;space&gt;=&lt;space&gt;signed_hmac_sha256.digest&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded_digest&lt;space&gt;=&lt;space&gt;AzureAPI._encode_base64&lt;openparen&gt;digest&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded_digest&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_azure_blob_lister_status _azure_blob_lister_error_message _azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="ListFeatureProcessor"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="26"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="2082.57 -1292.26"
#!   BOUNDING_RECT="2082.57 -1292.26 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Disposition" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Encoding" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Language" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-MD5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Etag" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Last-Modified" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseState" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseStatus" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_2"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;Blob.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="Blob.Name Blob.Properties.BlobType Blob.Properties.Cache-Control Blob.Properties.Content-Disposition Blob.Properties.Content-Encoding Blob.Properties.Content-Language Blob.Properties.Content-Length Blob.Properties.Content-MD5 Blob.Properties.Content-Type Blob.Properties.Etag Blob.Properties.Last-Modified Blob.Properties.LeaseState Blob.Properties.LeaseStatus xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="Blob"/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="27"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="2082.57 -1067.26"
#!   BOUNDING_RECT="2082.57 -1067.26 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_recursive" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter_3"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;BlobPrefix.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="BlobPrefix.Name xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="BlobPrefix"/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="28"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2113.82 -1760.02"
#!   BOUNDING_RECT="2113.82 -1760.02 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_4"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_storage_account,_azure_blob_lister_error_message,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="29"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2677.19 -779.757"
#!   BOUNDING_RECT="2677.19 -779.757 624.648 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="BlobPrefix.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_5"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_key,_azure_blob_lister_container,xml_id,xml_parent_id,xml_matched_element,_azure_blob_lister_storage_account,xml_fragment,xml_type,_azure_blob_lister_error_message,xml_parent_child_pos,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2113.82 -1937.01"
#!   BOUNDING_RECT="2113.82 -1937.01 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_6"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_storage_account,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="10"
#!   NAME="Input"
#!   POSITION="-992.385 -1526.51"
#!   BOUNDING_RECT="-992.385 -1526.51 -1 -1"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="31"
#!   NAME="Blob"
#!   POSITION="3857.1 -1257.89"
#!   BOUNDING_RECT="3857.1 -1257.89 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_delimiter" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="32"
#!   NAME="Fail"
#!   POSITION="3119.59 -1951.52"
#!   BOUNDING_RECT="3119.59 -1951.52 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_prefix" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="33"
#!   NAME="Initiator"
#!   POSITION="3119.59 -1820.02"
#!   BOUNDING_RECT="3119.59 -1820.02 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="34"
#!   NAME="BlobPrefix"
#!   POSITION="3819.6 -789.382"
#!   BOUNDING_RECT="3819.6 -789.382 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="35"
#!   SOURCE_NODE="22"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="36"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="24"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="31"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="26"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="39"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="26"
#!   SOURCE_PORT_DESC="fo 1"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="40"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="27"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="41"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="28"
#!   SOURCE_PORT_DESC="fo 2"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="42"
#!   SOURCE_NODE="28"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="43"
#!   SOURCE_NODE="27"
#!   TARGET_NODE="29"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="44"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="34"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="45"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 5"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="46"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 6"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="47"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 4"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="48"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 3"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="49"
#!   SOURCE_NODE="24"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 7"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="50"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="32"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="51"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="22"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_KEY 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_CONTAINER 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_PREFIX 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_DELIMITER <solidus>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE Yes
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO AzureBlobLister_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(AzureBlobLister_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Input1474295123 Input Splitter"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"
# -------------------------------------------------------------------------

FACTORY_DEF * AttrSetFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"    MULTI_FEATURE_MODE NO 	 NULL_ATTR_MODE NO_OP 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION "" "_azure_blob_lister_storage_account" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT)"     ATTR_ACTION "" "_azure_blob_lister_key" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_KEY$encode)"     ATTR_ACTION "" "_azure_blob_lister_container" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_CONTAINER)"     ATTR_ACTION "" "_azure_blob_lister_prefix" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_PREFIX)"     ATTR_ACTION "" "_azure_blob_lister_delimiter" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_DELIMITER)"     ATTR_ACTION "" "_azure_blob_lister_recursive" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_RECURSIVE$encode)"    OUTPUT OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"


# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_2_OUTPUT"    SYMBOL_NAME ListFeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE from<space>fmeobjects<space>import<space>FMELogFile<comma><space>FME_INFORM<comma><space>FME_WARN<comma><space>FME_ERROR<lf>from<space>cStringIO<space>import<space>StringIO<lf><lf>class<space>ListFeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#<space>Make<space>sure<space>to<space>change<space>if<space>Custom<space>transformer<space>is<space>renamed<space><openparen>not<space>transformer<space>instance<space>name<space>-<space>that<apos>s<space>what<space>we<apos>re<space>fetching<closeparen><space><lf><space><space><space><space><space><space><space><space>self.xformer_name<space>=<space>FME_MacroValues<openbracket><apos>AzureBlobLister_WORKSPACE_NAME<apos><closebracket><lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space>#self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>debug<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>pass<space>#self.logfile.logMessageString<openparen><apos>%s<space><openparen>DEBUG<closeparen>:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>account<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_storage_account<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>secret<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_key<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>prefix<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_prefix<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>recursive<space>=<space>str<openparen>feature.getAttribute<openparen><apos>_azure_blob_lister_recursive<apos><closeparen><closeparen>.upper<openparen><closeparen><space>in<space><openparen><apos>YES<apos><comma><space><apos>Y<apos><comma><space><apos>1<apos><comma><space><apos>TRUE<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.debug<openparen><apos>Recursive:<space><opencurly><closecurly><apos>.format<openparen>recursive<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>delimiter<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_delimiter<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>azure<space>=<space>AzureAPI<openparen>account<comma><space>secret<comma><space>self.logfile<comma><space>logprefix<space>=<space>self.xformer_name<comma><space>loglevel<space>=<space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>container<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_container<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blobxml<space>in<space>azure.list_blobs<openparen>container<comma>prefix=prefix<comma>delimiter=delimiter<comma>recursive=recursive<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature<space>=<space>feature.clone<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_prefix<apos><comma><space>used_prefix<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space>returntype<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>resultfeature.setAttribute<openparen><apos>_azure_blob_lister_xml_response<apos><comma><space>blobxml<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>resultfeature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_success<apos><closeparen><lf><space><space><space><space><space><space><space><space>except<space>Exception<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>initiator_fail<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_error_message<apos><comma><space>str<openparen>e<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logfile.logException<openparen>e<comma><space>FME_ERROR<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>del<space>self.logfile<lf><space><space><space><space><space><space><space><space><lf>#####<space>Code<space>below<space>*should*<space>be<space>more<space>or<space>less<space>standalone<space><openparen>no<space>bindings<space>to<space>fme<closeparen><space>#####<lf>import<space>os<lf>import<space>requests<lf>from<space>collections<space>import<space>OrderedDict<lf>import<space>datetime<lf>from<space>xml.etree<space>import<space>ElementTree<lf><lf>import<space>base64<lf>import<space>uuid<lf>import<space>hashlib<lf>import<space>hmac<lf>import<space>sys<lf><lf>PUT_BLOB_LIMIT<space>=<space>1024<space>*<space>1024<space>*<space>64<space><space><space><space><space><space>#<space>64<space>MB<lf>PUT_BLOCK_CHUNK_SIZE<space>=<space>1024<space>*<space>1024<space>*<space>4<space>#<space>4<space>MB<lf>AZ_VERSION<space>=<space><apos>2015-02-21<apos><lf><lf>class<space>StdoutLogger<openparen>object<closeparen>:<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>simple<space>log<space>class<space>to<space>mimic<space>fme<space>api<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>def<space>logMessageString<openparen>self<comma><space>msg<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>print<space>msg<lf><space><space><space><space>def<space>logException<openparen>self<comma><space>e<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logMessageString<openparen>str<openparen>e<closeparen><comma><space>level<closeparen><lf>class<space>AzureAPI<openparen>object<closeparen>:<lf><space><space><space><space>if<space>sys.version_info<space><lt><space><openparen>3<comma><closeparen>:<lf><space><space><space><space><space><space><space><space>from<space>collections<space>import<space>Iterable<lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>unicode<lf><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space>from<space>collections.abc<space>import<space>Iterable<space>#<space>TODO:<space>this<space>code<space>was<space>found<space>somewhere<space>but<space>its<space>logic<space>is<space>not<space>clear<space>to<space>me...<space><lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>str<lf><space><space><space><space>def<space>__init__<openparen>self<comma><space>account<comma><space>secret<comma><space>logfile<space>=<space>StdoutLogger<openparen><closeparen><comma><space>logprefix<space>=<space><apos><apos><comma><space>loglevel<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>logfile<space><lf><space><space><space><space><space><space><space><space>self.logprefix<space>=<space>logprefix<lf><space><space><space><space><space><space><space><space>self.loglevel<space>=<space>loglevel<lf><space><space><space><space><space><space><space><space>self.account<space>=<space>account<lf><space><space><space><space><space><space><space><space>self.secret<space>=<space>secret<lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.logprefix<comma><space>message<closeparen><comma><space>self.loglevel<closeparen><lf><space><space><space><space>def<space>append_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=appendblock<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Appending<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:appendblock<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data<space>=<space>block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>ERROR<space>status<space>%s:<space>`%s`<apos><space>%<space><openparen>r.status_code<comma><space>_string_to_sign<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space>block_id<space>=<space>base64.b64encode<openparen>uuid.uuid4<openparen><closeparen>.hex<closeparen><lf><space><space><space><space><space><space><space><space>#https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer<solidus>myblob?comp=block<amp>blockid=id<lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=block<amp>blockid=%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<comma><space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>block<space>of<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>blockid:%s<backslash>ncomp:block<apos><space>%<space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>block_id<lf><space><space><space><space>def<space>put_block_list<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_list<closeparen>:<lf><space><space><space><space><space><space><space><space>list_fragments<space>=<space><apos><apos>.join<openparen>map<openparen>lambda<space>s:<space><apos><lt>Uncommitted<gt><opencurly><closecurly><lt><solidus>Uncommitted<gt><apos>.format<openparen>s<closeparen><comma><space>block_list<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>data<space>=<space><apos><lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>utf-8<quote>?<gt><lt>BlockList<gt><opencurly><closecurly><lt><solidus>BlockList<gt><apos>.format<openparen>list_fragments<closeparen><lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=blocklist<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:blocklist<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_blob<openparen>self<comma><space>container<comma><space>blob_name<comma><space>fin<closeparen>:<lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_END<closeparen><lf><space><space><space><space><space><space><space><space>size<space>=<space>fin.tell<openparen><closeparen><lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_SET<closeparen><lf><space><space><space><space><space><space><space><space>if<space>size<space><lt><space>PUT_BLOB_LIMIT:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>fin.read<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>ids<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>offset<space>in<space>range<openparen>0<comma><space>size<comma><space>PUT_BLOCK_CHUNK_SIZE<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>`%s`<comma><space>%s%%<apos><space>%<space><openparen>blob_name<comma><space>int<openparen>round<openparen>offset<space>*<space>100<space><solidus><space>size<closeparen><closeparen><space><closeparen><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>block_size<space>=<space>min<openparen>PUT_BLOCK_CHUNK_SIZE<comma><space>size<space>-<space>offset<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ids.append<openparen>self.put_block<openparen>container<comma><space>blob_name<comma><space>fin.read<openparen>block_size<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.put_block_list<openparen>container<comma><space>blob_name<comma><space>ids<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#self.info<openparen><apos>ID<space>LIST<space>COMMITTED:<space>%s<apos><space>%<space><apos><backslash>n<backslash>t<apos>.join<openparen>ids<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Done<space>uploading<space>%s<space>bytes<space>of<space>data<apos><space>%<space>size<closeparen><lf><space><space><space><space>def<space>list_blobs<openparen>self<comma><space>container<comma>prefix=None<comma>delimiter=<apos><solidus><apos><comma>recursive=False<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer?restype=container<amp>comp=list<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#CubeSourceDataFile<solidus>coast<lf><space><space><space><space><space><space><space><space>#<lf><space><space><space><space><space><space><space><space>params<space>=<space><opencurly><apos>delimiter<apos><space>:<space>delimiter<comma><space><apos>comp<apos>:<space><apos>list<apos><comma><space><apos>restype<apos>:<space><apos>container<apos><closecurly><lf><space><space><space><space><space><space><space><space>if<space>prefix:<space>params<openbracket><apos>prefix<apos><closebracket><space>=<space>prefix<lf><space><space><space><space><space><space><space><space>params<space>=<space>OrderedDict<openparen>sorted<openparen>params.items<openparen><closeparen><comma><space>key=lambda<space>t:<space>t<openbracket>0<closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystring<space>=<space><apos><amp><apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>=<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>querystringencoded<space>=<space><apos><backslash>n<apos>.join<openparen>map<openparen>lambda<space>t:<space><apos><opencurly><closecurly>:<opencurly><closecurly><apos>.format<openparen>*t<closeparen><comma><space>params.items<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s?%s<apos><space>%<space><openparen>self.account<comma><space>container<comma>querystring<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>querystringencoded<space>=<space>querystringencoded<comma><space>http_method<space>=<space><apos>GET<apos><closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen><apos>Listing<space>blobs<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.get<openparen>url<comma><space>headers=headers<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>200:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>root<space>=<space>ElementTree.fromstring<openparen>r.content.decode<openparen><apos>utf-8-sig<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>for<space>blobprefix<space>in<space>root.iter<openparen><apos>BlobPrefix<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blobprefix<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>BlobPrefix<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>recursive:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>returntype<comma><space>used_prefix<comma><space>blob<space>in<space>self.list_blobs<openparen>container<comma><space>prefix=blobprefix.findtext<openparen><apos>Name<apos><closeparen><comma><space>delimiter=delimiter<comma>recursive=True<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>yield<space>returntype<comma><space>used_prefix<comma><space>blob<lf><space><space><space><space><space><space><space><space>for<space>blob<space>in<space>root.iter<openparen><apos>Blob<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>buf<space>=<space>StringIO<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>ElementTree.ElementTree<openparen>blob<closeparen>.write<openparen>buf<comma><space>encoding=<apos>utf8<apos><comma><space>xml_declaration=False<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>yield<space><apos>Blob<apos><comma><space>prefix<comma><space>buf.getvalue<openparen><closeparen>.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space>def<space>_authorize<openparen>self<comma><space>headers<comma><space>container_name<comma><space>blob_name<space>=<space>None<comma><space>querystringencoded<space>=<space>None<comma><space>http_method<space>=<space><apos>PUT<apos><closeparen>:<lf><space><space><space><space><space><space><space><space>content_length<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>Content-Length<apos><closeparen><space>!=<space><apos>0<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>content_length<space>=<space>headers.get<openparen><apos>Content-Length<apos><closeparen><lf><space><space><space><space><space><space><space><space>fields<space>=<space><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>http_method<space>#<space>VERB<space><openparen>http-method<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Encoding<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Language<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>content_length<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-MD5<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>headers.get<openparen><apos>Date<apos><comma><apos><apos><closeparen><space>#<space>Date<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Modified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-None-Match<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Unmodified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Range<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><closebracket><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>x-ms-blob-type<apos><comma><space>None<closeparen>:<space>fields.append<openparen><apos>x-ms-blob-type:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-blob-type<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-date:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-date<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-version:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-version<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>blob_name:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<comma><space>blob_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>querystringencoded:<space>fields.append<openparen>querystringencoded<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space><apos><backslash>n<apos>.join<openparen>fields<closeparen><lf><space><space><space><space><space><space><space><space>signature<space>=<space>AzureAPI._sign_string<openparen>self.secret<space><comma><space>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>Authorization<apos><closebracket><space>=<space><apos>SharedKey<space>%s:%s<apos><space>%<space><openparen>self.account<comma><space>signature<closeparen><lf><space><space><space><space><space><space><space><space>return<space>_string_to_sign<lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_create_headers<openparen>data<space>=<space><apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space>return<space>OrderedDict<openparen><opencurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Content-Length<apos>:<space>str<openparen>len<openparen>data<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-date<apos>:<space>AzureAPI._httpdate<openparen>datetime.datetime.utcnow<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-version<apos>:<space>AZ_VERSION<lf><space><space><space><space><space><space><space><space><space><space><space><space><closecurly><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_httpdate<openparen>dt<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Return<space>a<space>string<space>representation<space>of<space>a<space>date<space>according<space>to<space>RFC<space>1123<lf><space><space><space><space><space><space><space><space><openparen>HTTP<solidus>1.1<closeparen>.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space>The<space>supplied<space>date<space>must<space>be<space>in<space>UTC.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>weekday<space>=<space><openbracket><quote>Mon<quote><comma><space><quote>Tue<quote><comma><space><quote>Wed<quote><comma><space><quote>Thu<quote><comma><space><quote>Fri<quote><comma><space><quote>Sat<quote><comma><space><quote>Sun<quote><closebracket><openbracket>dt.weekday<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space>month<space>=<space><openbracket><quote>Jan<quote><comma><space><quote>Feb<quote><comma><space><quote>Mar<quote><comma><space><quote>Apr<quote><comma><space><quote>May<quote><comma><space><quote>Jun<quote><comma><space><quote>Jul<quote><comma><space><quote>Aug<quote><comma><space><quote>Sep<quote><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Oct<quote><comma><space><quote>Nov<quote><comma><space><quote>Dec<quote><closebracket><openbracket>dt.month<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space>return<space><quote>%s<comma><space>%02d<space>%s<space>%04d<space>%02d:%02d:%02d<space>GMT<quote><space>%<space><openparen>weekday<comma><space>dt.day<comma><space>month<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>dt.year<comma><space>dt.hour<comma><space>dt.minute<comma><space>dt.second<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_encode_base64<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>encoded<space>=<space>base64.b64encode<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_decode_base64_to_bytes<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>base64.b64decode<openparen>data<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_sign_string<openparen>key<comma><space>string_to_sign<comma><space>key_is_base64=True<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>key_is_base64:<lf><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>AzureAPI._decode_base64_to_bytes<openparen>key<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>key<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>key.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>string_to_sign<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>string_to_sign<space>=<space>string_to_sign.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>signed_hmac_sha256<space>=<space>hmac.HMAC<openparen>key<comma><space>string_to_sign<comma><space>hashlib.sha256<closeparen><lf><space><space><space><space><space><space><space><space>digest<space>=<space>signed_hmac_sha256.digest<openparen><closeparen><lf><space><space><space><space><space><space><space><space>encoded_digest<space>=<space>AzureAPI._encode_base64<openparen>digest<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded_digest<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"

# -------------------------------------------------------------------------
Lookup $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut   BlobPrefix ok   Blob ok   initiator_success ok   initiator_fail ok   "" notok   ENCODED

Tcl2 proc $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_setFeatType {} {     global FME_FeatureType;     set ft {$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_};     append ft [FME_EncodeText [FME_GetAttribute [FME_DecodeText {_azure_blob_lister_status}]]];     set FME_FeatureType $ft; }
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_2_OUTPUT"    TEST @Lookup($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_AttributeFilterLut,_azure_blob_lister_status,ENCODED_ATTR) == "ok"    OUTPUT PASSED FEATURE_TYPE * @Tcl2($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_setFeatType)    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_NullFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    TEST _azure_blob_lister_status ATTRIBUTE_VALUE_NULL "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_MissingFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    TEST _azure_blob_lister_status ATTRIBUTE_IS_MISSING "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlankFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>    TEST _azure_blob_lister_status ATTRIBUTE_IS_EMPTY "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>



# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<EMPTY>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_fail"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<UNFILTERED>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<MISSING>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_<NULL>"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_storage_account,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_LIST_EXP)")

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_4_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_4    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_initiator_success"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_4_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_storage_account,_azure_blob_lister_error_message,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_4_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_Blob"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "Blob"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>Blob.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_2_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"        @RemoveAttributes(fme_encoded,Blob.Properties.Content-Disposition,Blob.Properties.Content-Type,xml_parent_id,xml_parent_child_pos,Blob.Properties.Content-MD5,_azure_blob_lister_key,Blob.Properties.Last-Modified,_azure_blob_lister_error_message,xml_type,_azure_blob_lister_xml_response,_azure_blob_lister_delimiter,_azure_blob_lister_storage_account,_azure_blob_lister_container,Blob.Properties.Content-Encoding,_azure_blob_lister_recursive,Blob.Properties.LeaseStatus,xml_id,xml_matched_element,Blob.Properties.Content-Language,Blob.Properties.LeaseState,Blob.Properties.Etag,_azure_blob_lister_status,xml_fragment)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_2_BlobPrefix"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "BlobPrefix"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>BlobPrefix.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_3_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_key,_azure_blob_lister_container,xml_id,xml_parent_id,xml_matched_element,_azure_blob_lister_storage_account,xml_fragment,xml_type,_azure_blob_lister_error_message,xml_parent_child_pos,_azure_blob_lister_delimiter,_azure_blob_lister_recursive,_azure_blob_lister_status,_azure_blob_lister_xml_response)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Blob1474295123 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_3_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Blob"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Fail1474295123 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_6_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Fail"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Initiator1474295123 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_4_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix1474295123 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_5_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_BlobPrefix"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME))}]
#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN AzureBlobLister,1,"Web Services",a594aa5d-f8c9-4607-96ab-72b5eebdfc35,"Linked by Default",No,NO_PARALLELISM,,No,16177,YES,No
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Lists all blobs in the given storage container </p>
# 
# TRANSFORMER_END
#!   ZOOM_SCALE="100"
#!   BLOCKED_LOOPING="No"
#!   REQUIREMENTS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   DOC_TOP_LEFT="-758.008 -456.751"
#!   ATTR_TYPE_ENCODING="SDF"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   DESCRIPTION="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Lists all blobs in the given storage container &lt;/p&gt;&#10;"
#!   FME_DOCUMENT_GUID="a594aa5d-f8c9-4607-96ab-72b5eebdfc35"
#!   REQUIREMENTS_KEYWORD="none"
#!   TITLE="AzureBlobLister"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   SHOW_ANNOTATIONS="true"
#!   FMX_INSERT_MODE="Linked by Default"
#!   WORKSPACE_VERSION="1"
#!   HISTORY="2016-08-08,peter.segerstedt&lt;at&gt;eea.europa.eu,Original&lt;space&gt;definition"
#!   LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   ITERATION_COUNT_ATTR=""
#!   PASSWORD=""
#!   FME_DOCUMENT_PRIORGUID=""
#!   XFORM_DEPRECATED="No"
#!   MAX_LOOP_ITERATIONS=""
#!   FME_SERVER_SERVICES=""
#!   SHOW_INFO_NODES="true"
#!   CATEGORY="Web Services"
#!   FME_BUILD_NUM="16177"
#!   FME_PROCESS_GROUP_BY=""
#!   VIEW_POSITION="-996.885 128.126"
#!   LAST_SAVE_DATE="2016-08-08T14:02:48"
#!   USAGE="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Storage account:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Provide the storage account. Look for this under the portal.azure.com.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-weight:600;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Access key:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Provide the access key for the blob inside Azure. You can find this when you select the storage inside the protal.azure.com website, go to settings and then search for &quot;Access keys&quot;.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Use access keys to authenticate your applications when making requests to this Azure storage account. Store your access keys securely - for example, using Azure Key Vault - and don&apos;t share them. We recommend regenerating your access keys regularly. You are provided two access keys so that you can maintain connections using one key while regenerating the other. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;span style=&quot; font-weight:600;&quot;&gt;Container name:&lt;/span&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The storage countainer name. These are listed directly under the storage account pannel. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#!   FME_LINKED_TRANSFORMER_VERSION="1"
#!   DOC_EXTENTS="3347.66 584.752"
#!   LAST_SAVE_BUILD="FME(R) 2016.0.1.1 (20160224 - Build 16177 - WIN64)"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR ACCOUNT &quot; &quot; Account:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI PASSWORD_OR_ATTR KEY Key:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_EDIT_OR_NUM_MULTI_FEATURE_OR_ATTR CONTAINER &quot; &quot; Container:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="false"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="1"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-365.129 -106.251"
#!   BOUNDING_RECT="-365.129 -106.251 618.756 71"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FetchParamsAttributeCreator"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _azure_blob_lister_storage_account SET_TO $(ACCOUNT)  _azure_blob_lister_key SET_TO $(KEY)  _azure_blob_lister_container SET_TO $(CONTAINER)"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="2"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="2008.89 -106.251"
#!   BOUNDING_RECT="2008.89 -106.251 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="Blob.Properties.Content-Disposition,Blob.Properties.Last-Modified,xml_type,Blob.Properties.LeaseState,Blob.Properties.Content-MD5,xml_parent_id,_azure_blob_lister_status,xml_parent_child_pos,xml_matched_element,Blob.Properties.LeaseStatus,_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_xml_response,Blob.Properties.Content-Type,_azure_blob_lister_storage_account,Blob.Properties.Content-Encoding,_azure_blob_lister_error_message,Blob.Properties.Etag,Blob.Properties.Content-Language,xml_fragment,xml_id"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="3"
#!   TYPE="AttributeFilter"
#!   VERSION="4"
#!   POSITION="990.131 -106.251"
#!   BOUNDING_RECT="990.131 -106.251 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="success"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="&lt;EMPTY&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="&lt;MISSING&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <OUTPUT_FEAT NAME="&lt;NULL&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="3"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="3" />
#!     <OUTPUT_FEAT NAME="&lt;UNFILTERED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="4"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="4" />
#!     <OUTPUT_FEAT NAME="fail"/>
#!     <FEAT_COLLAPSED COLLAPSED="5"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="5" />
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeFilter"/>
#!     <XFORM_PARM PARM_NAME="ATTR_VALUES" PARM_VALUE="success,&lt;lt&gt;EMPTY&lt;gt&gt;,&lt;lt&gt;MISSING&lt;gt&gt;,&lt;lt&gt;NULL&lt;gt&gt;,&lt;lt&gt;UNFILTERED&lt;gt&gt;,fail"/>
#!     <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="_azure_blob_lister_status"/>
#!     <XFORM_PARM PARM_NAME="ATTR_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="4"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="1583.88 -362.503"
#!   BOUNDING_RECT="1583.88 -362.503 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_azure_blob_lister_key,_azure_blob_lister_xml_response,_azure_blob_lister_status,_azure_blob_lister_storage_account,_azure_blob_lister_error_message"/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover_2"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="5"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="402.621 -106.251"
#!   BOUNDING_RECT="402.621 -106.251 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_azure_blob_lister_status _azure_blob_lister_error_message _azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="from&lt;space&gt;fmeobjects&lt;space&gt;import&lt;space&gt;FMELogFile&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;comma&gt;&lt;space&gt;FME_WARN&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;lf&gt;from&lt;space&gt;cStringIO&lt;space&gt;import&lt;space&gt;StringIO&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;ListFeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Make&lt;space&gt;sure&lt;space&gt;to&lt;space&gt;change&lt;space&gt;if&lt;space&gt;Custom&lt;space&gt;transformer&lt;space&gt;is&lt;space&gt;renamed&lt;space&gt;&lt;openparen&gt;not&lt;space&gt;transformer&lt;space&gt;instance&lt;space&gt;name&lt;space&gt;-&lt;space&gt;that&lt;apos&gt;s&lt;space&gt;what&lt;space&gt;we&lt;apos&gt;re&lt;space&gt;fetching&lt;closeparen&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.xformer_name&lt;space&gt;=&lt;space&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;AzureBlobLister_WORKSPACE_NAME&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;FME_WARN&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;while&lt;space&gt;developing&lt;space&gt;for&lt;space&gt;popping&lt;space&gt;out&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;account&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_storage_account&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;secret&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_key&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;azure&lt;space&gt;=&lt;space&gt;AzureAPI&lt;openparen&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;self.logfile&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;self.xformer_name&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;FME_INFORM&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;container&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_container&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;result&lt;space&gt;=&lt;space&gt;azure.list_blobs&lt;openparen&gt;container&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;success&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_xml_response&lt;apos&gt;&lt;comma&gt;&lt;space&gt;result.decode&lt;openparen&gt;&lt;quote&gt;utf-8-sig&lt;quote&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;Exception&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_status&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;fail&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;_azure_blob_lister_error_message&lt;apos&gt;&lt;comma&gt;&lt;space&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logException&lt;openparen&gt;e&lt;comma&gt;&lt;space&gt;FME_ERROR&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;del&lt;space&gt;self.logfile&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;#####&lt;space&gt;Code&lt;space&gt;below&lt;space&gt;*should*&lt;space&gt;be&lt;space&gt;more&lt;space&gt;or&lt;space&gt;less&lt;space&gt;standalone&lt;space&gt;&lt;openparen&gt;no&lt;space&gt;bindings&lt;space&gt;to&lt;space&gt;fme&lt;closeparen&gt;&lt;space&gt;#####&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;import&lt;space&gt;os&lt;lf&gt;import&lt;space&gt;requests&lt;lf&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;OrderedDict&lt;lf&gt;import&lt;space&gt;datetime&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;import&lt;space&gt;base64&lt;lf&gt;import&lt;space&gt;uuid&lt;lf&gt;import&lt;space&gt;hashlib&lt;lf&gt;import&lt;space&gt;hmac&lt;lf&gt;import&lt;space&gt;sys&lt;lf&gt;&lt;lf&gt;PUT_BLOB_LIMIT&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;64&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;64&lt;space&gt;MB&lt;lf&gt;PUT_BLOCK_CHUNK_SIZE&lt;space&gt;=&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;1024&lt;space&gt;*&lt;space&gt;4&lt;space&gt;#&lt;space&gt;4&lt;space&gt;MB&lt;lf&gt;AZ_VERSION&lt;space&gt;=&lt;space&gt;&lt;apos&gt;2015-02-21&lt;apos&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;StdoutLogger&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;simple&lt;space&gt;log&lt;space&gt;class&lt;space&gt;to&lt;space&gt;mimic&lt;space&gt;fme&lt;space&gt;api&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logMessageString&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;msg&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;space&gt;msg&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;logException&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;e&lt;comma&gt;&lt;space&gt;level&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logMessageString&lt;openparen&gt;str&lt;openparen&gt;e&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;level&lt;closeparen&gt;&lt;lf&gt;class&lt;space&gt;AzureAPI&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;sys.version_info&lt;space&gt;&lt;lt&gt;&lt;space&gt;&lt;openparen&gt;3&lt;comma&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections&lt;space&gt;import&lt;space&gt;Iterable&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;unicode&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;collections.abc&lt;space&gt;import&lt;space&gt;Iterable&lt;space&gt;#&lt;space&gt;TODO:&lt;space&gt;this&lt;space&gt;code&lt;space&gt;was&lt;space&gt;found&lt;space&gt;somewhere&lt;space&gt;but&lt;space&gt;its&lt;space&gt;logic&lt;space&gt;is&lt;space&gt;not&lt;space&gt;clear&lt;space&gt;to&lt;space&gt;me...&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_unicode_type&lt;space&gt;=&lt;space&gt;str&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;account&lt;comma&gt;&lt;space&gt;secret&lt;comma&gt;&lt;space&gt;logfile&lt;space&gt;=&lt;space&gt;StdoutLogger&lt;openparen&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;logprefix&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;comma&gt;&lt;space&gt;loglevel&lt;space&gt;=&lt;space&gt;0&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile&lt;space&gt;=&lt;space&gt;logfile&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logprefix&lt;space&gt;=&lt;space&gt;logprefix&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.loglevel&lt;space&gt;=&lt;space&gt;loglevel&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.account&lt;space&gt;=&lt;space&gt;account&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.secret&lt;space&gt;=&lt;space&gt;secret&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;info&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.logfile.logMessageString&lt;openparen&gt;&lt;apos&gt;%s:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.logprefix&lt;comma&gt;&lt;space&gt;message&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;self.loglevel&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;append_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=appendblock&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Appending&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:appendblock&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;ERROR&lt;space&gt;status&lt;space&gt;%s:&lt;space&gt;`%s`&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;r.status_code&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_id&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;uuid.uuid4&lt;openparen&gt;&lt;closeparen&gt;.hex&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer&lt;solidus&gt;myblob?comp=block&lt;amp&gt;blockid=id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=block&lt;amp&gt;blockid=%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;block&lt;space&gt;of&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;blockid:%s&lt;backslash&gt;ncomp:block&lt;apos&gt;&lt;space&gt;%&lt;space&gt;block_id&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=block_data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;block_id&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_block_list&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_fragments&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;.join&lt;openparen&gt;map&lt;openparen&gt;lambda&lt;space&gt;s:&lt;space&gt;&lt;apos&gt;&lt;lt&gt;Uncommitted&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;Uncommitted&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;s&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;block_list&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;utf-8&lt;quote&gt;?&lt;gt&gt;&lt;lt&gt;BlockList&lt;gt&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lt&gt;&lt;solidus&gt;BlockList&lt;gt&gt;&lt;apos&gt;.format&lt;openparen&gt;list_fragments&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s?comp=blocklist&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;&lt;apos&gt;comp:blocklist&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;put_blob&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_END&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;size&lt;space&gt;=&lt;space&gt;fin.tell&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fin.seek&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;os.SEEK_SET&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;size&lt;space&gt;&lt;lt&gt;&lt;space&gt;PUT_BLOB_LIMIT:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;fin.read&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;BlockBlob&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;data&lt;space&gt;to&lt;space&gt;blob&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.put&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;comma&gt;&lt;space&gt;data=data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;201:&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;offset&lt;space&gt;in&lt;space&gt;range&lt;openparen&gt;0&lt;comma&gt;&lt;space&gt;size&lt;comma&gt;&lt;space&gt;PUT_BLOCK_CHUNK_SIZE&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Uploading&lt;space&gt;`%s`&lt;comma&gt;&lt;space&gt;%s%%&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;blob_name&lt;comma&gt;&lt;space&gt;int&lt;openparen&gt;round&lt;openparen&gt;offset&lt;space&gt;*&lt;space&gt;100&lt;space&gt;&lt;solidus&gt;&lt;space&gt;size&lt;closeparen&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;block_size&lt;space&gt;=&lt;space&gt;min&lt;openparen&gt;PUT_BLOCK_CHUNK_SIZE&lt;comma&gt;&lt;space&gt;size&lt;space&gt;-&lt;space&gt;offset&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;ids.append&lt;openparen&gt;self.put_block&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;fin.read&lt;openparen&gt;block_size&lt;closeparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.put_block_list&lt;openparen&gt;container&lt;comma&gt;&lt;space&gt;blob_name&lt;comma&gt;&lt;space&gt;ids&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;&lt;apos&gt;ID&lt;space&gt;LIST&lt;space&gt;COMMITTED:&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;backslash&gt;t&lt;apos&gt;.join&lt;openparen&gt;ids&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Done&lt;space&gt;uploading&lt;space&gt;%s&lt;space&gt;bytes&lt;space&gt;of&lt;space&gt;data&lt;apos&gt;&lt;space&gt;%&lt;space&gt;size&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;list_blobs&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;container&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;https:&lt;solidus&gt;&lt;solidus&gt;myaccount.blob.core.windows.net&lt;solidus&gt;mycontainer?restype=container&lt;amp&gt;comp=list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;space&gt;=&lt;space&gt;AzureAPI._create_headers&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;url&lt;space&gt;=&lt;space&gt;&lt;apos&gt;https:&lt;solidus&gt;&lt;solidus&gt;%s.blob.core.windows.net&lt;solidus&gt;%s?restype=container&lt;amp&gt;comp=list&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;self._authorize&lt;openparen&gt;headers&lt;comma&gt;&lt;space&gt;container&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;&lt;apos&gt;comp:list&lt;backslash&gt;nrestype:container&lt;apos&gt;&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;GET&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.info&lt;openparen&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.info&lt;openparen&gt;&lt;apos&gt;Listing&lt;space&gt;blobs&lt;space&gt;using&lt;space&gt;url&lt;space&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;url&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;r&lt;space&gt;=&lt;space&gt;requests.get&lt;openparen&gt;url&lt;comma&gt;&lt;space&gt;headers=headers&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;r.status_code&lt;space&gt;!=&lt;space&gt;200:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;raise&lt;space&gt;Exception&lt;openparen&gt;str&lt;openparen&gt;r.content&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;r.content&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_authorize&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;headers&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;querystringencoded&lt;space&gt;=&lt;space&gt;None&lt;comma&gt;&lt;space&gt;http_method&lt;space&gt;=&lt;space&gt;&lt;apos&gt;PUT&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;&lt;apos&gt;0&lt;apos&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;content_length&lt;space&gt;=&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Content-Length&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;http_method&lt;space&gt;#&lt;space&gt;VERB&lt;space&gt;&lt;openparen&gt;http-method&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Encoding&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-Language&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;content_length&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Content-MD5&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;Date&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;#&lt;space&gt;Date&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Modified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-None-Match&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;If-Unmodified-Since&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;Range&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;space&gt;#&lt;space&gt;?&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;comma&gt;&lt;space&gt;None&lt;closeparen&gt;:&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-blob-type&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-date:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;x-ms-version:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;headers.get&lt;openparen&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;blob_name:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;comma&gt;&lt;space&gt;blob_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;fields.append&lt;openparen&gt;&lt;apos&gt;&lt;solidus&gt;%s&lt;solidus&gt;%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;container_name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;querystringencoded:&lt;space&gt;fields.append&lt;openparen&gt;querystringencoded&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;_string_to_sign&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;backslash&gt;n&lt;apos&gt;.join&lt;openparen&gt;fields&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signature&lt;space&gt;=&lt;space&gt;AzureAPI._sign_string&lt;openparen&gt;self.secret&lt;space&gt;&lt;comma&gt;&lt;space&gt;_string_to_sign&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;headers&lt;openbracket&gt;&lt;apos&gt;Authorization&lt;apos&gt;&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;&lt;apos&gt;SharedKey&lt;space&gt;%s:%s&lt;apos&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;self.account&lt;comma&gt;&lt;space&gt;signature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;_string_to_sign&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_create_headers&lt;openparen&gt;data&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;OrderedDict&lt;openparen&gt;&lt;opencurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;Content-Length&lt;apos&gt;:&lt;space&gt;str&lt;openparen&gt;len&lt;openparen&gt;data&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-date&lt;apos&gt;:&lt;space&gt;AzureAPI._httpdate&lt;openparen&gt;datetime.datetime.utcnow&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;x-ms-version&lt;apos&gt;:&lt;space&gt;AZ_VERSION&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closecurly&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_httpdate&lt;openparen&gt;dt&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;Return&lt;space&gt;a&lt;space&gt;string&lt;space&gt;representation&lt;space&gt;of&lt;space&gt;a&lt;space&gt;date&lt;space&gt;according&lt;space&gt;to&lt;space&gt;RFC&lt;space&gt;1123&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;openparen&gt;HTTP&lt;solidus&gt;1.1&lt;closeparen&gt;.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;The&lt;space&gt;supplied&lt;space&gt;date&lt;space&gt;must&lt;space&gt;be&lt;space&gt;in&lt;space&gt;UTC.&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;weekday&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Mon&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Tue&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Wed&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Thu&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Fri&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sat&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sun&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.weekday&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;month&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;quote&gt;Jan&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Feb&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Mar&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Apr&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;May&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jun&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Jul&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Aug&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Sep&lt;quote&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Oct&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Nov&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;Dec&lt;quote&gt;&lt;closebracket&gt;&lt;openbracket&gt;dt.month&lt;space&gt;-&lt;space&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;&lt;quote&gt;%s&lt;comma&gt;&lt;space&gt;%02d&lt;space&gt;%s&lt;space&gt;%04d&lt;space&gt;%02d:%02d:%02d&lt;space&gt;GMT&lt;quote&gt;&lt;space&gt;%&lt;space&gt;&lt;openparen&gt;weekday&lt;comma&gt;&lt;space&gt;dt.day&lt;comma&gt;&lt;space&gt;month&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;dt.year&lt;comma&gt;&lt;space&gt;dt.hour&lt;comma&gt;&lt;space&gt;dt.minute&lt;comma&gt;&lt;space&gt;dt.second&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_encode_base64&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded&lt;space&gt;=&lt;space&gt;base64.b64encode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded.decode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_decode_base64_to_bytes&lt;openparen&gt;data&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;data&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;data&lt;space&gt;=&lt;space&gt;data.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;base64.b64decode&lt;openparen&gt;data&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;at&gt;staticmethod&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;_sign_string&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;key_is_base64=True&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;key_is_base64:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;AzureAPI._decode_base64_to_bytes&lt;openparen&gt;key&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;key&lt;space&gt;=&lt;space&gt;key.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;isinstance&lt;openparen&gt;string_to_sign&lt;comma&gt;&lt;space&gt;AzureAPI._unicode_type&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;string_to_sign&lt;space&gt;=&lt;space&gt;string_to_sign.encode&lt;openparen&gt;&lt;apos&gt;utf-8&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;signed_hmac_sha256&lt;space&gt;=&lt;space&gt;hmac.HMAC&lt;openparen&gt;key&lt;comma&gt;&lt;space&gt;string_to_sign&lt;comma&gt;&lt;space&gt;hashlib.sha256&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;digest&lt;space&gt;=&lt;space&gt;signed_hmac_sha256.digest&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;encoded_digest&lt;space&gt;=&lt;space&gt;AzureAPI._encode_base64&lt;openparen&gt;digest&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;space&gt;encoded_digest&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="ListFeatureProcessor"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="20"
#!   TYPE="XMLFragmenter"
#!   VERSION="3"
#!   POSITION="1583.88 128.001"
#!   BOUNDING_RECT="1583.88 128.001 -1 -1"
#!   ORDER="5e+14"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="FRAGMENTS"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_storage_account" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_key" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_container" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_status" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_error_message" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_azure_blob_lister_xml_response" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.BlobType" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Cache-Control" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Disposition" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Encoding" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Language" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Length" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-MD5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Content-Type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Etag" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.Last-Modified" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseState" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="Blob.Properties.LeaseStatus" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_matched_element" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_child_pos" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_parent_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="xml_fragment" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_XML" PARM_VALUE="_azure_blob_lister_xml_response"/>
#!     <XFORM_PARM PARM_NAME="FILE_XML" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS" PARM_VALUE="Blob"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_FORMAT_NAME" PARM_VALUE="XML"/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="Blob.Name Blob.Properties.BlobType Blob.Properties.Cache-Control Blob.Properties.Content-Disposition Blob.Properties.Content-Encoding Blob.Properties.Content-Language Blob.Properties.Content-Length Blob.Properties.Content-MD5 Blob.Properties.Content-Type Blob.Properties.Etag Blob.Properties.Last-Modified Blob.Properties.LeaseState Blob.Properties.LeaseStatus xml_id xml_matched_element xml_parent_child_pos xml_parent_id xml_type"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="XMLFragmenter"/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_TYPE" PARM_VALUE="Attribute with XML document"/>
#!     <XFORM_PARM PARM_NAME="EMBEDDED_EXPRESSIONS_EXCEPT" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="MERGE_ATTRS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="SUB_FRAGMENT_OPTIONS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FLATTEN_OPTIONS" PARM_VALUE="&lt;lf&gt;&lt;lt&gt;structure&lt;space&gt;separator=&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;map-empty-elements=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;matched-prefix=&lt;quote&gt;attributes&lt;quote&gt;&lt;space&gt;matched-attributes=&lt;quote&gt;yes&lt;quote&gt;&lt;space&gt;cardinality=&lt;quote&gt;+&lt;opencurly&gt;?&lt;closecurly&gt;&lt;quote&gt;&lt;space&gt;structure-prefix=&lt;quote&gt;Blob.&lt;quote&gt;&lt;space&gt;child-position-attribute=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;except-expression=&lt;quote&gt;&lt;quote&gt;&lt;space&gt;ui-mode=&lt;quote&gt;basic&lt;quote&gt;&lt;space&gt;matched-ancestor-attributes=&lt;quote&gt;&lt;quote&gt;&lt;solidus&gt;&lt;gt&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="ATTR_EXPOSE" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="FEATURE_PATHS_STRUCTURE_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XML_SOURCE_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="10"
#!   NAME="Input"
#!   POSITION="-758.008 -456.751"
#!   BOUNDING_RECT="-758.008 -456.751 -1 -1"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="12"
#!   NAME="Success"
#!   POSITION="2589.65 -112.251"
#!   BOUNDING_RECT="2589.65 -112.251 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="14"
#!   NAME="Fail"
#!   POSITION="2589.65 -362.503"
#!   BOUNDING_RECT="2589.65 -362.503 -1 -1"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="6"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="20"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="7"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 5"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="8"
#!   SOURCE_NODE="1"
#!   TARGET_NODE="5"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="9"
#!   SOURCE_NODE="5"
#!   TARGET_NODE="3"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="11"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="1"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="13"
#!   SOURCE_NODE="2"
#!   TARGET_NODE="12"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="15"
#!   SOURCE_NODE="4"
#!   TARGET_NODE="14"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="16"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 1"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="17"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 2"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="18"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 3"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="19"
#!   SOURCE_NODE="3"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 4"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="21"
#!   SOURCE_NODE="20"
#!   TARGET_NODE="2"
#!   SOURCE_PORT_DESC="fo 0"
#!   TARGET_PORT_DESC="fi 0"
#!   ENABLED="true"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_KEY 
DEFAULT_MACRO $(AzureBlobLister_WORKSPACE_NAME)_CONTAINER 
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO AzureBlobLister_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(AzureBlobLister_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Input1470657768 Input Splitter"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"
# -------------------------------------------------------------------------

FACTORY_DEF * AttrSetFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Input"    MULTI_FEATURE_MODE NO 	 NULL_ATTR_MODE NO_OP 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION "" "_azure_blob_lister_storage_account" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_ACCOUNT)"     ATTR_ACTION "" "_azure_blob_lister_key" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_KEY$encode)"     ATTR_ACTION "" "_azure_blob_lister_container" "SET_TO" "$($(AzureBlobLister_WORKSPACE_NAME)_CONTAINER)"    OUTPUT OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_OUTPUT"


# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_FetchParamsAttributeCreator_OUTPUT"    SYMBOL_NAME ListFeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE from<space>fmeobjects<space>import<space>FMELogFile<comma><space>FME_INFORM<comma><space>FME_WARN<comma><space>FME_ERROR<lf>from<space>cStringIO<space>import<space>StringIO<lf><lf>class<space>ListFeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>FMELogFile<openparen><closeparen><lf><space><space><space><space><space><space><space><space>#<space>Make<space>sure<space>to<space>change<space>if<space>Custom<space>transformer<space>is<space>renamed<space><openparen>not<space>transformer<space>instance<space>name<space>-<space>that<apos>s<space>what<space>we<apos>re<space>fetching<closeparen><space><lf><space><space><space><space><space><space><space><space>self.xformer_name<space>=<space>FME_MacroValues<openbracket><apos>AzureBlobLister_WORKSPACE_NAME<apos><closebracket><lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space>#self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.xformer_name<comma><space>message<closeparen><comma><space>FME_WARN<closeparen><space>#<space>while<space>developing<space>for<space>popping<space>out<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>account<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_storage_account<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>secret<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_key<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>azure<space>=<space>AzureAPI<openparen>account<comma><space>secret<comma><space>self.logfile<comma><space>logprefix<space>=<space>self.xformer_name<comma><space>loglevel<space>=<space>FME_INFORM<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>container<space>=<space>feature.getAttribute<openparen><apos>_azure_blob_lister_container<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>result<space>=<space>azure.list_blobs<openparen>container<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>success<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_xml_response<apos><comma><space>result.decode<openparen><quote>utf-8-sig<quote><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>except<space>Exception<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_status<apos><comma><space><apos>fail<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>_azure_blob_lister_error_message<apos><comma><space>str<openparen>e<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.logfile.logException<openparen>e<comma><space>FME_ERROR<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>del<space>self.logfile<lf><space><space><space><space><space><space><space><space><lf>#####<space>Code<space>below<space>*should*<space>be<space>more<space>or<space>less<space>standalone<space><openparen>no<space>bindings<space>to<space>fme<closeparen><space>#####<lf><space><space><space><space><space><space><space><space><lf>import<space>os<lf>import<space>requests<lf>from<space>collections<space>import<space>OrderedDict<lf>import<space>datetime<lf><lf><lf>import<space>base64<lf>import<space>uuid<lf>import<space>hashlib<lf>import<space>hmac<lf>import<space>sys<lf><lf>PUT_BLOB_LIMIT<space>=<space>1024<space>*<space>1024<space>*<space>64<space><space><space><space><space><space>#<space>64<space>MB<lf>PUT_BLOCK_CHUNK_SIZE<space>=<space>1024<space>*<space>1024<space>*<space>4<space>#<space>4<space>MB<lf>AZ_VERSION<space>=<space><apos>2015-02-21<apos><lf><lf>class<space>StdoutLogger<openparen>object<closeparen>:<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>simple<space>log<space>class<space>to<space>mimic<space>fme<space>api<lf><space><space><space><space><apos><apos><apos><lf><space><space><space><space>def<space>logMessageString<openparen>self<comma><space>msg<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>print<space>msg<lf><space><space><space><space>def<space>logException<openparen>self<comma><space>e<comma><space>level<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logMessageString<openparen>str<openparen>e<closeparen><comma><space>level<closeparen><lf>class<space>AzureAPI<openparen>object<closeparen>:<lf><space><space><space><space>if<space>sys.version_info<space><lt><space><openparen>3<comma><closeparen>:<lf><space><space><space><space><space><space><space><space>from<space>collections<space>import<space>Iterable<lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>unicode<lf><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space>from<space>collections.abc<space>import<space>Iterable<space>#<space>TODO:<space>this<space>code<space>was<space>found<space>somewhere<space>but<space>its<space>logic<space>is<space>not<space>clear<space>to<space>me...<space><lf><space><space><space><space><space><space><space><space>_unicode_type<space>=<space>str<lf><space><space><space><space>def<space>__init__<openparen>self<comma><space>account<comma><space>secret<comma><space>logfile<space>=<space>StdoutLogger<openparen><closeparen><comma><space>logprefix<space>=<space><apos><apos><comma><space>loglevel<space>=<space>0<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile<space>=<space>logfile<space><lf><space><space><space><space><space><space><space><space>self.logprefix<space>=<space>logprefix<lf><space><space><space><space><space><space><space><space>self.loglevel<space>=<space>loglevel<lf><space><space><space><space><space><space><space><space>self.account<space>=<space>account<lf><space><space><space><space><space><space><space><space>self.secret<space>=<space>secret<lf><space><space><space><space>def<space>info<openparen>self<comma><space>message<closeparen>:<lf><space><space><space><space><space><space><space><space>self.logfile.logMessageString<openparen><apos>%s:<space>%s<apos><space>%<space><openparen>self.logprefix<comma><space>message<closeparen><comma><space>self.loglevel<closeparen><lf><space><space><space><space>def<space>append_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=appendblock<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Appending<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:appendblock<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data<space>=<space>block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>ERROR<space>status<space>%s:<space>`%s`<apos><space>%<space><openparen>r.status_code<comma><space>_string_to_sign<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_block<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_data<closeparen>:<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>block_data<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space>block_id<space>=<space>base64.b64encode<openparen>uuid.uuid4<openparen><closeparen>.hex<closeparen><lf><space><space><space><space><space><space><space><space>#https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer<solidus>myblob?comp=block<amp>blockid=id<lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=block<amp>blockid=%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<comma><space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>block<space>of<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>blockid:%s<backslash>ncomp:block<apos><space>%<space>block_id<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=block_data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>block_id<lf><space><space><space><space>def<space>put_block_list<openparen>self<comma><space>container<comma><space>blob_name<comma><space>block_list<closeparen>:<lf><space><space><space><space><space><space><space><space>list_fragments<space>=<space><apos><apos>.join<openparen>map<openparen>lambda<space>s:<space><apos><lt>Uncommitted<gt><opencurly><closecurly><lt><solidus>Uncommitted<gt><apos>.format<openparen>s<closeparen><comma><space>block_list<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>data<space>=<space><apos><lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>utf-8<quote>?<gt><lt>BlockList<gt><opencurly><closecurly><lt><solidus>BlockList<gt><apos>.format<openparen>list_fragments<closeparen><lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s?comp=blocklist<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<comma><space><apos>comp:blocklist<apos><closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space>def<space>put_blob<openparen>self<comma><space>container<comma><space>blob_name<comma><space>fin<closeparen>:<lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_END<closeparen><lf><space><space><space><space><space><space><space><space>size<space>=<space>fin.tell<openparen><closeparen><lf><space><space><space><space><space><space><space><space>fin.seek<openparen>0<comma><space>os.SEEK_SET<closeparen><lf><space><space><space><space><space><space><space><space>if<space>size<space><lt><space>PUT_BLOB_LIMIT:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>fin.read<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>headers<openbracket><apos>x-ms-blob-type<apos><closebracket><space>=<space><apos>BlockBlob<apos><lf><space><space><space><space><space><space><space><space><space><space><space><space>self._authorize<openparen>headers<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container<comma><space>blob_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>data<space>to<space>blob<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>r<space>=<space>requests.put<openparen>url<comma><space>headers=headers<comma><space>data=data<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>201:<space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>ids<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>offset<space>in<space>range<openparen>0<comma><space>size<comma><space>PUT_BLOCK_CHUNK_SIZE<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.info<openparen><apos>Uploading<space>`%s`<comma><space>%s%%<apos><space>%<space><openparen>blob_name<comma><space>int<openparen>round<openparen>offset<space>*<space>100<space><solidus><space>size<closeparen><closeparen><space><closeparen><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>block_size<space>=<space>min<openparen>PUT_BLOCK_CHUNK_SIZE<comma><space>size<space>-<space>offset<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>ids.append<openparen>self.put_block<openparen>container<comma><space>blob_name<comma><space>fin.read<openparen>block_size<closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.put_block_list<openparen>container<comma><space>blob_name<comma><space>ids<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#self.info<openparen><apos>ID<space>LIST<space>COMMITTED:<space>%s<apos><space>%<space><apos><backslash>n<backslash>t<apos>.join<openparen>ids<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Done<space>uploading<space>%s<space>bytes<space>of<space>data<apos><space>%<space>size<closeparen><lf><space><space><space><space>def<space>list_blobs<openparen>self<comma><space>container<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>https:<solidus><solidus>myaccount.blob.core.windows.net<solidus>mycontainer?restype=container<amp>comp=list<lf><space><space><space><space><space><space><space><space>headers<space>=<space>AzureAPI._create_headers<openparen><closeparen><lf><space><space><space><space><space><space><space><space>url<space>=<space><apos>https:<solidus><solidus>%s.blob.core.windows.net<solidus>%s?restype=container<amp>comp=list<apos><space>%<space><openparen>self.account<comma><space>container<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space>self._authorize<openparen>headers<comma><space>container<comma><space>querystringencoded<space>=<space><apos>comp:list<backslash>nrestype:container<apos><comma><space>http_method<space>=<space><apos>GET<apos><closeparen><lf><space><space><space><space><space><space><space><space>#self.info<openparen>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>self.info<openparen><apos>Listing<space>blobs<space>using<space>url<space>%s<apos><space>%<space>url<closeparen><lf><space><space><space><space><space><space><space><space>r<space>=<space>requests.get<openparen>url<comma><space>headers=headers<closeparen><lf><space><space><space><space><space><space><space><space>if<space>r.status_code<space>!=<space>200:<lf><space><space><space><space><space><space><space><space><space><space><space><space>raise<space>Exception<openparen>str<openparen>r.content<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>return<space>r.content<lf><space><space><space><space>def<space>_authorize<openparen>self<comma><space>headers<comma><space>container_name<comma><space>blob_name<space>=<space>None<comma><space>querystringencoded<space>=<space>None<comma><space>http_method<space>=<space><apos>PUT<apos><closeparen>:<lf><space><space><space><space><space><space><space><space>content_length<space>=<space><apos><apos><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>Content-Length<apos><closeparen><space>!=<space><apos>0<apos>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>content_length<space>=<space>headers.get<openparen><apos>Content-Length<apos><closeparen><lf><space><space><space><space><space><space><space><space>fields<space>=<space><openbracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>http_method<space>#<space>VERB<space><openparen>http-method<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Encoding<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-Language<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>content_length<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Content-MD5<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space>headers.get<openparen><apos>Date<apos><comma><apos><apos><closeparen><space>#<space>Date<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Modified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-None-Match<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>If-Unmodified-Since<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>Range<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos><apos><space>#<space>?<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><closebracket><lf><space><space><space><space><space><space><space><space>if<space>headers.get<openparen><apos>x-ms-blob-type<apos><comma><space>None<closeparen>:<space>fields.append<openparen><apos>x-ms-blob-type:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-blob-type<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-date:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-date<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>fields.append<openparen><apos>x-ms-version:%s<apos><space>%<space>headers.get<openparen><apos>x-ms-version<apos><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>blob_name:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<comma><space>blob_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>fields.append<openparen><apos><solidus>%s<solidus>%s<apos><space>%<space><openparen>self.account<comma><space>container_name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space>if<space>querystringencoded:<space>fields.append<openparen>querystringencoded<closeparen><lf><space><space><space><space><space><space><space><space>_string_to_sign<space>=<space><apos><backslash>n<apos>.join<openparen>fields<closeparen><lf><space><space><space><space><space><space><space><space>signature<space>=<space>AzureAPI._sign_string<openparen>self.secret<space><comma><space>_string_to_sign<closeparen><lf><space><space><space><space><space><space><space><space>headers<openbracket><apos>Authorization<apos><closebracket><space>=<space><apos>SharedKey<space>%s:%s<apos><space>%<space><openparen>self.account<comma><space>signature<closeparen><lf><space><space><space><space><space><space><space><space>return<space>_string_to_sign<lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_create_headers<openparen>data<space>=<space><apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space>return<space>OrderedDict<openparen><opencurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><apos>Content-Length<apos>:<space>str<openparen>len<openparen>data<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-date<apos>:<space>AzureAPI._httpdate<openparen>datetime.datetime.utcnow<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><comma><space><apos>x-ms-version<apos>:<space>AZ_VERSION<lf><space><space><space><space><space><space><space><space><space><space><space><space><closecurly><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_httpdate<openparen>dt<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Return<space>a<space>string<space>representation<space>of<space>a<space>date<space>according<space>to<space>RFC<space>1123<lf><space><space><space><space><space><space><space><space><openparen>HTTP<solidus>1.1<closeparen>.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space>The<space>supplied<space>date<space>must<space>be<space>in<space>UTC.<lf><space><space><space><space><lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>weekday<space>=<space><openbracket><quote>Mon<quote><comma><space><quote>Tue<quote><comma><space><quote>Wed<quote><comma><space><quote>Thu<quote><comma><space><quote>Fri<quote><comma><space><quote>Sat<quote><comma><space><quote>Sun<quote><closebracket><openbracket>dt.weekday<openparen><closeparen><closebracket><lf><space><space><space><space><space><space><space><space>month<space>=<space><openbracket><quote>Jan<quote><comma><space><quote>Feb<quote><comma><space><quote>Mar<quote><comma><space><quote>Apr<quote><comma><space><quote>May<quote><comma><space><quote>Jun<quote><comma><space><quote>Jul<quote><comma><space><quote>Aug<quote><comma><space><quote>Sep<quote><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Oct<quote><comma><space><quote>Nov<quote><comma><space><quote>Dec<quote><closebracket><openbracket>dt.month<space>-<space>1<closebracket><lf><space><space><space><space><space><space><space><space>return<space><quote>%s<comma><space>%02d<space>%s<space>%04d<space>%02d:%02d:%02d<space>GMT<quote><space>%<space><openparen>weekday<comma><space>dt.day<comma><space>month<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>dt.year<comma><space>dt.hour<comma><space>dt.minute<comma><space>dt.second<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_encode_base64<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>encoded<space>=<space>base64.b64encode<openparen>data<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded.decode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_decode_base64_to_bytes<openparen>data<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>data<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>data<space>=<space>data.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>return<space>base64.b64decode<openparen>data<closeparen><lf><space><space><space><space><at>staticmethod<lf><space><space><space><space>def<space>_sign_string<openparen>key<comma><space>string_to_sign<comma><space>key_is_base64=True<closeparen>:<lf><space><space><space><space><space><space><space><space>if<space>key_is_base64:<lf><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>AzureAPI._decode_base64_to_bytes<openparen>key<closeparen><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>key<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>key<space>=<space>key.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>isinstance<openparen>string_to_sign<comma><space>AzureAPI._unicode_type<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>string_to_sign<space>=<space>string_to_sign.encode<openparen><apos>utf-8<apos><closeparen><lf><space><space><space><space><space><space><space><space>signed_hmac_sha256<space>=<space>hmac.HMAC<openparen>key<comma><space>string_to_sign<comma><space>hashlib.sha256<closeparen><lf><space><space><space><space><space><space><space><space>digest<space>=<space>signed_hmac_sha256.digest<openparen><closeparen><lf><space><space><space><space><space><space><space><space>encoded_digest<space>=<space>AzureAPI._encode_base64<openparen>digest<closeparen><lf><space><space><space><space><space><space><space><space>return<space>encoded_digest<lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_OUTPUT"

# -------------------------------------------------------------------------
Lookup $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_AttributeFilterLut   success ok   fail ok   "" notok   ENCODED

Tcl2 proc $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_setFeatType {} {     global FME_FeatureType;     set ft {$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_};     append ft [FME_EncodeText [FME_GetAttribute [FME_DecodeText {_azure_blob_lister_status}]]];     set FME_FeatureType $ft; }
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_PythonCaller_OUTPUT"    TEST @Lookup($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_AttributeFilterLut,_azure_blob_lister_status,ENCODED_ATTR) == "ok"    OUTPUT PASSED FEATURE_TYPE * @Tcl2($(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_setFeatType)    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<NULL>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_NullFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<NULL>    TEST _azure_blob_lister_status ATTRIBUTE_VALUE_NULL "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<NULL>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<MISSING>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_MissingFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<MISSING>    TEST _azure_blob_lister_status ATTRIBUTE_IS_MISSING "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<MISSING>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<UNFILTERED>
FACTORY_DEF * TestFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_BlankFilter    INPUT FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<UNFILTERED>    TEST _azure_blob_lister_status ATTRIBUTE_IS_EMPTY "" ENCODED    OUTPUT PASSED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<EMPTY>    OUTPUT FAILED FEATURE_TYPE $(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<UNFILTERED>



# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_2_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_2    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<MISSING>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_fail"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<EMPTY>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<UNFILTERED>"    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_<NULL>"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_2_OUTPUT"        @RemoveAttributes(fme_encoded,_azure_blob_lister_key,_azure_blob_lister_xml_response,_azure_blob_lister_status,_azure_blob_lister_storage_account,_azure_blob_lister_error_message)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_2_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * XFMapFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeFilter_success"    XML_STREAM "_azure_blob_lister_xml_response"    XFMAP_FEATURE_PATHS_EXPRESSION "Blob"    XFMAP_FEATURE_PATHS_STRUCTURE "<lf><lt>structure<space>separator=<quote>.<quote><space>map-empty-elements=<quote>yes<quote><space>matched-prefix=<quote>attributes<quote><space>matched-attributes=<quote>yes<quote><space>cardinality=<quote>+<opencurly>?<closecurly><quote><space>structure-prefix=<quote>Blob.<quote><space>child-position-attribute=<quote><quote><space>except-expression=<quote><quote><space>ui-mode=<quote>basic<quote><space>matched-ancestor-attributes=<quote><quote><solidus><gt><lf>"    MERGE_ATTRIBUTES_FROM_INPUT Yes    OUTPUT MAPPED FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_FRAGMENTS"

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_XMLFragmenter_FRAGMENTS"    OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,Blob.Properties.Content-Disposition,Blob.Properties.Last-Modified,xml_type,Blob.Properties.LeaseState,Blob.Properties.Content-MD5,xml_parent_id,_azure_blob_lister_status,xml_parent_child_pos,xml_matched_element,Blob.Properties.LeaseStatus,_azure_blob_lister_key,_azure_blob_lister_container,_azure_blob_lister_xml_response,Blob.Properties.Content-Type,_azure_blob_lister_storage_account,Blob.Properties.Content-Encoding,_azure_blob_lister_error_message,Blob.Properties.Etag,Blob.Properties.Content-Language,xml_fragment,xml_id)        @RemoveAttributes(fme_pcre_match"$($(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Success1470657768 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Success"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(AzureBlobLister_WORKSPACE_NAME)_Fail1470657768 Output Collector"   INPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_AttributeRemover_2_OUTPUT"   OUTPUT FEATURE_TYPE "$(AzureBlobLister_WORKSPACE_NAME)_Fail"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(AzureBlobLister_WORKSPACE_NAME))}]







